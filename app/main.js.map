{"version":3,"file":"main.js","sources":["../src/js/store-schema.js","../src/js/reducers.js","../src/js/GambierStore.js","../src/js/projectDirectory.js","../src/js/mainMenu.js","../src/main.js"],"sourcesContent":["export const StoreSchema = {\n\n  appStartupTime: {\n    type: 'string',\n    default: 'undefined'\n  },\n  \n  projectDirectory: {\n    descrition: 'User specified directory that contains their project files',\n    type: 'string',\n    default: 'undefined'\n  },\n\n  lastOpenedFile: {\n    description: 'id of the last opened file.',\n    type: 'string',\n    default: 'undefined'\n  },\n\n  hierarchy: {\n    description: 'Snapshot of hierarchy of project directory: files and directories. This is a recursive setup: directories can contain directories. Per: https://json-schema.org/understanding-json-schema/structuring.html#id1. Note: `id` can be anything, but it must be present, or our $refs will not work.',\n    $schema: \"http://json-schema.org/draft-07/schema#\",\n    $id: \"anything-could-go-here\",\n    definitions: {\n      'fileOrDirectory': {\n        type: 'object',\n        required: ['typeOf', 'name', 'path'],\n        properties: {\n          typeOf: { type: 'string', enum: ['File', 'Directory'] },\n          name: { type: 'string' },\n          path: { type: 'string' },\n          created: { type: 'string', format: 'date-time' },\n          modified: { type: 'string', format: 'date-time' },\n          children: {\n            type: 'array',\n            items: { $ref: '#/definitions/fileOrDirectory' }\n          }\n        }\n      }\n    },\n    type: 'array',\n    items: { $ref: '#/definitions/fileOrDirectory' },\n    default: []\n  }\n}","import * as Actions from './actions'\n\nconst initialState = {}\n\nfunction reducers(state = initialState, action) {\n  // console.log(action)\n  switch (action.type) {\n    case 'SET_PROJECT_DIRECTORY':\n      return Object.assign({}, state, {\n        projectDirectory: action.path\n      })\n    case 'OPEN_FILE':\n      return Object.assign({}, state, {\n        lastOpened: action.fileName\n      })\n    case 'SET_STARTUP_TIME':\n      return Object.assign({}, state, {\n        appStartupTime: action.time\n      })\n    case 'UPDATE_HIERARCHY':\n      return Object.assign({}, state, {\n        hierarchy: action.contents\n      })\n    case 'RESET_HIERARCHY':\n      return Object.assign({}, state, {\n        hierarchy: []\n      })\n    default:\n      return state\n  }\n}\n\nexport default reducers","import Store from 'electron-store'\nimport { StoreSchema } from './store-schema'\nimport reducers from './reducers'\n\nclass GambierStore extends Store {\n  constructor() {\n    // Note `Super` lets us access and call functions on object's parent (MDN)\n    // We pass in our config options for electron-store\n    // Per: https://github.com/sindresorhus/electron-store#options\n    super({\n      name: \"store\",\n      schema: StoreSchema\n    })\n  }\n\n  getCurrentState() {\n    return this.store\n  }\n\n  dispatch(action) {\n    let nextState = reducers(this.getCurrentState(), action)\n    this.set(nextState)\n  }\n}\n\nexport const store = new GambierStore()","import { readdir, readFile, pathExists, stat } from 'fs-extra'\nimport chokidar from 'chokidar'\nimport path from 'path'\n\nclass ProjectDirectory {\n\n  constructor() {\n    this.store\n    this.directory = ''\n\n    this.watcher = chokidar.watch('', {\n      ignored: /(^|[\\/\\\\])\\../, // Ignore dotfiles\n      ignoreInitial: true,\n      persistent: true,\n      awaitWriteFinish: {\n        stabilityThreshold: 200,\n        pollInterval: 50\n      }\n    })\n\n    this.watcher.on('all', (event, path) => {\n      console.log('- - - - - - - -')\n      console.log(event)\n      console.log(path)\n      // this.mapProjectHierarchy(this.directory)\n    })\n  }\n\n  async setup(store) {\n\n    this.store = store\n    this.directory = store.store.projectDirectory\n    \n    // Check if path is valid\n    if (await this.isWorkingPath(this.directory)) {\n      this.mapProjectHierarchy(this.directory)\n      this.watcher.add(this.directory)\n    }\n\n    // Setup change listener for store\n    this.store.onDidAnyChange((newState, oldState) => {\n      this.onStoreChange(newState, oldState)\n    })\n  }\n\n  async isWorkingPath(directory) {\n\n    if (directory == 'undefined') {\n      return false\n    } else {\n      if (await pathExists(directory)) {\n        return true\n      } else {\n        return false\n      }\n    }\n  }\n\n  async onStoreChange(newState, oldState) {\n\n    let newDir = newState.projectDirectory\n    let oldDir = oldState.projectDirectory\n\n    // We update the local saved directory value\n    this.directory = newDir\n\n    // If the directory has changed...\n    if (newDir !== oldDir) {\n\n      // We unwatch the old directory (if it wasn't undefined)\n      if (oldDir !== 'undefined') this.watcher.unwatch(oldDir)\n\n      // If the new directory exists, we map it and watch it\n      if (await this.isWorkingPath(newDir)) {\n        this.mapProjectHierarchy(newDir)\n        this.watcher.add(newDir)\n      } else {\n        // Else, if it doesn't exist, we reset the hierarchy (clear contents)\n        this.store.dispatch({ type: 'RESET_HIERARCHY' })\n      }\n    }\n  }\n\n  async mapProjectHierarchy(directory) {\n\n    let name = directory.substring(directory.lastIndexOf('/') + 1)\n\n    let contents = await getDirectoryContents(new Directory(name, directory))\n\n    this.store.dispatch({ type: 'UPDATE_HIERARCHY', contents: [contents] })\n  }\n}\n\n\n// -------- Project directory -------- //\n\nfunction Directory(name, path, children = []) {\n  this.typeOf = 'Directory'\n  this.name = name\n  this.path = path\n  this.children = children\n}\n\nfunction File(name, path, created, modified) {\n  this.typeOf = 'File'\n  this.name = name\n  this.path = path\n  this.created = created\n  this.modified = modified\n}\n\nasync function getDirectoryContents(directoryObject) {\n\n  let directoryPath = directoryObject.path\n\n  let contents = await readdir(directoryPath, { withFileTypes: true })\n\n  // Remove .DS_Store files\n  contents = contents.filter((c) => c.name !== '.DS_Store')\n\n  for (let c of contents) {\n    if (c.isDirectory()) {\n      const subPath = path.join(directoryPath, c.name)\n      const subDir = new Directory(c.name, subPath)\n      const subDirContents = await getDirectoryContents(subDir)\n      const hasFilesWeCareAbout = subDirContents.children.find((s) => s.name.includes('.md')) == undefined ? false : true\n      if (hasFilesWeCareAbout)\n        directoryObject.children.push(subDirContents)\n    } else if (c.name.includes('.md')) {\n      const filePath = path.join(directoryPath, c.name)\n      const stats = await stat(filePath)\n      const created = stats.birthtime.toISOString()\n      const modified = stats.mtime.toISOString()\n      let file = new File(c.name, filePath, created, modified)\n      directoryObject.children.push(file)\n    }\n  }\n  return directoryObject\n}\n\nexport const projectDirectory = new ProjectDirectory()","import { Menu } from 'electron'\nimport electron from 'electron'\n\nconst app = electron.app\n\n// const { Menu } = require('electron')\n// const electron = require('electron')\n// const app = electron.app\n\nconst template = [\n  {\n    label: 'Edit',\n    submenu: [\n      {\n        role: 'undo'\n      },\n      {\n        role: 'redo'\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'cut'\n      },\n      {\n        role: 'copy'\n      },\n      {\n        role: 'paste'\n      },\n      {\n        role: 'pasteandmatchstyle'\n      },\n      {\n        role: 'delete'\n      },\n      {\n        role: 'selectall'\n      }\n    ]\n  },\n  {\n    label: 'View',\n    submenu: [\n      {\n        label: 'Reload',\n        accelerator: 'CmdOrCtrl+R',\n        click(item, focusedWindow) {\n          if (focusedWindow) focusedWindow.reload()\n        }\n      },\n      {\n        label: 'Toggle Developer Tools',\n        accelerator: process.platform === 'darwin' ? 'Alt+Command+I' : 'Ctrl+Shift+I',\n        click(item, focusedWindow) {\n          if (focusedWindow) focusedWindow.webContents.toggleDevTools()\n        }\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'resetzoom'\n      },\n      {\n        role: 'zoomin'\n      },\n      {\n        role: 'zoomout'\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'togglefullscreen'\n      }\n    ]\n  },\n  {\n    role: 'window',\n    submenu: [\n      {\n        role: 'minimize'\n      },\n      {\n        role: 'close'\n      }\n    ]\n  },\n  {\n    role: 'help',\n    submenu: [\n      {\n        label: 'Learn More',\n        click() { require('electron').shell.openExternal('http://electron.atom.io') }\n      }\n    ]\n  }\n]\n\nif (process.platform === 'darwin') {\n  const name = app.name\n  template.unshift({\n    label: name,\n    submenu: [\n      {\n        role: 'about'\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'services',\n        submenu: []\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'hide'\n      },\n      {\n        role: 'hideothers'\n      },\n      {\n        role: 'unhide'\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'quit'\n      }\n    ]\n  })\n  // Edit menu.\n  template[1].submenu.push(\n    {\n      type: 'separator'\n    },\n    {\n      label: 'Speech',\n      submenu: [\n        {\n          role: 'startspeaking'\n        },\n        {\n          role: 'stopspeaking'\n        }\n      ]\n    }\n  )\n  // Window menu.\n  template[3].submenu = [\n    {\n      label: 'Close',\n      accelerator: 'CmdOrCtrl+W',\n      role: 'close'\n    },\n    {\n      label: 'Minimize',\n      accelerator: 'CmdOrCtrl+M',\n      role: 'minimize'\n    },\n    {\n      label: 'Zoom',\n      role: 'zoom'\n    },\n    {\n      type: 'separator'\n    },\n    {\n      label: 'Bring All to Front',\n      role: 'front'\n    }\n  ]\n}\n\nexport function create() {\n  const menu = Menu.buildFromTemplate(template)\n  Menu.setApplicationMenu(menu)\n}\n","// External dependencies\nimport { app, BrowserWindow, ipcMain } from 'electron'\nimport path from 'path'\nimport { readdir, readFile, pathExists, stat } from 'fs-extra'\n\n// Bundled dependencies\nimport { store } from './js/GambierStore'\nimport { projectDirectory } from './js/projectDirectory'\nimport * as mainMenu from './js/mainMenu'\n\n\n// -------- Process variables -------- //\n\nprocess.env.ELECTRON_DISABLE_SECURITY_WARNINGS = true\n\n// -------- Reload -------- //\n\n// Not sure how this works with our packaged build. Want it for dev, but not distribution.\nconst watchAndHardReset = [\n  path.join(__dirname, '**/*.js'),\n  path.join(__dirname, '**/*.html'),\n  path.join(__dirname, '**/*.css'),\n  path.join(__dirname, '**/*.xml')\n  // 'main.js',\n  // '**/*.js',\n  // '**/*.html',\n  // '**/*.css',\n  // '**/*.xml',\n  // '**/*.png',\n  // '**/*.jpg',\n]\n\nrequire('electron-reload')(watchAndHardReset, {\n  // awaitWriteFinish: {\n  //   stabilityThreshold: 10,\n  //   pollInterval: 50\n  // },\n  electron: path.join(__dirname, '../node_modules', '.bin', 'electron'),\n  argv: ['--inspect=5858'],\n})\n\n// -------- Create window -------- //\n\n// Keep a global reference of the window object, if you don't, the window will be closed automatically when the JavaScript object is garbage collected.\nlet win\n\nfunction createWindow() {\n\n  // Create the browser window.\n  win = new BrowserWindow({\n    width: 1000,\n    height: 800,\n    webPreferences: {\n      allowRunningInsecureContent: false,\n      contextIsolation: true,\n      enableRemoteModule: false,\n      nativeWindowOpen: false,\n      nodeIntegration: false,\n      nodeIntegrationInWorker: false,\n      nodeIntegrationInSubFrames: false,\n      safeDialogs: true,\n      sandbox: true,\n      webSecurity: true,\n      webviewTag: false,\n      preload: path.join(__dirname, 'js/preload.js')\n    }\n\n  })\n\n  // Open DevTools\n  win.webContents.openDevTools();\n\n  // Load index.html\n  win.loadFile(path.join(__dirname, 'index.html'))\n\n  // Populate OS menus\n  mainMenu.create()\n\n  // Setup project directory\n  projectDirectory.setup(store)\n\n\n  // Send state to render process once dom is ready\n  win.webContents.once('dom-ready', () => {\n    win.webContents.send('setInitialState', store.getCurrentState())\n  })\n\n  // -------- TEMP DEVELOPMENT STUFF -------- //\n  // store.clear()\n  // store.reset()\n  // This triggers a change event, which subscribers then receive\n  // store.dispatch({ type: 'SET_STARTUP_TIME', time: new Date().toISOString() })\n\n  // setTimeout(() => {\n  //   store.dispatch({type: 'SET_PROJECT_DIRECTORY', path: '/Users/josh/Documents/Climate\\ research/GitHub/climate-research/src'})\n  // }, 2000)\n\n  // setTimeout(() => {\n  //   store.dispatch({type: 'SET_PROJECT_DIRECTORY', path: '/Users/arasd'})\n  // }, 4000)\n\n  // setTimeout(() => {\n  //   store.dispatch({type: 'SET_PROJECT_DIRECTORY', path: '/Users/josh/Documents/Climate\\ research/GitHub/climate-research/src/Notes'})\n  // }, 6000)\n}\n\n\n// -------- Kickoff -------- //\n\n// Set this to shut up console warnings re: deprecated default \n// If not set, it defaults to `false`, and console then warns us it will default `true` as of Electron 9.\n// Per: https://github.com/electron/electron/issues/18397\napp.allowRendererProcessReuse = true\n\napp.whenReady().then(createWindow)\n\n\n// -------- Store -------- //\n\nstore.onDidAnyChange((newState, oldState) => {\n  win.webContents.send('stateChanged', newState, oldState)\n})\n\n\n// -------- IPC: Send/Receive -------- //\n\nipcMain.on('dispatch', (event, action) => {\n  store.dispatch(action)\n})\n\n\n// -------- IPC: Invoke -------- //\n\nipcMain.handle('readFile', async (event, fileName, encoding) => {\n  let file = await readFile(path.join(__dirname, fileName), encoding)\n  return file\n})\n\nipcMain.handle('ifPathExists', async (event, filepath) => {\n  const exists = await pathExists(filepath)\n  return { path: filepath, exists: exists }\n})\n\nipcMain.handle('getStore', async (event) => {\n  return store.store\n})"],"names":["pathExists","readdir","stat","electron","Menu","BrowserWindow","mainMenu.create","app","ipcMain","readFile"],"mappings":"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"}