{"version":3,"file":"main.js","sources":["../src/js/main/reducers.js","../src/js/main/Store.js","../src/js/shared/utils.js","../src/js/main/AppearanceManager.js","../src/js/main/DbManager.js","../src/js/main/actions/deleteFile.js","../src/js/main/actions/deleteFiles.js","../src/js/main/actions/saveDoc.js","../src/js/main/actions/selectProjectDirectoryFromDialog.js","../src/js/main/actions/selectCitationsFileFromDialog.js","../src/js/main/IpcManager.js","../src/js/main/MenuBarManager.js","../src/js/main/watcher/mapDocument.js","../src/js/main/watcher/mapMedia.js","../src/js/main/watcher/mapFolder.js","../src/js/main/watcher/mapProject.js","../src/js/main/watcher/Watcher.js","../src/js/main/WindowManager.js","../src/js/main/ProjectManager.js","../src/js/main/PreferencesManager.js","../src/js/main/main.js"],"sourcesContent":["import { BrowserWindow, dialog } from 'electron'\nimport produce, { enablePatches } from 'immer'\nimport { newProject, newPanel } from './Store.js'\nimport { accessSync, renameSync, existsSync, readdirSync } from 'fs-extra'\nimport fs from 'fs'\nimport path from 'path'\nimport { nanoid } from 'nanoid/non-secure'\n\nenablePatches()\n\nfunction isDirectoryAccessible(directory) {\n  try {\n    accessSync(directory, fs.constants.W_OK)\n    return true\n  } catch (err) {\n    return false\n  }\n}\n\n\nexport const update = (state, action, window) =>\n  produce(state, (draft) => {\n\n    // Set a few useful, commonly-used variables\n    // const project = window?.projectId !== undefined ? draft.projects.byId[window.projectId] : undefined\n    const project = draft.projects.byId[window?.projectId]\n\n    switch (action.type) {\n\n\n      // ------------------------ APP-WIDE ------------------------ //\n\n      case 'START_COLD_START': {\n\n        // Update appStatus \n        draft.appStatus = 'coldStarting'\n\n        // Delete existing projects that 1) are missing their directory, or 2) have an inaccessible directory\n        if (draft.projects.allIds.length) {\n          draft.projects.allIds.forEach((id) => {\n\n            const project = draft.projects.byId[id]\n            const directoryIsMissing = !project.directory\n            const directoryIsInaccessible = !isDirectoryAccessible(project.directory)\n\n            if (directoryIsMissing || directoryIsInaccessible) {\n              delete draft.projects.byId[id]\n            }\n          })\n\n          // Update `allIds` to match `byId`\n          draft.projects.allIds = Object.keys(draft.projects.byId)\n        }\n\n        // If there are no projects, create a new empty one.\n        if (!draft.projects.allIds.length) {\n          const id = nanoid()\n          draft.projects.byId[id] = { ...newProject }\n          draft.projects.allIds.push(id)\n        }\n\n        // Close preferences\n        draft.prefs.isOpen = false\n\n        break\n      }\n\n      case 'FINISH_COLD_START': {\n        draft.appStatus = 'open'\n        break\n      }\n\n      case 'START_TO_QUIT': {\n        draft.appStatus = 'wantsToQuit'\n        break\n      }\n\n      // case 'CAN_SAFELY_QUIT': {\n      //   draft.appStatus = 'canSafelyQuit'\n      //   break\n      // }\n\n      // FOCUSED/UNFOCUSED WINDOW\n\n      case 'FOCUSED_WINDOW': {\n        draft.focusedWindowId = window.projectId\n        break\n      }\n\n      case 'NO_WINDOW_FOCUSED': {\n        draft.focusedWindowId = \"\"\n        break\n      }\n\n      // PREFERENCES\n\n      case 'OPEN_PREFERENCES': {\n        draft.prefs.isOpen = true\n        break\n      }\n\n      case 'CLOSE_PREFERENCES': {\n        draft.prefs.isOpen = false\n        break\n      }\n\n      // APPEARANCE\n\n      case 'SET_APP_THEME': {\n        draft.theme.app = action.theme\n        break\n      }\n\n      case 'SAVE_CHROMIUM_VALUES': {\n        draft.chromium = action.values\n        break\n      }\n\n      case 'SAVE_COLORS': {\n        draft.colors = action.colors\n        break\n      }\n\n\n\n\n      // ------------------------ PROJECT-SPECIFIC ------------------------ //\n\n      // CREATE, EDIT, REMOVE\n\n      case 'CREATE_NEW_PROJECT': {\n        const id = nanoid()\n        draft.projects.byId[id] = { ...newProject }\n        draft.projects.allIds.push(id)\n        break\n      }\n\n      case 'REMOVE_PROJECT': {\n        delete draft.projects.byId[window.projectId]\n        draft.projects.allIds = Object.keys(draft.projects.byId)\n        break\n      }\n\n      case 'SET_PROJECT_DIRECTORY': {\n        // Do we have write permissions for the selected directory? If yes, proceed. \n        // Else, if current directory is valid, keep using it.\n        // Else, set directory as blank.\n        if (isDirectoryAccessible(action.directory)) {\n          project.directory = action.directory\n        } else {\n          if (isDirectoryAccessible(project.directory)) {\n            // Do nothing\n          } else {\n            project.directory = \"\"\n          }\n        }\n\n        // Reset panels\n        project.focusedPanelIndex = 0\n        project.panels = [{ ...newPanel, id: nanoid() }]\n        break\n      }\n\n      case 'SET_PROJECT_CITATIONS_FILE': {\n        // Do we have read and write permissions for the selected file?\n        // If yes, proceed.\n        // See: https://nodejs.org/api/fs.html#fs_fs_accesssync_path_mode\n        try {\n          accessSync(action.path, fs.constants.W_OK)\n          project.citations = action.path\n        } catch (err) {\n          console.log(err)\n        }\n        break\n      }\n\n      // PROJECT WINDOW\n\n      case 'OPENED_PROJECT_WINDOW': {\n        // Update window status\n        project.window.status = 'open'\n        break\n      }\n\n      case 'START_TO_CLOSE_PROJECT_WINDOW': {\n        project.window.status = 'wantsToClose'\n        break\n      }\n\n      case 'CAN_SAFELY_CLOSE_PROJECT_WINDOW': {\n\n        project.window.status = 'safeToClose'\n\n        // Every time a window marks itself 'safeToClose', check if the app is quitting. If true, check if all windows are 'safeToClose' yet. If true, we can safely quit the app.\n\n        if (draft.appStatus == 'wantsToQuit') {\n\n          const allWindowsAreSafeToClose = draft.projects.allIds.every((id) => {\n            const windowStatus = draft.projects.byId[id].window.status\n            return windowStatus == 'safeToClose'\n          })\n\n          if (allWindowsAreSafeToClose) {\n            draft.appStatus = 'canSafelyQuit'\n          }\n        }\n\n        break\n      }\n\n      // Save window bounds to state, so we can restore later\n      case 'SAVE_PROJECT_WINDOW_BOUNDS': {\n        project.window.bounds = action.windowBounds\n        break\n      }\n\n      case 'PROJECT_WINDOW_DRAG_OVER': {\n        project.window.isDraggedOver = true\n        break\n      }\n\n      case 'PROJECT_WINDOW_DRAG_LEAVE': {\n        project.window.isDraggedOver = false\n        break\n      }\n\n      case 'SET_LAYOUT_FOCUS': {\n        project.focusedSectionId = action.section\n        break\n      }\n\n      // case 'SET_DRAGGED_FILE': {\n      //   project.draggedFileId = action.id\n      //   break\n      // }\n\n      // SIDEBAR\n\n      case 'SELECT_SIDEBAR_TAB_BY_ID': {\n        project.sidebar.activeTabId = action.id\n        break\n      }\n\n      case 'SELECT_SIDEBAR_TAB_BY_INDEX': {\n        project.sidebar.activeTabId = project.sidebar.tabsAll[action.index]\n        break\n      }\n\n      case 'SIDEBAR_SET_SORTING': {\n        const tab = project.sidebar.tabsById[action.tabId]\n        if (tab.sortBy) {\n          tab.sortBy = action.sortBy\n        }\n        if (tab.sortOrder) {\n          tab.sortOrder = action.sortOrder\n        }\n        break\n      }\n\n      case 'SIDEBAR_SET_EXPANDED': {\n        const tab = project.sidebar.tabsById[action.tabId]\n        tab.expanded = action.expanded\n        break\n      }\n\n      case 'SIDEBAR_SET_SELECTED': {\n        const tab = project.sidebar.tabsById[action.tabId]\n        tab.lastSelected = action.lastSelected\n        tab.selected = action.selected\n        break\n      }\n\n      case 'SIDEBAR_SELECT_TAGS': {\n        const tab = project.sidebar.tabsById[action.tabId]\n        tab.selectedTags = action.tags\n        break\n      }\n\n      case 'SIDEBAR_SET_SEARCH_OPTIONS': {\n        const tab = project.sidebar.tabsById.search\n        tab.options = action.options\n        break\n      }\n\n      case 'SIDEBAR_TOGGLE_EXPANDABLE': {\n        const tab = project.sidebar.tabsById[action.tabId]\n        tab[action.expandable].isOpen = !tab[action.expandable].isOpen\n        break\n      }\n\n      case 'TOGGLE_SIDEBAR_PREVIEW': {\n        project.sidebar.isPreviewOpen = !project.sidebar.isPreviewOpen\n        break\n      }\n\n      // PANEL\n\n      case 'OPEN_DOC_IN_PANEL': {\n        const panel = project.panels[action.panelIndex]\n        panel.docId = action.docId\n        panel.unsavedChanges = false\n        break\n      }\n\n      case 'OPEN_DOC_IN_FOCUSED_PANEL': {\n        const focusedPanel = project.panels[project.focusedPanelIndex]\n        focusedPanel.docId = action.docId\n        focusedPanel.unsavedChanges = false\n        break\n      }\n\n      case 'OPEN_NEW_PANEL': {\n\n        // Insert new panel at specified index\n        project.panels.splice(action.panelIndex, 0, {\n          ...newPanel,\n          id: nanoid(),\n          docId: action.docId,\n        })\n\n        // Update panel indexes\n        project.panels.forEach((p, i) => p.index = i)\n\n        // Focus new panel\n        project.focusedPanelIndex = action.panelIndex\n\n        // Set all panels equal width\n        const panelWidth = (100 / project.panels.length).toFixed(1)\n        project.panels.forEach((p) => p.width = panelWidth)\n\n        break\n      }\n\n      case 'MOVE_PANEL': {\n\n        // Delete the panel from it's current position.\n        // Splice returns the moved panel's array item.\n        const movedPanel = project.panels.splice(action.fromIndex, 1);\n\n        // Move the item to its new position\n        project.panels.splice(action.toIndex, 0, movedPanel[0]);\n\n        // Update panel indexes\n        project.panels.forEach((p, i) => p.index = i)\n\n        // Focus the panel  \n        project.focusedPanelIndex = action.toIndex\n\n        break\n      }\n\n      case 'CLOSE_PANEL': {\n        project.panels.splice(action.panelIndex, 1)\n\n        // Set all panels to equal percentage of total\n        const panelWidth = (100 / project.panels.length).toFixed(1)\n        project.panels.forEach((p) => p.width = panelWidth)\n\n        // Update focusedPanel:\n        // If there is only one panel left, focus it. Else...\n        // * If it was to LEFT of the closed panel, the value is unchanged.\n        // * If it WAS closed the closed panel, the value is unchanged (this will focus the adjacent panel).\n        // * ...unless it was the panel furthest right, in which case we focus the new last panel.\n        // * If it was to RIGHT of the closed panel, decrement the value by one.\n\n        if (project.panels.length == 1) {\n          project.focusedPanelIndex = 0\n        } else {\n          const closedPanelWasLeftOfFocusedPanel = action.panelIndex < project.focusedPanelIndex\n          const closedPanelWasFocusedAndFurthestRight = action.panelIndex == project.focusedPanelIndex && action.panelIndex == project.panels.length\n\n          if (closedPanelWasLeftOfFocusedPanel) {\n            project.focusedPanelIndex = project.focusedPanelIndex - 1\n          } else if (closedPanelWasFocusedAndFurthestRight) {\n            project.focusedPanelIndex = project.panels.length - 1\n          }\n        }\n\n        // Update panel indexes\n        project.panels.forEach((p, i) => p.index = i)\n\n        break\n      }\n\n      // case 'SET_PANEL_WIDTH': {\n      //   // Set width of the panel of `panelIndex`, and the one to it's right (if there is one)\n      //   const panel = project.panels[action.panelIndex]\n      //   const panelToRight = project.panels[action.panelIndex + 1]\n\n      //   break\n      // }\n\n      case 'SET_PANEL_WIDTHS': {\n        project.panels.forEach((panel, i) => panel.width = action.widths[i])\n        break\n      }\n\n      case 'FOCUS_PANEL': {\n        project.focusedPanelIndex = action.panelIndex\n        break\n      }\n\n      // EDITING\n\n      case 'SET_SOURCE_MODE': {\n        draft.sourceMode = action.enabled\n        break\n      }\n\n      case 'SET_UNSAVED_CHANGES': {\n        const panel = project.panels[action.panelIndex]\n        panel.unsavedChanges = action.value\n        break\n      }\n\n      case 'SAVE_DOC_SUCCESS': {\n        const panel = project.panels[action.panelIndex]\n        panel.unsavedChanges = false\n        break\n      }\n\n\n\n    }\n  }, (patches) => {\n    // Update `global.patches`\n    global.patches = patches\n  }\n  )\n\n\n/**\n* Each project needs to store the ID of the window it's associated with. The BrowserWindow hasn't been created yet for this project (that's handled by WindowManager), but we know what ID the window will be: BrowserWindow ids start at 1 and go up. And removed BrowserWindows do not release their IDs back into the available set. So the next BrowserWindow id is always +1 of the highest existing.\n*/\nfunction getNextWindowId() {\n  const existingWindowIds = BrowserWindow.getAllWindows()\n    .map((win) => win.id)\n  const nextWindowId = Math.max(existingWindowIds) + 1\n  return nextWindowId\n}\n\n/**\n * Insert a new blank project into state.projects array\n */\nfunction createNewProject() {\n  const project = { ...newProject, id: nanoid() }\n  // Immer won't let us assign `window.id = getNextWindowId()`.\n  // Because window is itself an object, we need to immutably modify it.\n  // By assigning it a new object (instead of modifying the original).\n  project.window = { ...project.window, id: getNextWindowId() }\n  return project\n}\n\n","import { app, BrowserWindow } from 'electron'\nimport ElectronStore from 'electron-store'\nimport { update } from './reducers'\n\nimport colors from 'colors'\n\n\nexport class Store extends ElectronStore {\n  constructor() {\n    // Note: `super` lets us access and call functions on object's parent (MDN)\n    // We pass in our config options for electron-store\n    // Per: https://github.com/sindresorhus/electron-store#options\n    super({\n      name: \"store\",\n      defaults: storeDefault\n      // schema: StoreSchema\n    })\n  }\n\n  async dispatch(action, window = undefined) {\n\n    if (!app.isPackaged) logTheAction(action)\n\n    // Get next state. \n    // `update` function also updates `global.patches`.\n    const nextState = update(store.store, action, window)\n\n    // Apply next state to Store\n    this.set(nextState)\n\n    // Send patches to render proces\n    const windows = BrowserWindow.getAllWindows()\n    if (windows.length) {\n      windows.forEach((win) => win.webContents.send('statePatchesFromMain', global.patches))\n    }\n  }\n}\n\nfunction logTheAction(action) {\n  console.log(\n    // `Action:`.bgBrightGreen.black,\n    `${action.type}`.bgBrightGreen.black.bold,\n    // `(Store.js)`.green\n  )\n}\n\nconst storeDefault = {\n\n  // ----------- APP ----------- //\n\n  appStatus: 'open',\n\n  theme: {\n    app: 'match-system',\n    editor: 'gambier'\n  },\n\n  chromium: {\n    themeSource: 'system',\n    isDarkMode: false,\n    isHighContrast: false,\n    isInverted: false,\n    isReducedMotion: false,\n  },\n\n  sourceMode: false,\n\n  focusedWindowId: 0,\n\n  prefs: {\n    isOpen: false\n  },\n\n  timing: {\n    treeListFolder: 300,\n  },\n\n  // ----------- PROJECTS ----------- //\n\n  projects: {\n    allIds: [],\n    byId: {}\n  }\n\n  // projects: []\n\n}\n\nexport const newPanel = {\n  index: 0,\n  id: '', // Generate with nanoid\n  docId: '',\n  width: '100', // Percentage\n  unsavedChanges: false\n}\n\nexport const newProject = {\n\n  // Used to associate windows with projects. Generated by nanoid.\n  // id: '',\n  \n  window: {\n    // Used to associate windows with projects\n    id: 0,\n    // Used when closing window (to check if it's safe to do so or not)\n    status: 'new',\n    isDraggedOver: false,\n    bounds: { x: 0, y: 0, width: 1600, height: 1200 }\n  },\n\n  // User specified directory to folder containing their project files\n  directory: '',\n\n  // User specified path to CSL-JSON file containing their citatons\n  citations: '',\n\n  focusedSectionId: 'sidebar',\n  \n  // Index of focused panel\n  focusedPanelIndex: 0,\n\n  // draggedFileId: '',\n\n  // A copy of the object of the document currently visible in the editor.\n  // TODO: Is made obsolete by switch to panels. Remove.\n  openDoc: {},\n\n  // List of the open panels\n  // See `newPanel` for template\n  panels: [],\n\n  // SideBar\n  sidebar: {\n    isOpen: true,\n    isPreviewOpen: true,\n    activeTabId: 'project',\n    width: 250,\n    tabsById: {\n      project: {\n        title: 'Project',\n        lastSelected: {}, // id\n        selected: [], // Array of ids\n        expanded: [], // Array of folder ids\n        sortBy: 'By Title',\n        sortOrder: 'Ascending'\n      },\n      allDocs: {\n        title: 'All Documents',\n        lastSelected: {},\n        selected: [],\n        sortBy: 'By Title',\n        sortOrder: 'Ascending'\n      },\n      mostRecent: {\n        title: 'Most Recent',\n        lastSelected: {},\n        selected: [],\n        sortBy: 'By Title',\n        sortOrder: 'Ascending'\n      },\n      tags: {\n        title: 'Tags',\n        lastSelected: {},\n        selected: [],\n        sortBy: 'By Title',\n        sortOrder: 'Ascending',\n        selectedTags: []\n      },\n      media: {\n        title: 'Media',\n        lastSelected: {},\n        selected: [],\n        sortBy: 'By Name',\n        sortOrder: 'Ascending'\n      },\n      citations: {\n        title: 'Citations',\n        lastSelected: {},\n        selected: [],\n      },\n      search: {\n        title: 'Search',\n        lastSelected: {},\n        selected: [],\n        options: {\n          isOpen: false,\n          matchCase: false,\n          matchExactPhrase: false,\n          lookIn: '*',\n          tags: []\n        },\n        replace: {\n          isOpen: false,\n        }\n      }\n    },\n    tabsAll: ['project', 'allDocs', 'mostRecent', 'tags', 'media', 'citations', 'search']\n  }\n}\n","import deepEql from 'deep-eql'\n\n/**\n * Returns true if arrays have same items in same order\n * From: https://gomakethings.com/how-to-check-if-two-arrays-are-equal-with-vanilla-js/\n */\nexport function arraysEqual (arr1, arr2) {\n\n\t// Check if the arrays are the same length\n\tif (arr1.length !== arr2.length) return false\n\n\t// Check if all items exist and are in the same order\n\tfor (var i = 0; i < arr1.length; i++) {\n\t\tif (arr1[i] !== arr2[i]) return false\n  }\n  \n  return true\n}\n\n/**\n * Get the diff between two arrays\n * For [1, 2, 3] and [1, 2], it will return [3]\n * From: https://stackoverflow.com/a/33034768\n */\nexport function getArrayDiff(arr1, arr2) {\n  return arr1.filter(x => !arr2.includes(x));\n}\n\n/**\n * Get file size in KB, MB, GB, or TB (whatever is closest), from bytes.\n * From: https://gist.github.com/lanqy/5193417#gistcomment-3240729\n * @param {*} bytes\n * @param {*} separator \n * @param {*} postFix \n */\nexport function prettySize(bytes, separator = ' ', postFix = '') {\n  if (bytes) {\n      const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n      const i = Math.min(parseInt(Math.floor(Math.log(bytes) / Math.log(1024)).toString(), 10), sizes.length - 1);\n      return `${(bytes / (1024 ** i)).toFixed(i ? 1 : 0)}${separator}${sizes[i]}${postFix}`;\n  }\n  return 'n/a';\n}\n\nconst formats = {\n  document: ['.md', '.markdown'],\n  image: [\n    '.apng', '.bmp', '.gif', '.jpg', '.jpeg', '.jfif', '.pjpeg', '.pjp', '.png', '.svg', '.tif', '.tiff', '.webp'\n  ],\n  av: [\n    '.flac', '.mp4', '.m4a', '.mp3', '.ogv', '.ogm', '.ogg', '.oga', '.opus', '.webm'\n  ]\n}\n\n/**\n * Wrap setTimeout in a promise so we can use with async/await. \n * Use like: `await wait(1000);`\n * @param {*} ms \n */\nexport async function wait(ms) {\n  return new Promise(resolve => {\n    setTimeout(resolve, ms);\n  });\n}\n\nexport function isDoc(fileExtension) {\n  return formats.document.includes(fileExtension)\n}\n\nexport function isMedia(fileExtension) {\n  const isImage = formats.image.includes(fileExtension)\n  const isAV = formats.av.includes(fileExtension)\n  return isImage || isAV\n}\n\nexport function getMediaType(fileExtension) {\n  const isImage = formats.image.includes(fileExtension)\n  const isAV = formats.av.includes(fileExtension)\n  if (isImage) {\n    return 'img'\n  } else if (isAV) {\n    return 'av'\n  } else {\n    console.error('File extension does not match supported media types')\n  }\n}\n\n/**\n * Return file type ('doc', 'img', 'av') based on file extension.\n * @param {*} fileExtension - String. E.g. 'gif'\n */\nexport function getFileType(fileExtension) {\n  if (isDoc(fileExtension)) {\n    return 'doc'\n  } else if (isMedia(fileExtension)) {\n    return getMediaType(fileExtension)\n  }\n}\n\nexport function findInTree (tree, value, key = 'id', reverse = false) {\n  const stack = [ tree[0] ]\n  while (stack.length) {\n    const node = stack[reverse ? 'pop' : 'shift']()\n    if (node[key] === value) return node\n    node.children && stack.push(...node.children)\n  }\n  return null\n}\n\nexport function stringify(value) {\n  return JSON.stringify(value, null, '\\t')\n}\n\n\n// -------- COMPARE PATCHES -------- //\n\n/**\n * Check if state property has changed by comparing Immer patches. And (optionally) if property now equals a specified value. For each patch, check if `path` array contains specified `props`, and if `value` value equals specified `toValue`.\n * @param {*} props - Either a string, or an array (for more precision).\n * @param {*} [toValue] - Optional value to check prop against\n */\nexport function stateHasChanged(patches, props, toValue = '') {\n\treturn patches.some((patch) => {\n\n  \tconst pathAsString = patch.path.toString()\n\t\tconst checkMultipleProps = Array.isArray(props)\n\n\t\tconst hasChanged = checkMultipleProps ?\n    \tprops.every((key) => pathAsString.includes(key)) :\n      pathAsString.includes(props)\n    \n    // If optional 'toValue' argument is specified, check it.\n    // Else, only check `hasChanged`\n    if (toValue) {\n      const equalsValue = patch.value == toValue\n      return hasChanged && equalsValue\n    } else {\n      return hasChanged\n    }\n  })\n}\n\n\n// -------- COMPARE OBJECTS -------- //\n\n/**\n * Compare two objects and return `true` if they differ.\n * @param {*} objA \n * @param {*} objB \n */\nexport function objHasChanged(objA, objB) {\n  return !deepEql(objA, objB)\n}\n\n/**\n * Check if an object property has changed, \n * by comparing two versions of the object.\n * @param {*} keysAsString - Path of property to check. E.g. 'colors.systemBlue'\n * @param {*} objA - Old version of object\n * @param {*} objB - New version of object\n */\nexport function propHasChanged(keysAsString, objA, objB) {\n  const keys = extractKeysFromString(keysAsString)\n  const objAVal = getNestedObject(objA, keys)\n  const objBVal = getNestedObject(objB, keys)\n  if (objAVal == undefined || objBVal == undefined) {\n    // If either is undefined, return undefined\n    return undefined\n  } else if (typeof objAVal == 'object' && typeof objBVal == 'object') {\n    // If both are objects, do a deep object comparison\n    return !deepEql(objAVal, objBVal)\n  } else {\n    // Else, compare values\n    return objAVal !== objBVal\n  }\n}\n\n/**\n * Check if an object property has changed to a specific value,\n * by comparing old and new versions of the object.\n * @param {*} keysAsString \n * @param {*} value \n * @param {*} objTo \n * @param {*} objFrom \n */\nexport function propHasChangedTo(keysAsString, value, objTo, objFrom) {\n  if (!keysAsString || !value ) {\n    // If either required arguments are missing or empty, return undefined\n    return undefined\n  } else {\n    const keys = extractKeysFromString(keysAsString)\n    const objToVal = getNestedObject(objTo, keys)\n    const objFromVal = getNestedObject(objFrom, keys)\n    if (typeof objToVal == 'object' || typeof objFromVal == 'object') {\n      // If either value is an object, return undefined.\n      // For now, we don't allow checking against objects.\n      return undefined\n    } else if (objToVal === objFromVal) {\n      // If no change, return false\n      return false\n    } else {\n      // Else, check if objTo equals value\n      return objToVal === value\n    }\n  }\n}\n\n/**\n * Utility function for hasChanged. \n * Convert propAddress string to array of keys.\n * Before: \"projects[5].window\"\n * After: [\"projects\", 5, \"window\"]\n * @param {*} keyAsString \n */\nfunction extractKeysFromString(keyAsString) {\n  const regex = /[^\\.\\[\\]]+?(?=\\.|\\[|\\]|$)/g\n  const keys = keyAsString.match(regex)\n  if (keys && keys.length) {\n    keys.forEach((p, index, thisArray) => {\n      // Find strings that are just integers, and convert to integers\n      if (/\\d/.test(p)) {\n        thisArray[index] = parseInt(p, 10)\n      }\n    })\n  }\n  return keys\n}\n\n/**\n * Utility function for `hasChanged`. \n * @param {*} nestedObj \n * @param {*} pathArr \n */\nconst getNestedObject = (nestedObj, pathArr) => {\n\treturn pathArr.reduce((obj, key) =>\n\t\t(obj && obj[key] !== 'undefined') ? obj[key] : undefined, nestedObj);\n}","import { BrowserWindow, webContents, app, nativeTheme, systemPreferences } from 'electron'\nimport chroma from 'chroma-js'\nimport { stateHasChanged } from '../shared/utils'\n\n\n\nexport function init() {\n\n  // When nativeTheme changes for any reason, get updated colors.\n  // 'updated' fires when something tells Chromium to update visual settings.\n  // Can be triggered by app logic, or from the OS:\n  // 1) By app: App manually sets `nativeTheme.themeSource` to 'dark'.\n  // 2) By OS: Dark mode activates at 10pm. Chromium gets notification \n  //    from OS that OS appearance has changed, and `nativeTheme.themeSource` \n  //    is 'system', so Chromium accepts the change.\n  nativeTheme.on('updated', () => {\n    saveChromiumValues()\n    sendUpdatedColorsToRenderProcess()\n  })\n\n  // When `theme.app` changes, update Chrome nativeTheme.themeSource.\n  global.store.onDidAnyChange((state, oldState) => {\n    const appThemeChanged = stateHasChanged(global.patches, [\"theme\", \"app\"])\n    if (appThemeChanged) {\n      setNativeTheme(false)\n    }\n  })\n\n  // Set native UI to theme value in store\n  setNativeTheme(true)\n}\n\n/**\n * Update `nativeTheme` electron property\n * Setting `nativeTheme.themeSource` has several effects, including: it tells Chrome how to render UI elements such as menus, window frames, etc; it sets `prefers-color-scheme` css query; it sets `nativeTheme.shouldUseDarkColors` value.\n * Per: https://www.electronjs.org/docs/api/native-theme\n */\nfunction setNativeTheme(isFirstRun) {\n  const appTheme = global.state().theme.app\n  switch (appTheme) {\n    case 'match-system':\n      nativeTheme.themeSource = 'system'\n      break\n    case 'light':\n      nativeTheme.themeSource = 'light'\n      break\n    case 'dark':\n      nativeTheme.themeSource = 'dark'\n      break\n  }\n\n  if (!isFirstRun) {\n    // If dev tools is open, reload (close then open) to force it to load the new theme. Unfortunately it doesn't do so automatically, in either Electron or Chrome.\n    const win = BrowserWindow.getFocusedWindow()\n    const devToolsIsOpen = !app.isPackaged && win?.webContents?.isDevToolsOpened()\n    if (devToolsIsOpen) {\n      win.webContents.closeDevTools()\n      win.webContents.openDevTools()\n    }\n  }\n}\n\n/**\n * Save Chromium appearance-related values to store. Note: nativeTheme properties  will usually match the OS, because they're usually set by the OS. But in some cases, they will differ. If the user chooses `View > Appearance > Light` while the OS is in dark mode, for example. \n */\nfunction saveChromiumValues() {\n  store.dispatch({\n    type: 'SAVE_CHROMIUM_VALUES',\n    values: {\n      themeSource: nativeTheme.themeSource,\n      isDarkMode: nativeTheme.shouldUseDarkColors,\n      isHighContrast: nativeTheme.shouldUseHighContrastColors,\n      isInverted: nativeTheme.shouldUseInvertedColorScheme,\n      isReducedMotion: systemPreferences.getAnimationSettings().prefersReducedMotion\n    }\n  })\n}\n\n/** \n * When nativeTheme changes, we assume system colors have changed, \n * get the new values, and send them to render process. Which then\n * applies them as css variables.\n*/\nfunction sendUpdatedColorsToRenderProcess() {\n  webContents.getAllWebContents().forEach((contents) => {\n    contents.send('updatedSystemColors', getSystemColors())\n  })\n}\n\n\n\n\n\n\n\n\n\n\n\n// -------- COLORS -------- //\n\nexport function getSystemColors() {\n\n  const isDarkMode = nativeTheme.shouldUseDarkColors\n\n  if (isDarkMode) {\n    return {\n      // System colors\n      systemBlue: '#0A84FFFF',\n      systemBrown: '#AC8E68FF',\n      systemGray: '#98989DFF',\n      systemGreen: '#32D74BFF',\n      systemIndigo: '#5E5CE6FF',\n      systemOrange: '#FF9F0AFF',\n      systemPink: '#FF375FFF',\n      systemPurple: '#BF5AF2FF',\n      systemRed: '#FF453AFF',\n      systemTeal: '#64D2FFFF',\n      systemYellow: '#FFD60AFF',\n      // Accent-influenced dynamic colors\n      ...getAccentColors(isDarkMode),\n      // All other dynamic dystem colors\n      alternateSelectedControlTextColor: '#FFFFFFFF',\n      controlBackgroundColor: '#1E1E1EFF',\n      controlColor: '#FFFFFF3F',\n      controlTextColor: '#FFFFFFD8',\n      disabledControlTextColor: '#FFFFFF3F',\n      findHighlightColor: '#FFFF00FF',\n      gridColor: '#FFFFFF19',\n      headerTextColor: '#FFFFFFFF',\n      highlightColor: '#B4B4B4FF',\n      labelColor: '#FFFFFFD8',\n      linkColor: '#419CFFFF',\n      placeholderTextColor: '#FFFFFF3F',\n      quaternaryLabelColor: '#FFFFFF19',\n      secondaryLabelColor: '#FFFFFF8C',\n      selectedControlTextColor: '#FFFFFFD8',\n      selectedMenuItemTextColor: '#FFFFFFFF',\n      selectedTextColor: '#FFFFFFFF',\n      separatorColor: '#FFFFFF19',\n      shadowColor: '#000000FF',\n      tertiaryLabelColor: '#FFFFFF3F',\n      textBackgroundColor: '#1E1E1EFF',\n      textColor: '#FFFFFFFF',\n      unemphasizedSelectedContentBackgroundColor: '#464646FF',\n      unemphasizedSelectedTextBackgroundColor: '#464646FF',\n      unemphasizedSelectedTextColor: '#FFFFFFFF',\n      windowBackgroundColor: '#323232FF',\n      windowFrameTextColor: '#FFFFFFD8',\n      // Gambier-specific colors.\n      foregroundColor: '255, 255, 255',\n      backgroundColor: '0, 0, 0',\n    }\n  } else {\n    return {\n      //System colors\n      systemBlue: '#007AFFFF',\n      systemBrown: '#A2845EFF',\n      systemGray: '#8E8E93FF',\n      systemGreen: '#28CD41FF',\n      systemIndigo: '#5856D6FF',\n      systemOrange: '#FF9500FF',\n      systemPink: '#FF2D55FF',\n      systemPurple: '#AF52DEFF',\n      systemRed: '#FF3B30FF',\n      systemTeal: '#55BEF0FF',\n      systemYellow: '#FFCC00FF',\n      // Accent-influenced dynamic colors\n      ...getAccentColors(isDarkMode),\n      // All other dynamic dystem colors\n      alternateSelectedControlTextColor: '#FFFFFFFF',\n      controlBackgroundColor: '#FFFFFFFF',\n      controlColor: '#FFFFFFFF',\n      controlTextColor: '#000000D8',\n      disabledControlTextColor: '#0000003F',\n      findHighlightColor: '#FFFF00FF',\n      gridColor: '#E6E6E6FF',\n      headerTextColor: '#000000D8',\n      highlightColor: '#FFFFFFFF',\n      labelColor: '#000000D8',\n      linkColor: '#0068DAFF',\n      placeholderTextColor: '#0000003F',\n      quaternaryLabelColor: '#00000019',\n      secondaryLabelColor: '#0000007F',\n      selectedControlTextColor: '#000000D8',\n      selectedMenuItemTextColor: '#FFFFFFFF',\n      selectedTextColor: '#000000FF',\n      separatorColor: '#00000019',\n      shadowColor: '#000000FF',\n      tertiaryLabelColor: '#00000042',\n      textBackgroundColor: '#FFFFFFFF',\n      textColor: '#000000FF',\n      unemphasizedSelectedContentBackgroundColor: '#DCDCDCFF',\n      unemphasizedSelectedTextBackgroundColor: '#DCDCDCFF',\n      unemphasizedSelectedTextColor: '#000000FF',\n      windowBackgroundColor: '#ECECECFF',\n      windowFrameTextColor: '#000000D8',\n      // Gambier-specific colors\n      foregroundColor: '0, 0, 0',\n      backgroundColor: '255, 255, 255',\n    }\n  }\n}\n\n/**\n * TEMPORARY: Electron returns incorrect values for controlAccentColor. So we have to hard-code the correct values. Filed issue here: https://github.com/electron/electron/issues/27048\n */\nfunction getAccentColors(isDarkMode) {\n\n  const allegedAccentColor = `#${systemPreferences.getAccentColor().toUpperCase()}`\n\n  switch (allegedAccentColor) {\n\n    // ------------ BLUE ------------ //\n    case '#0A5FFFFF':\n      if (isDarkMode) {\n        return {\n          controlAccentColor: '#007AFFFF',\n          darkerControlAccentColor: getDarkerAccentColor('#007AFFFF'),\n          keyboardFocusIndicatorColor: '#1AA9FF4C',\n          selectedContentBackgroundColor: '#0058D0FF',\n          selectedControlColor: '#3F638BFF',\n          selectedTextBackgroundColor: '#3F638BFF',\n        }\n      } else {\n        return {\n          controlAccentColor: '#007AFFFF',\n          darkerControlAccentColor: getDarkerAccentColor('#007AFFFF'),\n          keyboardFocusIndicatorColor: '#0067F43F',\n          selectedContentBackgroundColor: '#0063E1FF',\n          selectedControlColor: '#B3D7FFFF',\n          selectedTextBackgroundColor: '#B3D7FFFF',\n        }\n      }\n\n    // ------------ PURPLE ------------ //\n    case '#923796FF': // Dark\n      return {\n        controlAccentColor: '#A550A7FF',\n        darkerControlAccentColor: getDarkerAccentColor('#A550A7FF'),\n        keyboardFocusIndicatorColor: '#DB78DE4C',\n        selectedContentBackgroundColor: '#7F3280FF',\n        selectedControlColor: '#705670FF',\n        selectedTextBackgroundColor: '#705670FF',\n      }\n    case '#812684FF': // Light\n      return {\n        controlAccentColor: '#953D96FF',\n        darkerControlAccentColor: getDarkerAccentColor('#953D96FF'),\n        keyboardFocusIndicatorColor: '#8326843F',\n        selectedContentBackgroundColor: '#7D2A7EFF',\n        selectedControlColor: '#DFC5DFFF',\n        selectedTextBackgroundColor: '#DFC5DFFF',\n      }\n\n    // ------------ PINK ------------ //\n    case '#F2318DFF':\n      if (isDarkMode) {\n        return {\n          controlAccentColor: '#F74F9EFF',\n          darkerControlAccentColor: getDarkerAccentColor('#F74F9EFF'),\n          keyboardFocusIndicatorColor: '#FF76D34C',\n          selectedContentBackgroundColor: '#C83179FF',\n          selectedControlColor: '#88566EFF',\n          selectedTextBackgroundColor: '#88566EFF',\n        }\n      } else {\n        return {\n          controlAccentColor: '#F74F9EFF',\n          darkerControlAccentColor: getDarkerAccentColor('#F74F9EFF'),\n          keyboardFocusIndicatorColor: '#EB398D3F',\n          selectedContentBackgroundColor: '#D93B85FF',\n          selectedControlColor: '#FCCAE2FF',\n          selectedTextBackgroundColor: '#FCCAE2FF',\n        }\n      }\n\n    // ------------ RED ------------ //\n    case '#FC3845FF': // Dark\n      return {\n        controlAccentColor: '#FF5257FF',\n        darkerControlAccentColor: getDarkerAccentColor('#FF5257FF'),\n        keyboardFocusIndicatorColor: '#FF7A804C',\n        selectedContentBackgroundColor: '#D03439FF',\n        selectedControlColor: '#8B5758FF',\n        selectedTextBackgroundColor: '#8B5758FF',\n      }\n    case '#D62130FF': // Light\n      return {\n        controlAccentColor: '#E0383EFF',\n        darkerControlAccentColor: getDarkerAccentColor('#E0383EFF'),\n        keyboardFocusIndicatorColor: '#D320273F',\n        selectedContentBackgroundColor: '#C3252BFF',\n        selectedControlColor: '#F5C3C5FF',\n        selectedTextBackgroundColor: '#F5C3C5FF',\n      }\n\n\n    // ------------ ORANGE ------------ //\n    case '#F36D16FF':\n      if (isDarkMode) {\n        return {\n          controlAccentColor: '#F7821BFF',\n          darkerControlAccentColor: getDarkerAccentColor('#F7821BFF'),\n          keyboardFocusIndicatorColor: '#FFB2394C',\n          selectedContentBackgroundColor: '#C86003FF',\n          selectedControlColor: '#886547FF',\n          selectedTextBackgroundColor: '#886547FF',\n        }\n      } else {\n        return {\n          controlAccentColor: '#F7821BFF',\n          darkerControlAccentColor: getDarkerAccentColor('#F7821BFF'),\n          keyboardFocusIndicatorColor: '#EB6F023F',\n          selectedContentBackgroundColor: '#D96B0AFF',\n          selectedControlColor: '#FCD9BBFF',\n          selectedTextBackgroundColor: '#FCD9BBFF',\n        }\n      }\n\n    // ------------ YELLOW ------------ //\n    case '#FEBC09FF': // Dark\n      return {\n        controlAccentColor: '#FFC600FF',\n        darkerControlAccentColor: getDarkerAccentColor('#FFC600FF'),\n        keyboardFocusIndicatorColor: '#FFFF1A4C',\n        selectedContentBackgroundColor: '#D09C00FF',\n        selectedControlColor: '#8B7A3FFF',\n        selectedTextBackgroundColor: '#8B7A3FFF',\n      }\n    case '#FEBD1EFF': // Light\n      return {\n        controlAccentColor: '#FFC726FF',\n        darkerControlAccentColor: getDarkerAccentColor('#FFC726FF'),\n        keyboardFocusIndicatorColor: '#F4B80D3F',\n        selectedContentBackgroundColor: '#E1AC14FF',\n        selectedControlColor: '#FFEEBEFF',\n        selectedTextBackgroundColor: '#FFEEBEFF',\n      }\n\n    // ------------ GREEN ------------ //\n    case '#53B036FF':\n      if (isDarkMode) {\n        return {\n          controlAccentColor: '#62BA46FF',\n          darkerControlAccentColor: getDarkerAccentColor('#62BA46FF'),\n          keyboardFocusIndicatorColor: '#8DF46C4C',\n          selectedContentBackgroundColor: '#42912AFF',\n          selectedControlColor: '#5C7653FF',\n          selectedTextBackgroundColor: '#5C7653FF',\n        }\n      } else {\n        return {\n          controlAccentColor: '#62BA46FF',\n          darkerControlAccentColor: getDarkerAccentColor('#62BA46FF'),\n          keyboardFocusIndicatorColor: '#4DAB2F3F',\n          selectedContentBackgroundColor: '#4DA032FF',\n          selectedControlColor: '#D0EAC7FF',\n          selectedTextBackgroundColor: '#D0EAC7FF',\n        }\n      }\n\n    // ------------ GRAPHITE ------------ //\n    case '#797979FF': // Dark\n      return {\n        controlAccentColor: '#8C8C8CFF',\n        darkerControlAccentColor: getDarkerAccentColor('#8C8C8CFF'),\n        keyboardFocusIndicatorColor: '#C3C3C37F',\n        selectedContentBackgroundColor: '#686868FF',\n        selectedControlColor: '#FFFFFF3F',\n        selectedTextBackgroundColor: '#FFFFFF3F',\n      }\n    case '#868686FF': // Light\n      return {\n        controlAccentColor: '#989898FF',\n        darkerControlAccentColor: getDarkerAccentColor('#989898FF'),\n        controlAccentColor: '#989898FF',\n        keyboardFocusIndicatorColor: '#99999EFF',\n        selectedContentBackgroundColor: '#808080FF',\n        selectedControlColor: '#E0E0E0FF',\n        selectedTextBackgroundColor: '#E0E0E0FF',\n      }\n  }\n}\n\n\nfunction getDarkerAccentColor(accentColor) {\n  return chroma.blend(accentColor, '#EEEEEE', 'burn').desaturate(0).hex();\n}\n\nfunction rgbaHexToRgbaCSS(hex, alphaOveride, brightnessAdjustment = 0) {\n  const r = parseInt(hex.slice(1, 3), 16) + brightnessAdjustment\n  const g = parseInt(hex.slice(3, 5), 16) + brightnessAdjustment\n  const b = parseInt(hex.slice(5, 7), 16) + brightnessAdjustment\n  const a = alphaOveride ? alphaOveride : parseInt(hex.slice(8, 9), 16)\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`\n}\n\n","import Database from 'better-sqlite3'\nimport { ipcMain } from 'electron'\n\nexport class DbManager {\n  constructor() {\n\n    // Create database\n    // Pass \":memory:\" as the first argument to create an in-memory db.\n    this.db = new Database(':memory:')\n    // this.db = new Database(':memory:', { verbose: console.log })\n\n    // Create table\n    this.table = this.db.prepare(`\n      CREATE VIRTUAL TABLE docs \n      USING FTS5(id, name, title, path, body)\n    `).run()\n\n    // Statement for inserting new docs\n\n    // Using `INSERT OR REPLACE` means we replace the row, if it already exists. Else, we create (insert) it. \n\n    // The following says: \"Does a row with the same id already exist? If yes, get it's rowid. And insert the new values at that same rowid, thereby replacing the original row. Else, insert a new row.\" `rowid` is a unique integer index value automatically assigned to each row on creation, in FTS tables (or any sqlite table where we don't specify a primary key).\n\n    // This is all a bit convuluted. That's because we're using FTS tables. Normally we could jusy, say, set the `id` column as the primary key, and sqlite would automatically trigger the replace action if we tried to add a row with the same id. But FTS tables don't allow primary key declaration or constraints (the other tool we could use). So instead we have to insert at specific rowid's, ala working with arrays by indexes.\n    this.insert_stmt = this.db.prepare(`\n      INSERT OR REPLACE INTO docs (rowid, id, name, title, path, body) \n      VALUES ((SELECT rowid FROM docs WHERE id = @id LIMIT 1), @id, @name, @title, @path, @body)\n    `)\n\n    this.insert_many_stmt = this.db.transaction((docs) => {\n      for (const doc of docs) {\n        this.insert_stmt.run(doc)\n      };\n    });\n\n    this.delete_stmt = this.db.prepare(`\n      DELETE FROM docs\n      WHERE id = ?\n      LIMIT 1\n    `)\n\n    // Statement for full text search\n    this.fts_stmt = this.db.prepare(`\n      SELECT id,\n             title,\n             highlight(docs, 4, '<span class=\"highlight\">', '</span>') body\n      FROM docs \n      WHERE docs MATCH ?\n      ORDER BY rank\n    `)\n\n    // Setup listener to handle queries from renderer. Take the provided paramaters for query string (e.g. 'dogs'), matchExactPhrase (boolean), and path (e.g. '/User/Documents/ClimateResearch'), and create the string we'll pass into \n\n    // We use column filters to specify which columns to search. We only want params.path to search the `path` column, for example. And we never want to search `id` column. For example: `body: \"Rex\" *` says \"Search body column for tokens that start with 'Rex'`. Per: https://www.sqlite.org/fts5.html#fts5_column_filters\n\n    // If `matchExactPhrase` is false, we add a '*' after our query string, which tells sqlite to treat the string as a \"prefix token\", and match any tokens that start with the query. Per: https://www.sqlite.org/fts5.html#fts5_prefix_queries\n\n    // For `path`, we're inserting `^` before the string, to tell sqlite to only match if the string starts at the first token in the column. Like ^ works in regex. Per: https://www.sqlite.org/fts5.html#fts5_initial_token_queries\n\n    // We wrap our strings in double-quotation marks to escape characters such as - and /, which would otherwise trigger sql errors. Forward slashes will always appear in paths, and other characters may appear in the query string.\n\n    // We use boolean operators to combine our phrases. Matches MUST be descendants of the specified `params.path` (folder path), AND have query matches in either `body`, `title`, or `name` columns.\n\n    // Docs: https://www.sqlite.org/fts5.html#extending_fts5\n    ipcMain.handle('queryDb', (evt, params) => {\n\n      // Create the query string\n      const body = `body:\"${params.query}\"${params.matchExactPhrase ? '' : ' *'}`\n      const title = `title:\"${params.query}\"${params.matchExactPhrase ? '' : ' *'}`\n      const name = `name:\"${params.query}\"${params.matchExactPhrase ? '' : ' *'}`\n      const path = `path:^ \"${params.path}\"${params.matchExactPhrase ? '' : ' *'}`\n      const query = `${path} AND (${body} OR ${title} OR ${name})`\n\n      // Run the full text search statement with the query string.\n      let results = this.fts_stmt.all(query)\n\n      // Return the results. Will be array of objects; one for each row.\n      return results\n    })\n  }\n\n  /**\n   * Insert single row into database.\n   */\n  insert(doc = {\n    id: '',\n    name: '',\n    title: '',\n    path: '',\n    body: ''\n  }) {\n    this.insert_stmt.run(doc)\n  }\n\n  /**\n   * Insert multiple rows into the database.\n   * @param {} docs - Array of docs\n   */\n  insertMany(docs) {\n    this.insert_many_stmt(docs)\n  }\n\n  /**\n   * Delete single row from database.\n   */\n  delete(id) {\n    this.delete_stmt.run(id)\n  }\n\n  init() {\n\n    // const insertTest = global.db.prepare('INSERT INTO docs (title, path) VALUES (?, ?)')\n    // const info = insertTest.run(\"My time in Tuscany\", \"Was mostly unremarkable, to be perfectly honest.\")\n    // console.log(info.changes)\n\n    // const insert = global.db.prepare('INSERT INTO docs (id, name, title, body) VALUES (?, ?, ?, ?)');\n\n    // const insertMany = global.db.transaction((data) => {\n    //   for (const item of data) {\n    //     insert.run(item)\n    //   }\n    // });\n\n    // insertMany([\n    //   { title: 'Joey', path: 'docs/joey.md' },\n    //   { title: 'Sally', path: 'docs/salley.md' },\n    //   { title: 'Junior', path: 'docs/junior.md' },\n    // ]);\n\n    // const joey = global.db.prepare('SELECT * FROM docs WHERE title = ?').get('Junior')\n    // console.log(joey)\n\n    // const deleteTest = global.db.prepare('DELETE FROM docs WHERE title = ?').run(\"Sally\")\n\n    // const getAll = global.db.prepare('SELECT * FROM docs')\n    // console.log(getAll.all())\n\n    // const updateTest = global.db.prepare('UPDATE docs SET title = ? WHERE title = ?').run('Zelda!', 'Joey')\n\n    // console.log(getAll.all())\n  }\n}","import { remove } from 'fs-extra'\n\n// 1/25: TODO: Can probably delete. Moved this into MenuBarManager\nexport default async function(path) {\n  try {\n\t\tawait remove(path)\n\t\treturn { type: 'DELETE_FILE_SUCCESS', path: path }\n\t} catch(err) {\n\t\treturn { type: 'DELETE_FILE_FAIL', err: err }\n\t}\n}","import { remove } from 'fs-extra'\n\n// 1/25: TODO: Can probably delete. Moved this into MenuBarManager\n\nexport default async function(paths) {\n  try {\n    let deletedPaths = await Promise.all(\n      paths.map(async (path) => {\n        await remove(path)\n      })\n    )\n\t\treturn { type: 'DELETE_FILES_SUCCESS', paths: deletedPaths }\n\t} catch(err) {\n\t\treturn { type: 'DELETE_FILES_FAIL', err: err }\n\t}\n}","import { writeFile } from 'fs-extra'\n\nexport default async function (doc, data, panelIndex) {\n\ttry {\n\t\tconsole.log(doc, panelIndex)\n\t\tawait writeFile(doc.path, data, 'utf8')\n\t\treturn {\n\t\t\ttype: 'SAVE_DOC_SUCCESS',\n\t\t\tpanelIndex: panelIndex,\n\t\t}\n\t} catch (err) {\n\t\treturn {\n\t\t\ttype: 'SAVE_DOC_FAIL',\n\t\t\terr: err\n\t\t}\n\t}\n}","import { BrowserWindow, dialog } from 'electron'\n\nexport default async function () {\n\n  const win = BrowserWindow.getFocusedWindow()\n\n  const selection = await dialog.showOpenDialog(win, {\n    title: 'Select Project Folder',\n    properties: ['openDirectory', 'createDirectory']\n  })\n\n  if (!selection.canceled) {\n    return { \n      type: 'SET_PROJECT_DIRECTORY', \n      directory: selection.filePaths[0] \n    }\n  }\n}","import { BrowserWindow, dialog } from 'electron'\n\nexport default async function () {\n\n  const win = BrowserWindow.getFocusedWindow()\n\n  const selection = await dialog.showOpenDialog(win, {\n    title: 'Select Citations File',\n    properties: ['openFile'],\n    filters: [\n      { name: 'JSON', extensions: ['json'] },\n    ]\n  })\n\n  if (!selection.canceled) {\n    return { \n      type: 'SET_PROJECT_CITATIONS_FILE', \n      path: selection.filePaths[0] \n    }\n  }\n}","import { app, BrowserWindow, clipboard, dialog, ipcMain, shell, systemPreferences, nativeTheme, webFrame } from 'electron'\nimport { readFile, writeFile, renameSync, copyFileSync, existsSync, readdirSync } from 'fs-extra'\nimport path from 'path'\nimport { saveDoc, deleteFile, deleteFiles, selectProjectDirectoryFromDialog, selectCitationsFileFromDialog } from './actions/index.js'\nimport { getSystemColors } from './AppearanceManager.js'\n\nexport function init() {\n\n  // -------- IPC: Renderer \"receives\" from Main -------- //\n\n  // On change, send updated state to renderer (each BrowserWindow)\n  // global.store.onDidAnyChange(async (state, oldState) => {\n  //   const windows = BrowserWindow.getAllWindows()\n  //   if (windows.length) {\n  //     windows.forEach((win) => win.webContents.send(' ', state, oldState))\n  //   }\n  // })\n\n  // -------- IPC: Renderer \"sends\" to Main -------- //\n\n  ipcMain.on('showWindow', (evt) => {\n    const win = BrowserWindow.fromWebContents(evt.sender)\n    win.show()\n  })\n\n  // Commented this out Jan 14. Isn't being used at the moment.\n  // Need to investigate how to safely close windows, tho. \n  // E.g. What happens when we click the red close button?\n  // ipcMain.on('safelyCloseWindow', async (evt) => {\n  //   const win = BrowserWindow.fromWebContents(evt.sender)\n  //   if (!global.state().areQuiting) {\n  //     await global.store.dispatch({\n  //       type: 'REMOVE_PROJECT'\n  //     }, win.id)\n  //   }\n  //   win.destroy()\n  // })\n\n  ipcMain.on('replaceAll', (evt, query, replaceWith, filePaths, isMatchCase, isMatchExactPhrase, isMetaKeyPressed) => {\n\n    // Define our regex for finding matches in the specified files.\n    // Demo: https://jsfiddle.net/m17zhoyj/1/\n    let queryRegex = undefined\n    if (isMatchExactPhrase) {\n      // If `matchExactPhrase`, make sure there are no word characters immediately before or after the query phrase, using negative look behind and look ahead.\n      // Demo: https://regex101.com/r/Toj4WF/1\n      queryRegex = new RegExp(String.raw`(?<!\\w)${query}(?!\\w)`, isMatchCase ? 'g' : 'gi')\n    } else {\n      queryRegex = new RegExp(`${query}`, isMatchCase ? 'g' : 'gi')\n    }\n\n    // Ask user to confirm replacment, unless meta key was held down (provides a fast path).\n    if (!isMetaKeyPressed) {\n      const confirmReplacement = dialog.showMessageBoxSync({\n        type: 'warning',\n        message: `Are you sure you want to replace \"${query}\" with \"${replaceWith}\" in ${filePaths.length} document${filePaths.length > 1 ? 's' : ''}?`,\n        buttons: ['Cancel', 'Replace'],\n        cancelId: 0\n      })\n\n      // If user does not press `Replace` (1), then `return` prematurely.\n      if (confirmReplacement !== 1) return\n    }\n\n    // Open each file in `filePaths`, find all instances of `query`, replace, and write file.\n    filePaths.forEach(async (filePath) => {\n      let file = await readFile(filePath, 'utf8')\n      file = file.replaceAll(queryRegex, replaceWith)\n      await writeFile(filePath, file, 'utf8')\n    })\n  })\n\n\n  ipcMain.on('moveOrCopyIntoFolder', async (evt, filePath, folderPath, isCopy) => {\n    // Get destination\n    const fileName = path.basename(filePath)\n    let destinationPath = path.format({\n      dir: folderPath,\n      base: fileName\n    })\n\n    // Does file already exist at destination?\n    const fileAlreadyExists = existsSync(destinationPath)\n\n    // If yes, prompt user to confirm overwrite. \n    // Else, just move/copy\n    if (fileAlreadyExists) {\n      const selectedButtonId = dialog.showMessageBoxSync({\n        type: 'question',\n        message: `An item named ${fileName} already exists in this location. Do you want to replace it with the one youre moving?`,\n        buttons: ['Keep Both', 'Stop', 'Replace'],\n        cancelId: 1\n      })\n      switch (selectedButtonId) {\n        // Keep both\n        case 0:\n          destinationPath = getIncrementedFileName(destinationPath)\n          copyFileSync(filePath, destinationPath)\n          break\n        // Stop (Do nothing)\n        case 1:\n          break\n        // Replace\n        case 2:\n          if (isCopy) {\n            copyFileSync(filePath, destinationPath)\n          } else {\n            renameSync(filePath, destinationPath)\n          }\n          break\n      }\n    } else {\n      if (isCopy) {\n        copyFileSync(filePath, destinationPath)\n      } else {\n        renameSync(filePath, destinationPath)\n      }\n    }\n  })\n\n\n  ipcMain.on('dispatch', async (evt, action) => {\n    const win = BrowserWindow.fromWebContents(evt.sender)\n    switch (action.type) {\n      case ('SELECT_CITATIONS_FILE_FROM_DIALOG'):\n        store.dispatch(await selectCitationsFileFromDialog(), win)\n        break\n      case ('SELECT_PROJECT_DIRECTORY_FROM_DIALOG'):\n        store.dispatch(await selectProjectDirectoryFromDialog(), win)\n        break\n      case ('SAVE_DOC'):\n        store.dispatch(await saveDoc(action.doc, action.data, action.panelIndex), win)\n        break\n      case ('DELETE_FILE'):\n        store.dispatch(await deleteFile(action.path), win)\n        break\n      case ('DELETE_FILES'):\n        store.dispatch(await deleteFiles(action.paths), win)\n        break\n      default:\n        store.dispatch(action, win)\n        break\n    }\n  })\n\n  // -------- IPC: Invoke -------- //\n\n  // NOTE: We handle this in DbManager.js\n  // ipcMain.handle('queryDb', (evt, params) => {\n  //   ...\n  // })\n\n  ipcMain.handle('getState', (evt) => {\n    return global.state()\n  })\n\n  ipcMain.handle('getFiles', (evt) => {\n    const win = BrowserWindow.fromWebContents(evt.sender)\n    const watcher = global.watchers.find((watcher) => watcher.id == win.projectId)\n    return watcher ? watcher.files : undefined\n  })\n\n  // Load file and return text\n  ipcMain.handle('getFileByPath', async (event, filePath, encoding = 'utf8') => {\n    let file = await readFile(filePath, encoding)\n    return file\n  })\n\n  // Get system colors and return\n  ipcMain.handle('getSystemColors', () => {\n    return getSystemColors()\n  })\n}\n\n\n\n// -------- IPC: Renderer \"sends\" to Main -------- //\n\n\n// // ipcMain.on('saveProjectStateToDisk', (evt, state) => {\n// //   const win = BrowserWindow.fromWebContents(evt.sender)\n// //   const projects = store.store.projects.slice(0)\n// //   const indexOfProjectToUpdate = projects.findIndex((p) => p.windowId == state.windowId)\n// //   projects[indexOfProjectToUpdate] = state\n// //   store.set('projects', projects)\n// // })\n\n// // ipcMain.on('saveFileThenCloseWindow', async (event, path, data) => {\n// //   await writeFile(path, data, 'utf8')\n// //   canCloseWindowSafely = true\n// //   win.close()\n// // })\n\n// // ipcMain.on('saveFileThenQuitApp', async (event, path, data) => {\n// //   await writeFile(path, data, 'utf8')\n// //   canQuitAppSafely = true\n// //   app.quit()\n// // })\n\n// // ipcMain.on('openUrlInDefaultBrowser', (event, url) => {\n// //   shell.openExternal(url)\n// // })\n\n\n\n// -------- IPC: Invoke -------- //\n\n\n\n\n// // ipcMain.handle('getValidatedPathOrURL', async (event, docPath, pathToCheck) => {\n// //   // return path.resolve(basePath, filepath)\n\n// //   /*\n// //   Element: Image, link, backlink, link reference definition\n// //   File type: directory, html, png|jpg|gif, md|mmd|markdown\n// //   */\n\n// //   // console.log('- - - - - -')\n// //   // console.log(pathToCheck.match(/.{0,2}\\//))\n// //   const directory = path.parse(docPath).dir\n// //   const resolvedPath = path.resolve(directory, pathToCheck)\n\n// //   const docPathExists = await pathExists(docPath)\n// //   const pathToCheckExists = await pathExists(pathToCheck)\n// //   const resolvedPathExists = await pathExists(resolvedPath)\n\n// //   // console.log('docPath: ', docPath)\n// //   // console.log('pathToCheck: ', pathToCheck)\n// //   // console.log('resolvedPath: ', resolvedPath)\n// //   // console.log(docPathExists, pathToCheckExists, resolvedPathExists)\n\n// //   // if (pathToCheck.match(/.{0,2}\\//)) {\n// //   //   console.log()\n// //   // }\n// // })\n\n// // ipcMain.handle('getResolvedPath', async (event, basePath, filepath) => {\n// //   return path.resolve(basePath, filepath)\n// // })\n\n// // ipcMain.handle('getParsedPath', async (event, filepath) => {\n// //   return path.parse(filepath)\n// // })\n\n// // ipcMain.handle('ifPathExists', async (event, filepath) => {\n// //   const exists = await pathExists(filepath)\n// //   return { path: filepath, exists: exists }\n// // })\n\n\n\n// // ipcMain.handle('getState', async (event) => {\n// //   return store.store\n// // })\n\n// // ipcMain.handle('getCitations', (event) => {\n// //   return projectCitations.getCitations()\n// // })\n\n// // ipcMain.handle('getFileByPath', async (event, filePath, encoding) => {\n\n// //   // Load file and return\n// //   let file = await readFile(filePath, encoding)\n// //   return file\n// // })\n\n// // ipcMain.handle('getFileById', async (event, id, encoding) => {\n\n// //   // Get path of file with matching id\n// //   const filePath = store.store.contents.find((f) => f.id == id).path\n\n// //   // Load file and return\n// //   let file = await readFile(filePath, encoding)\n// //   return file\n// // })\n\n// // ipcMain.handle('pathJoin', async (event, path1, path2) => {\n// //   return path.join(path1, path2)\n// // })\n\n// // ipcMain.handle('getHTMLFromClipboard', (event) => {\n// //   return clipboard.readHTML()\n// // })\n\n// // ipcMain.handle('getFormatOfClipboard', (event) => {\n// //   return clipboard.availableFormats()\n// // })\n\n\n/**\n * Utility function that returns filename with incremented integer suffix. Used when moving files to avoid overwriting files of same name in destination directory, ala macOS. Looks to see if other files in same directory already have same name +_ integer suffix, and if so, increments.\n * Original:      /Users/Susan/Notes/ship.jpg\n * First copy:    /Users/Susan/Notes/ship 2.jpg\n * Second copy:   /Users/Susan/Notes/ship 3.jpg\n * @param {*} origName \n */\nfunction getIncrementedFileName(origPath) {\n\n  const directory = path.dirname(origPath) // /Users/Susan/Notes\n  const extension = path.extname(origPath) // .jpg\n  const name = path.basename(origPath, extension) // ship\n\n  const allFilesInDirectory = readdirSync(directory)\n\n  let increment = 2\n\n  // Basename in `path` is filename + extension. E.g. `ship.jpg`\n  // https://nodejs.org/api/path.html#path_path_basename_path_ext\n  let newBase = ''\n\n  // Keep looping until we find incremented name that's not already used\n  // Most of time this will be `ship 2.jpg`.\n  while (true) {\n    newBase = `${name} ${increment}${extension}` // ship 2.jpg\n    const alreadyExists = allFilesInDirectory.includes(newBase)\n    if (alreadyExists) {\n      increment++\n    } else {\n      break\n    }\n  }\n\n  // /Users/Susan/Notes/ship 2.jpg\n  return path.format({\n    dir: directory,\n    base: newBase\n  })\n}","import { app, Menu, MenuItem, nativeTheme } from 'electron'\nimport { stateHasChanged } from '../shared/utils.js'\nimport { selectProjectDirectoryFromDialog } from './actions/index.js'\nimport { remove } from 'fs-extra'\n\n/*\nMain instantiates new MenuBarManager instance. \nConstructor creates variables, change listeners, and calls init().\n*/\n\n// I want to get values from Editor.svelte to editor\n// Example I'll use: toggle source mode\n// User selects `View > Source mode`\n// Enabled == Is active project `panel.sourceMode` true?\n// Dispatch command to reducer\n// Reducer sets value to panel\n// EditorPanel.svelte detects the change, and updates the `sourceMode` prop of Editor.svelte\n// Editor.svelte, when value changes, tells editor.js\n\nconst isMac = process.platform === 'darwin'\nlet menu\nlet menuItems = {}\n\n/**\n * On startup, create initial menu bar, and create change listeners.\n */\n\nexport function init() {\n\n  // ------ SETUP CHANGE LISTENERS ------ //\n\n  // We need to rebuild the menu whenever any of the follow change,\n  // because they drive one or more menu items' `enabled` states.\n\n  global.store.onDidAnyChange((state, oldState) => {\n\n    const hasChanged = [\n      // Focused window\n      stateHasChanged(global.patches, \"focusedWindowId\"),\n      // Focused panel\n      stateHasChanged(global.patches, [\"projects\", \"byId\", \"focusedPanelIndex\"]),\n      // Source mode\n      stateHasChanged(global.patches, \"sourceMode\"),\n      // Appearance\n      stateHasChanged(global.patches, \"theme\"),\n      stateHasChanged(global.patches, \"chromium\"),\n    ]\n\n    const anyOfTheAboveHaveChanged = hasChanged.includes(true)\n\n    if (anyOfTheAboveHaveChanged) {\n      Menu.setApplicationMenu(getMenu())\n    }\n  })\n\n  // ------ DO INITIAL SETUP ------ //\n\n  Menu.setApplicationMenu(getMenu())\n}\n\n\n\n/**\n * Return a populated electron Menu instance.\n */\nfunction getMenu() {\n\n  // Create a new electron Menu instance\n  menu = new Menu()\n\n  // Generate the menu iems\n  menuItems = getMenuItems()\n\n  // Append the menu items to the Menu\n  menuItems.topLevel.forEach((item) => menu.append(item))\n\n  return menu\n}\n\n\nfunction getFocusedProject() {\n  const state = global.state()\n  return state.projects.byId[state.focusedWindowId]\n}\n\nfunction getFocusedPanel() {\n  const project = getFocusedProject()\n  return project?.panels[project?.focusedPanelIndex]\n}\n\n/**\n * Return Menu Items. These are appended to a new Menu instance.\n */\nfunction getMenuItems() {\n\n  const state = global.state()\n  const project = getFocusedProject()\n  const panel = getFocusedPanel()\n\n  const items = {\n    topLevel: []\n  }\n\n  // Separator\n  const _______________ = new MenuItem({ type: 'separator' })\n\n\n  // -------- App (Mac-only) -------- //\n\n  if (isMac) {\n    items.topLevel.push(new MenuItem({\n      label: app.name,\n      submenu: [\n        { role: 'about' },\n        _______________,\n        new MenuItem({\n          label: 'Preferences',\n          accelerator: 'CmdOrCtrl+,',\n          async click() {\n            global.store.dispatch({ type: 'OPEN_PREFERENCES' })\n          }\n        }),\n        _______________,\n        { role: 'services', submenu: [] },\n        _______________,\n        { role: 'hide' },\n        { role: 'hideothers' },\n        { role: 'unhide' },\n        _______________,\n        { role: 'quit' }\n      ]\n    }))\n  }\n\n\n  // -------- File (Mac-only) -------- //\n\n  if (isMac) {\n\n    items.closeEditor = new MenuItem({\n      label: 'Close Editor',\n      accelerator: 'CmdOrCtrl+W',\n      enabled: panel !== undefined,\n      click(item, focusedWindow) {\n\n        // In dev mode, we can get into state where there's no focused window, and/or no project. I think it may happen when dev tools is open in a panel. Check before proceeding, or we'll get errors.\n        if (!focusedWindow || !project) return\n\n        // If there are multiple panels open, close the focused one. Else, close the project window.\n        if (project.panels.length > 1) {\n          global.store.dispatch({\n            type: 'CLOSE_PANEL',\n            panelIndex: project.focusedPanelIndex\n          }, focusedWindow)\n        } else {\n          focusedWindow.close()\n        }\n      }\n    })\n\n    items.closeWindow = new MenuItem({\n      label: 'Close Window',\n      accelerator: 'CmdOrCtrl+Shift+W',\n      enabled: panel !== undefined,\n      click(item, focusedWindow) {\n        focusedWindow.close()\n      }\n    })\n\n    function isMoveToTrashEnabled() {\n      const sideBarIsOpen = project?.sidebar.isOpen\n      const selectedTab = project?.sidebar.tabsById[project?.sidebar.activeTabId]\n      const fileIsSelectedInSidebar = selectedTab?.selected.length\n      return sideBarIsOpen && fileIsSelectedInSidebar\n    }\n\n    items.moveToTrash = new MenuItem({\n      label: 'Move to Trash',\n      accelerator: 'CmdOrCtrl+Backspace',\n      enabled: isMoveToTrashEnabled(),\n      async click(item, focusedWindow) {\n\n        // Get selected file paths\n        const watcher = global.watchers.find((w) => w.id == focusedWindow.projectId)\n        const project = getFocusedProject()\n        const activeSidebarTab = project.sidebar.tabsById[project.sidebar.activeTabId]\n        let filePathsToDelete = []\n        activeSidebarTab.selected.forEach((id) => {\n          const filepath = watcher.files.byId[id]?.path\n          filePathsToDelete.push(filepath)\n        })\n        \n        // Delete\n        await Promise.all(\n          filePathsToDelete.map(async (filepath) => {\n            await remove(filepath)\n          })\n        )\n\n        // focusedWindow.webContents.send('mainRequestsDeleteFile')\n      }\n    })\n\n    items.newDocument = new MenuItem({\n      label: 'New Document',\n      accelerator: 'CmdOrCtrl+N',\n      enabled: project !== undefined,\n      async click(item, focusedWindow) {\n        // TODO\n        // global.store.dispatch(await newFile(state))\n      }\n    })\n\n    items.newEditor = new MenuItem({\n      label: 'New Editor',\n      accelerator: 'CmdOrCtrl+T',\n      enabled: project !== undefined,\n      async click(item, focusedWindow) {\n        // Create new panel to right of the current focused panel\n        global.store.dispatch({\n          type: 'OPEN_NEW_PANEL',\n          docId: '',\n          panelIndex: project.focusedPanelIndex + 1\n        }, focusedWindow)\n      }\n    })\n\n    items.newWindow = new MenuItem({\n      label: 'New Window',\n      accelerator: 'CmdOrCtrl+Shift+N',\n      async click(item, focusedWindow) {\n        global.store.dispatch({ type: 'CREATE_NEW_PROJECT' })\n      }\n    })\n\n    items.openProject = new MenuItem({\n      label: 'Open Project...',\n      accelerator: 'CmdOrCtrl+Shift+O',\n      enabled: project !== undefined,\n      async click(item, focusedWindow) {\n        global.store.dispatch(await selectProjectDirectoryFromDialog(), focusedWindow)\n      }\n    })\n\n    items.save = new MenuItem({\n      label: 'Save',\n      accelerator: 'CmdOrCtrl+S',\n      enabled: project !== undefined,\n      click(item, focusedWindow) {\n        if (getFocusedPanel().unsavedChanges) {\n          focusedWindow.webContents.send('mainRequestsSaveFocusedPanel')\n        }\n      }\n    })\n\n    items.saveAll = new MenuItem({\n      label: 'Save All',\n      accelerator: 'CmdOrCtrl+Alt+S',\n      enabled: panel !== undefined,\n      click(item, focusedWindow) {\n        focusedWindow.webContents.send('mainRequestsSaveAll')\n      }\n    })\n\n    items.topLevel.push(new MenuItem({\n      label: 'File',\n      submenu: [\n        items.newDocument,\n        items.newEditor,\n        items.newWindow,\n        _______________,\n        items.openProject,\n        _______________,\n        items.save,\n        items.saveAll,\n        items.moveToTrash,\n        _______________,\n        items.closeEditor,\n        items.closeWindow\n      ]\n    }))\n  }\n\n\n  // -------- Edit -------- //\n\n\n  // mI.startspeaking = new MenuItem({ role: 'startspeaking' })\n  // mI.stopspeaking = new MenuItem({ role: 'stopspeaking' })\n\n  items.findInFiles = new MenuItem({\n    label: 'Find in Files',\n    accelerator: 'CmdOrCtrl+Shift+F',\n    enabled: project !== undefined,\n    click(item, focusedWindow) {\n      // focusedWindow.webContents.send('findInFiles')\n    }\n  })\n\n  items.replaceInFiles = new MenuItem({\n    label: 'Replace in Files',\n    accelerator: 'CmdOrCtrl+Shift+H',\n    enabled: project !== undefined,\n    click(item, focusedWindow) {\n      // focusedWindow.webContents.send('findInFiles')\n    }\n  })\n\n  items.topLevel.push(new MenuItem(\n    {\n      label: 'Edit',\n      submenu: [\n        { role: 'undo' },\n        { role: 'redo' },\n        _______________,\n        { role: 'cut' },\n        { role: 'copy' },\n        { role: 'paste' },\n        { role: 'selectall' },\n        _______________,\n        items.findInFiles,\n        items.replaceInFiles,\n        // If macOS, add speech options to Edit menu\n        ...isMac ? [\n          _______________,\n          {\n            label: 'Speech',\n            submenu: [\n              { role: 'startspeaking' },\n              { role: 'stopspeaking' }\n            ]\n          }\n        ] : []\n      ]\n    }\n  ))\n\n\n  // -------- View -------- //\n\n  items.themeDark = new MenuItem({\n    label: 'Dark',\n    type: 'checkbox',\n    checked: state.theme.app == 'dark',\n    click() {\n      store.dispatch({\n        type: 'SET_APP_THEME',\n        theme: 'dark',\n      })\n    }\n  })\n\n  items.themeLight = new MenuItem({\n    label: 'Light',\n    type: 'checkbox',\n    checked: state.theme.app == 'light',\n    click() {\n      store.dispatch({\n        type: 'SET_APP_THEME',\n        theme: 'light',\n      })\n    }\n  })\n\n  items.themeMatchSystem = new MenuItem({\n    label: 'Match System',\n    type: 'checkbox',\n    checked: state.theme.app == 'match-system',\n    click() {\n      store.dispatch({\n        type: 'SET_APP_THEME',\n        theme: 'match-system',\n      })\n    }\n  })\n\n  items.sourceMode = new MenuItem({\n    label: 'Source mode',\n    type: 'checkbox',\n    checked: state.sourceMode,\n    accelerator: 'CmdOrCtrl+/',\n    click(item, focusedWindow) {\n      if (focusedWindow) {\n        global.store.dispatch({\n          type: 'SET_SOURCE_MODE',\n          enabled: !global.state().sourceMode,\n        }, focusedWindow)\n      }\n    }\n  })\n\n  items.toggleDevTools = new MenuItem({\n    label: 'Toggle Developer Tools',\n    accelerator: isMac ? 'Alt+Command+I' : 'Ctrl+Shift+I',\n    role: 'toggleDevTools',\n  })\n\n  items.reload = new MenuItem({\n    label: 'Reload',\n    accelerator: 'CmdOrCtrl+R',\n    role: 'reload'\n  })\n\n  items.topLevel.push(new MenuItem({\n    label: 'View',\n    submenu: [\n      {\n        label: 'Appearance',\n        submenu: [\n          items.themeMatchSystem,\n          _______________,\n          items.themeLight,\n          items.themeDark\n        ]\n      },\n      _______________,\n      items.sourceMode,\n      ...app.isPackaged ? [] : [\n        _______________,\n        items.toggleDevTools, \n        items.reload\n      ],\n    ]\n  }))\n\n  return items\n}\n\n","import { stat } from 'fs-extra'\nimport matter from 'gray-matter'\nimport removeMd from 'remove-markdown'\nimport path from 'path'\n\n/**\n * For specified path, return document details\n */\nexport async function mapDocument (filepath, parentId, nestDepth, stats = undefined) {\n\n\tif (stats == undefined) stats = await stat(filepath)\n\n\tconst doc = {\n\t\ttype: 'doc',\n\t\tname: '',\n\t\tpath: filepath,\n\t\tid: `doc-${stats.ino}`,\n\t\tparentId: parentId,\n\t\tcreated: stats.birthtime.toISOString(),\n\t\tmodified: stats.mtime.toISOString(),\n\t\tnestDepth: nestDepth,\n\t\t// --- Doc-specific --- //\n\t\ttitle: '',\n\t\texcerpt: '',\n\t\ttags: [],\n\t}\t\n\n\t// Get front matter\n\tconst gm = matter.read(filepath)\n\n\t// Set excerpt\n\t// `md.contents` is the original input string passed to gray-matter, stripped of front matter.\n\tdoc.excerpt = removeMarkdown(gm.content, 350)\n\n\t// Set fields from front matter (if it exists)\n\t// gray-matter `isEmpty` property returns \"true if front-matter is empty\".\n\tconst hasFrontMatter = !gm.isEmpty\n\tif (hasFrontMatter) {\n\t\t// If `tags` exists in front matter, use it. Else, set as empty `[]`.\n\t\tdoc.tags = gm.data.hasOwnProperty('tags') ? gm.data.tags : []\n\t}\n\n\t// Set title, if present. E.g. \"Sea Level Rise\"\n\tdoc.title = getTitle(gm, path.basename(filepath))\n\n\t// Set name from filename (minus file extension)\n\tdoc.name = path.basename(filepath)\n\tdoc.name = doc.name.slice(0, doc.name.lastIndexOf('.'))\n\n\treturn doc\n\n\t// if (oldVersion !== undefined) {\n\t//   const lhs = Object.assign({}, oldVersion)\n\t//   const rhs = file\n\t//   diff.observableDiff(lhs, rhs, (d) => {\n\t//     if (d.kind !== 'D') {\n\t//       diff.applyChange(lhs, rhs, d)\n\t//     }\n\t//   })\n\t//   return lhs\n\t// } else {\n\t// }\n}\n\n/**\n * Set title, in following order of preference:\n * 1. From first h1 in content\n * 2. From `title` field of front matter\n * 3. Leave blank (means no title was found)\n */\nfunction getTitle(graymatter, filename) {\n\n\tlet titleFromH1 = graymatter.content.match(/^# (.*)$/m)\n\tif (titleFromH1) {\n\t\treturn titleFromH1[1]\n\t} else if (graymatter.data.hasOwnProperty('title')) {\n\t\treturn graymatter.data.title\n\t} else {\n\t\treturn ''\n\t\t// return filename.slice(0, filename.lastIndexOf('.'))\n\t}\n}\n\n/**\n * Return content stripped of markdown characters.\n * And (optionally) trimmed down to specific character length.\n * Per: https://github.com/jonschlinkert/gray-matter#optionsexcerpt\n * @param {*} content \n * @param {*} trimToLength \n */\nexport function removeMarkdown(content, trimToLength = undefined) {\n\n\t// Remove h1, if it exists. Currently atx-style only.\n\tlet text = content.replace(/^# (.*)\\n/gm, '')\n\t\n\t// If `trimToLength` is defined, do initial trim.\n\t// We will then remove markdown characters, and trim to final size.\n\t// We do initial trim for performance purposes: to reduce amount of\n\t// text that regex replacements below have to process. We add buffer\n\t// of 100 characters, or else trimming markdown characters could put\n\t// use under the specified `trimToLength` length.\n\tif (trimToLength) {\n\t\ttext = text.substring(0, trimToLength + 100)\n\t}\n\n\t// Remove markdown formatting. Start with remove-markdown rules.\n\t// Per: https://github.com/stiang/remove-markdown/blob/master/index.js\n\t// Then add whatever additional changes I want (e.g. new lines).\n\ttext = removeMd(text)\n\t\t.replace(blockQuotes, '') \n\t\t.replace(newLines, '')         // New lines at start of line (usually doc)\n\t\t.replace(unwantedWhiteSpace, ' ')\n\t\t.replace(bracketedSpans, ' ')\n\t\t// .replace(citations, '')\n\n\t// If `trimToLength` is defined, trim to final length.\n\tif (trimToLength) {\n\t\ttext = text.substring(0, trimToLength)\n\t}\n\n\treturn text\n}\n\nconst blockQuotes = /^> /gm\nconst bracketedSpans = /:::.*?:::/gm\nconst citations = /\\[@.*?\\]/gm\n\n// New lines at start of doc\nconst newLines = /^\\n/gm\n\n// Replace with space:\n// - New lines in-line\n// - Artifact left from list replacement\n// - Extra spaces\nconst unwantedWhiteSpace = /\\n|\\t|\\s{2,}/gm\n","import { stat } from 'fs-extra'\nimport path from 'path'\nimport { getMediaType } from '../../shared/utils'\nimport sizeOf from 'image-size'\n\n/**\n * For specified path, return document details\n */\nexport async function mapMedia (filepath, parentId, nestDepth, stats = undefined) {\n\n\tif (stats == undefined) stats = await stat(filepath)\n\tconst extension = path.extname(filepath)\n\tconst type = getMediaType(extension)\n\tconst { width, height, type: format } = sizeOf(filepath)\n\n\treturn {\n\t\ttype: type,\n\t\tname: path.basename(filepath),\n\t\tpath: filepath,\n\t\tid: `${type}-${stats.ino}`,\n\t\tparentId: parentId,\n\t\tcreated: stats.birthtime.toISOString(),\n\t\tmodified: stats.mtime.toISOString(),\n\t\tnestDepth: nestDepth,\n\t\t// --- Media-specific --- //\n\t\tformat: format,\n\t\tsizeInBytes: stats.size,\n\t\tdimensions: { width: width, height: height },\n\t}\n}","import { stat, readdir } from 'fs-extra'\nimport path from 'path'\nimport { mapDocument } from './mapDocument'\nimport { mapMedia } from './mapMedia'\nimport { isDoc, isMedia, getMediaType } from '../../shared/utils.js'\n// import colors from 'colors'\n\n\n/**\n * For specified folder path, map the folder and it's child  \n * documents, media, and citations, and return `contents` object\n * with four arrays (one for each type).\n * @param {*} files - Reference to shared object we write changes to, and then return\n * @param {*} parentTreeItem - Tree item to add self to\n * @param {*} folderPath - Path to map\n * @param {*} stats - Optional. Can pass in stats, or if undefined, will get them in function.\n * @param {*} parentId - Optional. If undefined, we regard the folder as `root`\n * @param {*} nestDepth - Optional.\n */\nexport async function mapFolder(files, parentTreeItem, folderPath, stats = undefined, parentId = '', nestDepth = 0) {\n\n  // -------- New Folder -------- //\n\n  if (!stats) stats = await stat(folderPath)\n\n  // Create and populate new folder\n  const folder = {\n    type: 'folder',\n    name: folderPath.substring(folderPath.lastIndexOf('/') + 1),\n    path: folderPath,\n    id: `folder-${stats.ino}`,\n    parentId: parentId,\n    created: stats.birthtime.toISOString(),\n    modified: stats.mtime.toISOString(),\n    nestDepth: nestDepth,\n    // --- Folder-specific --- //\n    numChildren: 0,\n    numDescendants: 0,\n  }\n\n  // Add to `files`\n  files.byId[folder.id] = folder\n  files.allIds.push(folder.id)\n\n  // Populate tree details\n  const treeItem = {\n    id: folder.id,\n    parentId: parentId,\n    children: []\n  }\n  parentTreeItem.push(treeItem)\n\n\n  // -------- Contents -------- //\n\n  // Get everything in directory with `readdir`.\n  // Returns array of `fs.Dirent` objects.\n  // https://nodejs.org/api/fs.html#fs_class_fs_dirent\n  const directoryContents = await readdir(folderPath, { withFileTypes: true })\n\n  await Promise.all(\n    directoryContents.map(async (f) => {\n\n      // Get path by combining folderPath with file name.\n      const filepath = path.join(folderPath, f.name)\n\n      // Get extension\n      const ext = path.extname(f.name)\n\n      if (f.isDirectory()) {\n\n        const { numDescendants } = await mapFolder(files, treeItem.children, filepath, undefined, folder.id, nestDepth + 1)\n\n        // Increment child counters\n        folder.numChildren++\n        folder.numDescendants += numDescendants\n\n      } else if (isDoc(ext) || isMedia(ext)) {\n\n        const file = isDoc(ext) ? \n          await mapDocument(filepath, folder.id, nestDepth + 1) : \n          await mapMedia(filepath, folder.id, nestDepth + 1)\n\n        files.byId[file.id] = file\n        files.allIds.push(file.id)\n        treeItem.children.push({\n          id: file.id,\n          parentId: folder.id,\n        })\n\n        // Increment child counters\n        folder.numChildren++\n      }\n    })\n  )\n\n  folder.numDescendants += folder.numChildren\n\n  return {\n    numDescendants: folder.numDescendants\n  }\n}","import { mapFolder } from './mapFolder'\n\n/**\n * Map project path recursively and dispatch results to store\n * @param {*} projectPath \n */\nexport async function mapProject (projectPath) {\n\n  try {\n\n    const files = {\n      tree: [],\n      byId: {},\n      allIds: []\n    }\n\n    // Map project path, recursively\n    await mapFolder(files, files.tree, projectPath)\n    \n    return files\n    \n    // console.log(JSON.stringify(files, null, 2))\n\n  } catch (err) {\n    console.log(err)\n  }\n}","import { BrowserWindow } from 'electron'\nimport chokidar from 'chokidar'\nimport path from 'path'\nimport { pathExists } from 'fs-extra'\nimport produce, { enablePatches } from 'immer'\nimport { mapProject } from './mapProject'\nimport { mapDocument, removeMarkdown } from './mapDocument'\nimport { mapMedia } from './mapMedia'\nimport { findInTree, getFileType, isDoc, isMedia } from '../../shared/utils.js'\nimport matter from 'gray-matter'\nimport { debounce } from 'debounce'\n\nenablePatches()\n\n/**\n * Chokidar docs: https://www.npmjs.com/package/chokidar\n */\nconst chokidarConfig = {\n  ignored: /(^|[\\/\\\\])\\../, // Ignore dotfiles\n  ignoreInitial: true,\n  persistent: true,\n  awaitWriteFinish: {\n    stabilityThreshold: 400,\n    pollInterval: 200\n  }\n}\n\nexport class Watcher {\n  constructor(id, project, window) {\n    \n    this.id = id\n    this.directory = project.directory\n    this.window = window\n    \n    // If directory is populated, create the watcher\n    if (this.directory) {\n      this.start()\n    }\n  }\n\n  // ------ VARIABLES ------ //\n\n  id = ''\n  directory = ''\n  window = undefined\n  \n  files = {}\n  chokidarInstance = undefined\n  pendingChanges = []\n  changeTimer = undefined\n\n\n  // ------ METHODS ------ //\n\n  /**\n   * Start the chokidar instance. Called once `this.directory` is first defined.\n   */\n  async start() {\n\n    // Start watcher\n    this.chokidarInstance = chokidar.watch(this.directory, chokidarConfig)\n\n    // On any event, track changes. Some events include `stats`.\n    this.chokidarInstance\n      .on('change', (filePath) => this.batchChanges('change', filePath))\n      .on('add', (filePath) => this.batchChanges('add', filePath))\n      .on('unlink', (filePath) => this.batchChanges('unlink', filePath))\n      .on('addDir', (filePath) => this.batchChanges('addDir', filePath))\n      .on('unlinkDir', (filePath) => this.batchChanges('unlinkDir', filePath))\n\n    // Map project\n    this.files = await mapProject(this.directory)\n\n    // Send initial files to browser window\n    this.window.webContents.send('initialFilesFromMain', this.files)\n\n    // Index files into DB\n    insertAllDocsIntoDb(this.files)\n  }\n\n  changeDirectories(newDirectory) {\n    this.chokidarInstance.unwatch(this.directory)\n    this.directory = newDirectory\n    this.start()\n  }\n\n\n  /**\n   * Stop the chokidar instance. Called when project is closed.\n   */\n  stop() {\n    // TODO: Stop watcher when project is closed\n    this.chokidarInstance.close()\n  }\n\n\n  /**\n   * Create a tally of changes as they occur, and once things settle down, evaluate them. We do this because on directory changes in particular, chokidar lists each file modified, _and_ the directory modified. We don't want to trigger a bunch of file change handlers in this scenario, so we need to batch changes, so we can figure out they include directories.\n   */\n  debounceFunc = debounce(() => {\n    this.applyChanges(this.pendingChanges)\n    this.pendingChanges = [] // Reset\n  }, 400)\n\n  batchChanges(event, filePath, stats) {\n    const change = { event: event, path: filePath }\n\n    if (stats) change.stats = stats\n\n    // Push into list of pending changes\n    this.pendingChanges.push(change)\n\n    // Wait a bit, then apply the pending changes. Make the debounce timer longer if `addDir` event comes through. If it's too quick, subsequent `add` events are not caught by the timer.\n    // const debounceTimer = event == 'addDir' ? 500 : 100\n\n    this.debounceFunc()\n  }\n\n\n  /**\n   * Take batched changes and update `files`, then send patches to associated BrowserWindow. If a directory was added or removede, remap everything.\n   * @param {*} changes \n   */\n  async applyChanges(changes) {\n\n    // console.log(changes)\n\n    const directoryWasAddedOrRemoved = changes.some((c) => c.event == 'addDir' || c.event == 'unlinkDir')\n\n    if (directoryWasAddedOrRemoved) {\n\n      // Map project\n      this.files = await mapProject(this.directory)\n\n      // Send files to browser window\n      this.window.webContents.send('initialFilesFromMain', this.files)\n\n      // Index files into DB\n      insertAllDocsIntoDb(this.files)\n\n    } else {\n\n      // Update `files` using Immer.\n      this.files = await produce(this.files, async (draft) => {\n        for (const c of changes) {\n          const ext = path.extname(c.path)\n          const parentPath = path.dirname(c.path)\n          const parentId = draft.allIds.find((id) => draft.byId[id].path == parentPath)\n          const parentFolder = draft.byId[parentId]\n          const parentTreeItem = findInTree(draft.tree, parentFolder.id, 'id')\n\n          if (isDoc(ext) || isMedia(ext)) {\n\n            switch (c.event) {\n\n              case 'add': {\n                const file = isDoc(ext) ?\n                  await mapDocument(c.path, parentFolder.id, parentFolder.nestDepth + 1, c.stats) :\n                  await mapMedia(c.path, parentFolder.id, parentFolder.nestDepth + 1, c.stats)\n                // Add to `byId`\n                draft.byId[file.id] = file\n                // Add to `allIds`\n                draft.allIds.push(file.id)\n                // Add to `tree`\n                parentTreeItem.children.push({\n                  id: file.id,\n                  parentId: file.parentId,\n                  type: file.type\n                })\n                // Increment `numChildren` of parent folder\n                parentFolder.numChildren++\n                // Recursively increment parent folder(s) `numDescendants`\n                incrementNumDescendants(parentFolder)\n                function incrementNumDescendants(folder) {\n                  folder.numDescendants++\n                  if (folder.parentId !== '') {\n                    incrementNumDescendants(draft.byId[folder.parentId])\n                  }\n                }\n                // Add to database (if it's a doc)\n                if (isDoc(ext)) insertDocIntoDb(file)\n                break\n              }\n\n              case 'change': {\n                const file = isDoc(ext) ?\n                  await mapDocument(c.path, parentFolder.id, parentFolder.nestDepth + 1, c.stats) :\n                  await mapMedia(c.path, parentFolder.id, parentFolder.nestDepth + 1, c.stats)\n                draft.byId[file.id] = file\n                // If doc, update row in db\n                if (isDoc) insertDocIntoDb(file)\n                break\n              }\n\n              case 'unlink': {\n                const id = draft.allIds.find((id) => draft.byId[id].path == c.path)\n                // Remove from `byId`\n                delete draft.byId[id]\n                // Remove from `allIds`\n                draft.allIds.splice(draft.allIds.indexOf(id), 1)\n                // Remove from `tree`\n                parentTreeItem.children.splice(parentTreeItem.children.findIndex((child) => child.id == id), 1)\n                // Decrement `numChidren` of parent folder\n                parentFolder.numChildren--\n                // Recursively decrement parent folder(s) `numDescendants`\n                decrementNumDescendants(parentFolder)\n                function decrementNumDescendants(folder) {\n                  folder.numDescendants--\n                  if (folder.parentId !== '') {\n                    decrementNumDescendants(draft.byId[folder.parentId])\n                  }\n                }\n                // Delete from database (if it's a doc)\n                if (isDoc(ext)) global.db.delete(file.id)\n                break\n              }\n            }\n          }\n\n        }\n      }, (patches, inversePatches) => {\n        this.window.webContents.send('filesPatchesFromMain', patches)\n      })\n    }\n  }\n}\n\n\n\n\n// ------ UTILITY FUNCTIONS ------ //\n\n/**\n * For each doc found in files, add it to the sqlite database. Most important is the document body, which we need for full text search. We get it as plain text by 1) loading the doc using gray-matter, which returns `content` for us, without front matter, and 2) removing markdown formatting.\n */\nfunction insertAllDocsIntoDb(files) {\n  const filesForDb = []\n  files.allIds.forEach((id) => {\n    const file = files.byId[id]\n    if (file.type == 'doc') {\n      filesForDb.push(getDbReadyFile(file))\n    }\n  })\n  // Insert the files into the db\n  global.db.insertMany(filesForDb)\n}\n\n/** \n * Insert specified file in the sqlite database. If a row with the same `file.id` already exists, it will be replaced.\n */\nfunction insertDocIntoDb(file) {\n  global.db.insert(getDbReadyFile(file))\n}\n\n/**\n * Utility function that returns an object with 1) the file's metadata, and 2) it's full text content, stripped of markdown characters, excess whitespace, etc. We'll insert this object as a row in the sql database, for later full text searching.\n * @param {*} file - Taken from `files.byId`. Has title, path, etc.\n */\nfunction getDbReadyFile(file) {\n\n  // Get doc text, minus any front matter\n  let { content } = matter.read(file.path)\n\n  // Remove markdown formatting from text\n  content = removeMarkdown(content)\n\n  // Return object, ready for the db.\n  return {\n    id: file.id,\n    name: file.name,\n    title: file.title,\n    path: file.path,\n    body: content\n  }\n}","import { debounce } from 'debounce'\nimport { app, BrowserWindow, screen } from 'electron'\nimport path from 'path'\nimport { wait } from '../shared/utils'\nimport { getSystemColors } from './AppearanceManager'\n\nconst browserWindowConfig = {\n  show: false,\n  width: 700,\n  height: 500,\n  // vibrancy: 'sidebar', // Turning off due to poor performance.\n  // transparent: true,\n  titleBarStyle: 'hiddenInset',\n  webPreferences: {\n    scrollBounce: false,\n    // Security:\n    allowRunningInsecureContent: false,\n    contextIsolation: true,\n    enableRemoteModule: false,\n    nativeWindowOpen: false,\n    nodeIntegration: false,\n    nodeIntegrationInWorker: false,\n    nodeIntegrationInSubFrames: false,\n    safeDialogs: true,\n    sandbox: true,\n    webSecurity: true,\n    webviewTag: false,\n    // Preload\n    preload: path.join(__dirname, 'js/preload.js')\n  }\n}\n\n\nexport async function createWindow(id, project) {\n\n  const win = new BrowserWindow(browserWindowConfig)\n  win.projectId = id\n\n  // Set window background color. Remove last two characters because we don't need alpha. Before : '#323232FF' After: '#323232'\n  // TODO: Setting backgroundColor is currently broken. Background always renders as black, regardless of the value. Issue filed at https://github.com/electron/electron/issues/26842\n  const backgroundColor = getSystemColors().windowBackgroundColor.slice(0, -2)\n  win.setBackgroundColor(backgroundColor)\n\n  const isNewProject = project.directory == ''\n\n  // Set size. If project directory is empty, it's a new project, and we manually set starting values. Else we restore the previous window size and position (stored in `bounds` property)/\n  // Else, create a new window centered on screen.\n  if (isNewProject) {\n    const menuBarHeight = 24\n    const padding = 200\n    const displayWidth = screen.getPrimaryDisplay().workAreaSize.width\n    const displayHeight = screen.getPrimaryDisplay().workAreaSize.height\n    let winWidth = displayWidth - (padding * 2)\n    let winHeight = displayHeight - (padding * 2)\n    winWidth = winWidth > 1600 ? 1600 : winWidth\n    winHeight = winHeight > 1200 ? 1200 : winHeight\n    const offset = win.id * 20\n    const centeredX = Math.round((displayWidth - winWidth) / 2 + offset)\n    const centeredY = Math.round((displayHeight - winHeight) / 2 + offset)\n    win.setBounds({\n      x: centeredX,\n      y: centeredY,\n      width: winWidth,\n      height: winHeight\n    }, false)\n  } else {\n    win.setBounds(project.window.bounds, false)\n\n  }\n\n  // Have to manually set this to 1.0. That should be the default, but I've had problem where something was setting it to 0.91, resulting in the UI being slightly too-small.\n  // win.webContents.zoomFactor = 1.0\n\n  // Listen for 'close' action. Can be triggered by either 1) manually closing individual window, (e.g. click close button on window, or type Cmd-W), or 2) quitting the app. \n\n  // If closed manually, this event is triggered twice: the first time, we prevent the default, and tell webContents to save open documents. That process results in window.status being set to `safeToClose`. ProjectManager catches that state change, and tells this window to close again.\n  win.on('close', async (evt) => {\n\n    const userManuallyClosedWindow = global.state().appStatus !== 'canSafelyQuit'\n    const winIsSafeToClose = global.state().projects.byId[id].window.status == 'safeToClose'\n\n    // If window is closing because user manually closed it (e.g. typed Cmd-W), then check if it's safe to close yet. If not, begin that process. ProjectManager will call close again once the window is safe to close, and this time, \n    if (userManuallyClosedWindow && !winIsSafeToClose) {\n      // Tell window to close\n      evt.preventDefault()\n      win.webContents.send('mainWantsToCloseWindow')\n    }\n  })\n\n  // If app is NOT quiting, we remove the project from store after closing the window. Because if the user manually closes a window, they mean to close the project. But if they quit the app, they want to their open projects to reopen, next session.\n  win.on('closed', async (evt) => {\n    \n    const appIsNotQuiting = global.state().appStatus == 'open'\n    if (appIsNotQuiting) {\n      await global.store.dispatch({ type: 'REMOVE_PROJECT' }, win)\n    }\n    \n    // If there are no other windows open, clear `focusedWindowId`\n    const otherWindowsAreOpen = BrowserWindow.getAllWindows().length\n    if (!otherWindowsAreOpen) {\n      global.store.dispatch({ type: 'NO_WINDOW_FOCUSED' })\n    }\n  })\n\n  // On resize or move, save bounds to state (wait 1 second to avoid unnecessary spamming). Using `debounce` package: https://www.npmjs.com/package/debounce\n  win.on('resize', debounce(() => { saveWindowBoundsToState(win) }, 1000))\n  win.on('move', debounce(() => { saveWindowBoundsToState(win) }, 1000))\n\n  // On focus, set `focusedWindowId` to win.id\n  win.on('focus', () => {\n    global.store.dispatch({ type: 'FOCUSED_WINDOW' }, win)\n  })\n\n  /*\n  On blur, wait a beat. If the user has clicked on another Gambier window it will fire `FOCUSED_WINDOW` and set itself as the `focusedWindowId`. In which case we don't want to do anything. But if the user has clicked outside the app, `focusedWindowId` will still equal this win.projectId after the beat. In which case, set `focusedWindowId` to zero, which we take to mean that the app is in the background.\n  */\n  win.on('blur', async () => {\n    await wait(50)\n    if (global.state().focusedWindowId == win.projectId) {\n      global.store.dispatch({ type: 'NO_WINDOW_FOCUSED' })\n    }\n  })\n\n  // Open DevTools\n  if (!app.isPackaged) win.webContents.openDevTools();\n\n  // Load index.html\n  await win.loadFile(path.join(__dirname, 'index.html'), {\n    query: {\n      id: win.projectId\n    },\n  })\n\n  // Save window bounds\n  saveWindowBoundsToState(win)\n\n  // Set project window status to 'open'\n  global.store.dispatch({\n    type: 'OPENED_PROJECT_WINDOW',\n  }, win)\n\n  return win\n}\n\n/**\n * Save window bounds to state, so we can restore after restart.\n */\nfunction saveWindowBoundsToState(win) {\n  global.store.dispatch({\n    type: 'SAVE_PROJECT_WINDOW_BOUNDS',\n    windowBounds: win.getBounds()\n  }, win)\n}\n","import { BrowserWindow } from \"electron\"\nimport { copySync } from \"fs-extra\"\nimport { getArrayDiff, propHasChangedTo, stateHasChanged } from \"../shared/utils\"\nimport { Watcher } from \"./watcher/Watcher\"\nimport { createWindow } from \"./WindowManager\"\n\n// let projects = {\n//   allIds: [],\n//   byId: {}\n// }\n\nexport function init() {\n\n  // ------ SETUP CHANGE LISTENERS ------ //\n\n  global.store.onDidAnyChange(async (state, oldState) => {\n\n    const projectAdded = state.projects.allIds.length > oldState.projects.allIds.length\n\n    const projectRemoved = state.projects.allIds.length < oldState.projects.allIds.length\n\n    const aProjectDirectoryHasChanged = stateHasChanged(global.patches, ['projects', 'byId', 'directory'])\n\n    const aWindowIsSafeToClose = stateHasChanged(global.patches, ['window', 'status'], 'safeToClose')\n\n    const appIsQuitting = propHasChangedTo('appStatus', 'wantsToQuit', state, oldState)\n\n\n    // If project added, create a Window and Watcher \n    // Determine new project by comparing new and old `allIds`.\n    if (projectAdded) {\n      const id = getArrayDiff(state.projects.allIds, oldState.projects.allIds)[0]\n      createWindowAndWatcher(state, id)\n    }\n\n    // If project directory changed, update (or start) the Watcher\n    if (aProjectDirectoryHasChanged) {\n      const projectIds = getIdsOfProjectsWhoseDirectoriesHaveChanged(state, oldState)\n      projectIds.forEach((id) => {\n        const project = state.projects.byId[id]\n        const watcher = global.watchers.find((watcher) => watcher.id == id)\n        const watcherIsRunning = watcher.directory !== ''\n        if (!watcherIsRunning) {\n          watcher.directory = project.directory\n          watcher.start()\n        } else {\n          watcher.changeDirectories(project.directory)\n        }\n      })\n    }\n\n    // If project removed, stop the watcher, then remove from `global.watchers`.\n    // Determine removed project by comparing old and new `allIds`.\n    if (projectRemoved) {\n      const id = getArrayDiff(oldState.projects.allIds, state.projects.allIds)[0]\n      const watcher = global.watchers.find((w) => w.id == id)\n      const indexOfWatcher = global.watchers.findIndex((w) => w.id == id)\n      watcher.stop()\n      global.watchers.splice(indexOfWatcher, 1)\n    }\n\n    // Close any window whose `window.status` just changed to 'safeToClose'\n    if (aWindowIsSafeToClose) {\n      const windowsToClose = getWindowsThatAreSafeToClose(state, oldState)\n      windowsToClose.forEach((window) => window.close())\n    }\n\n    // If app is quitting, initiate closing procedure for all windows\n    if (appIsQuitting) {\n      startToCloseAllWindows()\n    }\n  })\n\n\n  // ------ DO INITIAL SETUP ------ //\n\n  const state = global.state()\n\n  // On startup, for each project, create a Window and Watcher\n  state.projects.allIds.forEach((id) => {\n    createWindowAndWatcher(state, id)\n  })\n}\n\n\n\n\n\n\n/**\n * Create a window and watcher for a project\n * @param {*} id - Of the project\n */\nasync function createWindowAndWatcher(state, id) {\n  const project = state.projects.byId[id]\n  const window = await createWindow(id, project)\n  const watcher = new Watcher(id, project, window)\n  global.watchers.push(watcher)\n}\n \n\n/**\n * Get projects whose directories have changed\n */\nfunction getIdsOfProjectsWhoseDirectoriesHaveChanged(state, oldState) {\n  let projects = []\n  state.projects.allIds.forEach((id) => {\n    const directory = state.projects.byId[id].directory\n    const oldDirectory = oldState.projects.byId[id].directory\n    if (directory !== oldDirectory) {\n      projects.push(id)\n    }\n  })\n  return projects\n}\n\n/**\n * Get windows that are safe to close\n */\nfunction getWindowsThatAreSafeToClose(state, oldState) {\n  let windows = []\n  state.projects.allIds.forEach((id) => {\n    const windowStatus = state.projects.byId[id].window.status\n    const oldWindowStatus = oldState.projects.byId[id]?.window.status\n    if (windowStatus == 'safeToClose' && oldWindowStatus !== 'safeToClose') {\n      const window = BrowserWindow.getAllWindows().find((win) => win.projectId == id)\n      windows.push(window)\n    }\n  })\n  return windows\n}\n\n/**\n * Called when appStatus changes to `wantsToQuit`.\n */\nfunction startToCloseAllWindows() {\n  const windows = BrowserWindow.getAllWindows()\n  if (windows.length) {\n    windows.forEach((win) => win.webContents.send('mainWantsToCloseWindow'))\n  }\n}","import { app, BrowserWindow } from 'electron'\nimport path from 'path'\nimport { wait } from '../shared/utils'\n\nconst preferencesWindowConfig = {\n  show: false,\n  // width: 1060, // With dev tools open\n  width: 700,\n  height: 480,\n  zoomFactor: 1.0,\n  titleBarStyle: 'hidden',\n  resizable: false,\n  webPreferences: {\n    // Security:\n    allowRunningInsecureContent: false,\n    contextIsolation: true,\n    enableRemoteModule: false,\n    nativeWindowOpen: false,\n    nodeIntegration: false,\n    nodeIntegrationInWorker: false,\n    nodeIntegrationInSubFrames: false,\n    safeDialogs: true,\n    sandbox: true,\n    webSecurity: true,\n    webviewTag: false,\n    // Preload\n    preload: path.join(__dirname, 'js/preload.js')\n  }\n}\n\nexport function init() {\n\n  // ------ SETUP CHANGE LISTENERS ------ //\n\n  // Did `prefs: isOpen` change?\n  global.store.onDidAnyChange((state, oldState) => {\n    if (state.prefs.isOpen !== oldState.prefs.isOpen && state.prefs.isOpen) {\n      open()\n    }\n  })\n}\n\nasync function open() {\n\n  const win = new BrowserWindow(preferencesWindowConfig)\n\n  win.once('ready-to-show', () => {\n    win.show()\n  })\n\n  // 'projectId' is a bit of a misnomer for Preferences, but we use it for the sake of consistency.\n  win.projectId = 'preferences'\n\n  // On focus, set `focusedWindowId` to win.id\n  win.on('focus', () => {\n    global.store.dispatch({ type: 'FOCUSED_WINDOW' }, win)\n  })\n\n  /*\n  On blur, wait a beat. If the user has clicked on another Gambier window it will fire `FOCUSED_WINDOW` and set itself as the `focusedWindowId`. In which case we don't want to do anything. But if the user has clicked outside the app, `focusedWindowId` will still equal this win.projectId after the beat. In which case, set `focusedWindowId` to zero, which we take to mean that the app is in the background.\n  */\n  win.on('blur', async () => {\n    await wait(50)\n    if (global.state().focusedWindowId == win.projectId) {\n      global.store.dispatch({ type: 'NO_WINDOW_FOCUSED' })\n    }\n  })\n\n  win.on('close', () => {\n    global.store.dispatch({ type: 'CLOSE_PREFERENCES' })\n  })\n\n  // if (!app.isPackaged) {\n  //   win.webContents.openDevTools();\n  //   win.setBounds({ width: 1060 })\n  // }\n\n  // Load index.html\n  await win.loadFile(path.join(__dirname, 'preferences.html'), {\n    query: {\n      id: win.projectId\n    },\n  })\n}\n\n","// External dependencies\nimport { app, BrowserWindow, clipboard, dialog, shell, webFrame } from 'electron'\nimport path from 'path'\n\n// Bundled dependencies\nimport { Store } from './Store'\nimport * as AppearanceManager from './AppearanceManager'\nimport { DbManager } from './DbManager'\nimport * as IpcManager from './IpcManager'\nimport * as MenuBarManager from './MenuBarManager'\nimport * as ProjectManager from './ProjectManager'\nimport * as PreferencesManager from './PreferencesManager'\nimport { propHasChangedTo } from '../shared/utils'\n\n\n// -------- Process variables -------- //\n\nprocess.env.ELECTRON_DISABLE_SECURITY_WARNINGS = true\n\n\n// -------- Reload (Development-only) -------- //\n\napp.commandLine.appendSwitch('inspect=5858')\napp.commandLine.appendSwitch('enable-transparent-visuals')\n\nif (!app.isPackaged) {\n\n  const watchAndReload = [\n    path.join(__dirname, '**/*.js'),\n    path.join(__dirname, '**/*.html'),\n    path.join(__dirname, '**/*.css'),\n    path.join(__dirname, '**/*.xml')\n    // 'main.js',\n    // '**/*.js',\n    // '**/*.html',\n    // '**/*.css',\n    // '**/*.xml',\n    // '**/*.png',\n    // '**/*.jpg',\n  ]\n\n  require('electron-reload')(watchAndReload, {\n    // awaitWriteFinish: {\n    //   stabilityThreshold: 10,\n    //   pollInterval: 50\n    // },\n    electron: path.join(__dirname, '../node_modules', '.bin', 'electron'),\n    // hardResetMethod: 'exit',\n    argv: ['--inspect=5858', '--enable-transparent-visuals'],\n  })\n\n  console.log('// - - - - - - - - - - - - - - -')\n  console.log(`Gambier. Electron ${process.versions.electron}. Chrome ${process.versions['chrome']}`)\n}\n\n\n// -------- IPC TESTING -------- //\n\n// ipc.config.id = 'world';\n// ipc.config.retry = 1500;\n\n// ipc.serve(() => {\n\n//     ipc.server.on('message', (data, socket) => {\n//       ipc.log('got a message : '.debug, data)\n//       ipc.server.emit(\n//         socket,\n//         'message',  // This can be anything you want so long as your client knows.\n//         data + ' world!'\n//       )\n//     })\n\n//     ipc.server.on('socket.disconnected', (socket, destroyedSocketID) => {\n//       ipc.log('client ' + destroyedSocketID + ' has disconnected!')\n//     })\n//   }\n// )\n\n// ipc.server.start()\n\n\n\n// -------- SETUP -------- //\n\n// Set this to shut up console warnings re: deprecated default. If not set, it defaults to `false`, and console then warns us it will default `true` as of Electron 9. Per: https://github.com/electron/electron/issues/18397\napp.allowRendererProcessReuse = true\n\n// Create store (and global variables for store and state)\nglobal.store = new Store()\nglobal.state = () => global.store.store\nglobal.patches = [] // Most recent patches from Immer\nglobal.watchers = [] // Watchers. Are populdated by ProjectManager\n\n// Create Sqlite databaase (happens in the constructor). \n// Class instance has useful functions for interacting w/ the db.\n// E.g. Insert new row, update, etc.\nglobal.db = new DbManager()\n\n// Start app\napp.whenReady()\n  .then(async () => {\n\n    // Create IPC listeners/handlers\n    IpcManager.init()\n\n    // Setup preferences manager\n    PreferencesManager.init()\n\n    // Setup menu bar\n    MenuBarManager.init()\n\n    // Prep state as necessary. E.g. Prune projects with bad directories.\n    await global.store.dispatch({ type: 'START_COLD_START' })\n\n    // Get initial system appearance values\n    AppearanceManager.init()\n\n    // Create windows and watchers for projects\n    ProjectManager.init()\n    \n    // App startup complete!\n    await global.store.dispatch({ type: 'FINISH_COLD_START' })\n  })\n\n\n// -------- LISTENERS -------- //\n\n// Start to quit app: Set appStatus to 'safeToQuit'. This triggers windows to close. Once all of them have safely closed (e.g. open docs are saved), appStatus is updated to 'safeToQuit', and we call `app.quit` again. This time it will go through.\n\napp.on('before-quit', async (evt) => {\n  if (global.state().appStatus == 'open') {\n    evt.preventDefault()\n    await global.store.dispatch({\n      type: 'START_TO_QUIT'\n    })\n  } else if (global.state().appStatus == 'wantsToQuit') {\n    // Prevent quitting while quit is already in progress\n    evt.preventDefault()\n  }\n})\n\n/**\n * Quit app when appStatus changes to 'safeToQuit'\n */\nglobal.store.onDidAnyChange(async (state, oldState) => {\n\n  const canSafelyQuit = propHasChangedTo('appStatus', 'canSafelyQuit', state, oldState)\n\n  if (canSafelyQuit) {\n    app.quit()\n  }\n  \n  // if (state.appStatus == 'wantsToQuit') {\n  //   const allWindowsAreSafeToClose = state.projects.allIds.every((id) => {\n  //     const project = state.projects.byId[id]\n  //     return project.status == 'safeToClose'\n  //   })\n\n  //   if (allWindowsAreSafeToClose) {\n  //     // await global.store.dispatch({ type: 'CAN_SAFELY_QUIT' });\n  //     electron.app.quit();\n  //   }\n  // }\n})\n\n// On all windows closed, do nothing. Leave app open.\napp.on('window-all-closed', () => {\n  // \"On macOS it is common for applications and their menu bar to stay active until the user quits explicitly with Cmd + Q\"  https://www.geeksforgeeks.org/save-files-in-electronjs/\n  if (process.platform !== 'darwin') {\n    app.quit()\n  }\n})\n"],"names":["enablePatches","accessSync","fs","produce","nanoid","ElectronStore","app","BrowserWindow","nativeTheme","systemPreferences","webContents","chroma","Database","ipcMain","remove","writeFile","dialog","init","readFile","path","existsSync","copyFileSync","renameSync","readdirSync","Menu","MenuItem","stat","matter","removeMd","sizeOf","readdir","chokidar","debounce","screen","IpcManager.init","PreferencesManager.init","MenuBarManager.init","AppearanceManager.init","ProjectManager.init"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQAA,qBAAa,GAAE;AACf;AACA,SAAS,qBAAqB,CAAC,SAAS,EAAE;AAC1C,EAAE,IAAI;AACN,IAAIC,kBAAU,CAAC,SAAS,EAAEC,sBAAE,CAAC,SAAS,CAAC,IAAI,EAAC;AAC5C,IAAI,OAAO,IAAI;AACf,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,KAAK;AAChB,GAAG;AACH,CAAC;AACD;AACA;AACO,MAAM,MAAM,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM;AAC5C,EAAEC,2BAAO,CAAC,KAAK,EAAE,CAAC,KAAK,KAAK;AAC5B;AACA;AACA;AACA,IAAI,MAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,EAAC;AAC1D;AACA,IAAI,QAAQ,MAAM,CAAC,IAAI;AACvB;AACA;AACA;AACA;AACA,MAAM,KAAK,kBAAkB,EAAE;AAC/B;AACA;AACA,QAAQ,KAAK,CAAC,SAAS,GAAG,eAAc;AACxC;AACA;AACA,QAAQ,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE;AAC1C,UAAU,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK;AAChD;AACA,YAAY,MAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAC;AACnD,YAAY,MAAM,kBAAkB,GAAG,CAAC,OAAO,CAAC,UAAS;AACzD,YAAY,MAAM,uBAAuB,GAAG,CAAC,qBAAqB,CAAC,OAAO,CAAC,SAAS,EAAC;AACrF;AACA,YAAY,IAAI,kBAAkB,IAAI,uBAAuB,EAAE;AAC/D,cAAc,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAC;AAC5C,aAAa;AACb,WAAW,EAAC;AACZ;AACA;AACA,UAAU,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAC;AAClE,SAAS;AACT;AACA;AACA,QAAQ,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE;AAC3C,UAAU,MAAM,EAAE,GAAGC,gBAAM,GAAE;AAC7B,UAAU,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,UAAU,GAAE;AACrD,UAAU,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,EAAC;AACxC,SAAS;AACT;AACA;AACA,QAAQ,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,MAAK;AAClC;AACA,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,mBAAmB,EAAE;AAChC,QAAQ,KAAK,CAAC,SAAS,GAAG,OAAM;AAChC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,eAAe,EAAE;AAC5B,QAAQ,KAAK,CAAC,SAAS,GAAG,cAAa;AACvC,QAAQ,KAAK;AACb,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,KAAK,gBAAgB,EAAE;AAC7B,QAAQ,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC,UAAS;AAChD,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,mBAAmB,EAAE;AAChC,QAAQ,KAAK,CAAC,eAAe,GAAG,GAAE;AAClC,QAAQ,KAAK;AACb,OAAO;AACP;AACA;AACA;AACA,MAAM,KAAK,kBAAkB,EAAE;AAC/B,QAAQ,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,KAAI;AACjC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,mBAAmB,EAAE;AAChC,QAAQ,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,MAAK;AAClC,QAAQ,KAAK;AACb,OAAO;AACP;AACA;AACA;AACA,MAAM,KAAK,eAAe,EAAE;AAC5B,QAAQ,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,MAAK;AACtC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,sBAAsB,EAAE;AACnC,QAAQ,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAM;AACtC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,aAAa,EAAE;AAC1B,QAAQ,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,OAAM;AACpC,QAAQ,KAAK;AACb,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,KAAK,oBAAoB,EAAE;AACjC,QAAQ,MAAM,EAAE,GAAGA,gBAAM,GAAE;AAC3B,QAAQ,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,UAAU,GAAE;AACnD,QAAQ,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,EAAC;AACtC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,gBAAgB,EAAE;AAC7B,QAAQ,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAC;AACpD,QAAQ,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAC;AAChE,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,uBAAuB,EAAE;AACpC;AACA;AACA;AACA,QAAQ,IAAI,qBAAqB,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE;AACrD,UAAU,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC,UAAS;AAC9C,SAAS,MAAM;AACf,UAAU,IAAI,qBAAqB,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAE7C,MAAM;AACjB,YAAY,OAAO,CAAC,SAAS,GAAG,GAAE;AAClC,WAAW;AACX,SAAS;AACT;AACA;AACA,QAAQ,OAAO,CAAC,iBAAiB,GAAG,EAAC;AACrC,QAAQ,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,GAAG,QAAQ,EAAE,EAAE,EAAEA,gBAAM,EAAE,EAAE,EAAC;AACxD,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,4BAA4B,EAAE;AACzC;AACA;AACA;AACA,QAAQ,IAAI;AACZ,UAAUH,kBAAU,CAAC,MAAM,CAAC,IAAI,EAAEC,sBAAE,CAAC,SAAS,CAAC,IAAI,EAAC;AACpD,UAAU,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC,KAAI;AACzC,SAAS,CAAC,OAAO,GAAG,EAAE;AACtB,UAAU,OAAO,CAAC,GAAG,CAAC,GAAG,EAAC;AAC1B,SAAS;AACT,QAAQ,KAAK;AACb,OAAO;AACP;AACA;AACA;AACA,MAAM,KAAK,uBAAuB,EAAE;AACpC;AACA,QAAQ,OAAO,CAAC,MAAM,CAAC,MAAM,GAAG,OAAM;AACtC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,+BAA+B,EAAE;AAC5C,QAAQ,OAAO,CAAC,MAAM,CAAC,MAAM,GAAG,eAAc;AAC9C,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,iCAAiC,EAAE;AAC9C;AACA,QAAQ,OAAO,CAAC,MAAM,CAAC,MAAM,GAAG,cAAa;AAC7C;AACA;AACA;AACA,QAAQ,IAAI,KAAK,CAAC,SAAS,IAAI,aAAa,EAAE;AAC9C;AACA,UAAU,MAAM,wBAAwB,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK;AAC/E,YAAY,MAAM,YAAY,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,OAAM;AACtE,YAAY,OAAO,YAAY,IAAI,aAAa;AAChD,WAAW,EAAC;AACZ;AACA,UAAU,IAAI,wBAAwB,EAAE;AACxC,YAAY,KAAK,CAAC,SAAS,GAAG,gBAAe;AAC7C,WAAW;AACX,SAAS;AACT;AACA,QAAQ,KAAK;AACb,OAAO;AACP;AACA;AACA,MAAM,KAAK,4BAA4B,EAAE;AACzC,QAAQ,OAAO,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,aAAY;AACnD,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,0BAA0B,EAAE;AACvC,QAAQ,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,KAAI;AAC3C,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,2BAA2B,EAAE;AACxC,QAAQ,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,MAAK;AAC5C,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,kBAAkB,EAAE;AAC/B,QAAQ,OAAO,CAAC,gBAAgB,GAAG,MAAM,CAAC,QAAO;AACjD,QAAQ,KAAK;AACb,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,KAAK,0BAA0B,EAAE;AACvC,QAAQ,OAAO,CAAC,OAAO,CAAC,WAAW,GAAG,MAAM,CAAC,GAAE;AAC/C,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,6BAA6B,EAAE;AAC1C,QAAQ,OAAO,CAAC,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAC;AAC3E,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,qBAAqB,EAAE;AAClC,QAAQ,MAAM,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAC;AAC1D,QAAQ,IAAI,GAAG,CAAC,MAAM,EAAE;AACxB,UAAU,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,OAAM;AACpC,SAAS;AACT,QAAQ,IAAI,GAAG,CAAC,SAAS,EAAE;AAC3B,UAAU,GAAG,CAAC,SAAS,GAAG,MAAM,CAAC,UAAS;AAC1C,SAAS;AACT,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,sBAAsB,EAAE;AACnC,QAAQ,MAAM,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAC;AAC1D,QAAQ,GAAG,CAAC,QAAQ,GAAG,MAAM,CAAC,SAAQ;AACtC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,sBAAsB,EAAE;AACnC,QAAQ,MAAM,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAC;AAC1D,QAAQ,GAAG,CAAC,YAAY,GAAG,MAAM,CAAC,aAAY;AAC9C,QAAQ,GAAG,CAAC,QAAQ,GAAG,MAAM,CAAC,SAAQ;AACtC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,qBAAqB,EAAE;AAClC,QAAQ,MAAM,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAC;AAC1D,QAAQ,GAAG,CAAC,YAAY,GAAG,MAAM,CAAC,KAAI;AACtC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,4BAA4B,EAAE;AACzC,QAAQ,MAAM,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAM;AACnD,QAAQ,GAAG,CAAC,OAAO,GAAG,MAAM,CAAC,QAAO;AACpC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,2BAA2B,EAAE;AACxC,QAAQ,MAAM,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAC;AAC1D,QAAQ,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAM;AACtE,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,wBAAwB,EAAE;AACrC,QAAQ,OAAO,CAAC,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,cAAa;AACtE,QAAQ,KAAK;AACb,OAAO;AACP;AACA;AACA;AACA,MAAM,KAAK,mBAAmB,EAAE;AAChC,QAAQ,MAAM,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAC;AACvD,QAAQ,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,MAAK;AAClC,QAAQ,KAAK,CAAC,cAAc,GAAG,MAAK;AACpC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,2BAA2B,EAAE;AACxC,QAAQ,MAAM,YAAY,GAAG,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,EAAC;AACtE,QAAQ,YAAY,CAAC,KAAK,GAAG,MAAM,CAAC,MAAK;AACzC,QAAQ,YAAY,CAAC,cAAc,GAAG,MAAK;AAC3C,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,gBAAgB,EAAE;AAC7B;AACA;AACA,QAAQ,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,EAAE;AACpD,UAAU,GAAG,QAAQ;AACrB,UAAU,EAAE,EAAEE,gBAAM,EAAE;AACtB,UAAU,KAAK,EAAE,MAAM,CAAC,KAAK;AAC7B,SAAS,EAAC;AACV;AACA;AACA,QAAQ,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,EAAC;AACrD;AACA;AACA,QAAQ,OAAO,CAAC,iBAAiB,GAAG,MAAM,CAAC,WAAU;AACrD;AACA;AACA,QAAQ,MAAM,UAAU,GAAG,CAAC,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,EAAC;AACnE,QAAQ,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,UAAU,EAAC;AAC3D;AACA,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,YAAY,EAAE;AACzB;AACA;AACA;AACA,QAAQ,MAAM,UAAU,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACtE;AACA;AACA,QAAQ,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;AAChE;AACA;AACA,QAAQ,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,EAAC;AACrD;AACA;AACA,QAAQ,OAAO,CAAC,iBAAiB,GAAG,MAAM,CAAC,QAAO;AAClD;AACA,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,aAAa,EAAE;AAC1B,QAAQ,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,EAAC;AACnD;AACA;AACA,QAAQ,MAAM,UAAU,GAAG,CAAC,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,EAAC;AACnE,QAAQ,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,UAAU,EAAC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,IAAI,OAAO,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;AACxC,UAAU,OAAO,CAAC,iBAAiB,GAAG,EAAC;AACvC,SAAS,MAAM;AACf,UAAU,MAAM,gCAAgC,GAAG,MAAM,CAAC,UAAU,GAAG,OAAO,CAAC,kBAAiB;AAChG,UAAU,MAAM,qCAAqC,GAAG,MAAM,CAAC,UAAU,IAAI,OAAO,CAAC,iBAAiB,IAAI,MAAM,CAAC,UAAU,IAAI,OAAO,CAAC,MAAM,CAAC,OAAM;AACpJ;AACA,UAAU,IAAI,gCAAgC,EAAE;AAChD,YAAY,OAAO,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,GAAG,EAAC;AACrE,WAAW,MAAM,IAAI,qCAAqC,EAAE;AAC5D,YAAY,OAAO,CAAC,iBAAiB,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,GAAG,EAAC;AACjE,WAAW;AACX,SAAS;AACT;AACA;AACA,QAAQ,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,EAAC;AACrD;AACA,QAAQ,KAAK;AACb,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,KAAK,kBAAkB,EAAE;AAC/B,QAAQ,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC,KAAK,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAC;AAC5E,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,aAAa,EAAE;AAC1B,QAAQ,OAAO,CAAC,iBAAiB,GAAG,MAAM,CAAC,WAAU;AACrD,QAAQ,KAAK;AACb,OAAO;AACP;AACA;AACA;AACA,MAAM,KAAK,iBAAiB,EAAE;AAC9B,QAAQ,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,QAAO;AACzC,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,qBAAqB,EAAE;AAClC,QAAQ,MAAM,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAC;AACvD,QAAQ,KAAK,CAAC,cAAc,GAAG,MAAM,CAAC,MAAK;AAC3C,QAAQ,KAAK;AACb,OAAO;AACP;AACA,MAAM,KAAK,kBAAkB,EAAE;AAC/B,QAAQ,MAAM,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAC;AACvD,QAAQ,KAAK,CAAC,cAAc,GAAG,MAAK;AACpC,QAAQ,KAAK;AACb,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL,GAAG,EAAE,CAAC,OAAO,KAAK;AAClB;AACA,IAAI,MAAM,CAAC,OAAO,GAAG,QAAO;AAC5B,GAAG;AACH;;ACraO,MAAM,KAAK,SAASC,iCAAa,CAAC;AACzC,EAAE,WAAW,GAAG;AAChB;AACA;AACA;AACA,IAAI,KAAK,CAAC;AACV,MAAM,IAAI,EAAE,OAAO;AACnB,MAAM,QAAQ,EAAE,YAAY;AAC5B;AACA,KAAK,EAAC;AACN,GAAG;AACH;AACA,EAAE,MAAM,QAAQ,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,EAAE;AAC7C;AACA,IAAI,IAAI,CAACC,YAAG,CAAC,UAAU,EAAE,YAAY,CAAC,MAAM,EAAC;AAC7C;AACA;AACA;AACA,IAAI,MAAM,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,EAAC;AACzD;AACA;AACA,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,EAAC;AACvB;AACA;AACA,IAAI,MAAM,OAAO,GAAGC,sBAAa,CAAC,aAAa,GAAE;AACjD,IAAI,IAAI,OAAO,CAAC,MAAM,EAAE;AACxB,MAAM,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,sBAAsB,EAAE,MAAM,CAAC,OAAO,CAAC,EAAC;AAC5F,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA,SAAS,YAAY,CAAC,MAAM,EAAE;AAC9B,EAAE,OAAO,CAAC,GAAG;AACb;AACA,IAAI,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI;AAC7C;AACA,IAAG;AACH,CAAC;AACD;AACA,MAAM,YAAY,GAAG;AACrB;AACA;AACA;AACA,EAAE,SAAS,EAAE,MAAM;AACnB;AACA,EAAE,KAAK,EAAE;AACT,IAAI,GAAG,EAAE,cAAc;AACvB,IAAI,MAAM,EAAE,SAAS;AACrB,GAAG;AACH;AACA,EAAE,QAAQ,EAAE;AACZ,IAAI,WAAW,EAAE,QAAQ;AACzB,IAAI,UAAU,EAAE,KAAK;AACrB,IAAI,cAAc,EAAE,KAAK;AACzB,IAAI,UAAU,EAAE,KAAK;AACrB,IAAI,eAAe,EAAE,KAAK;AAC1B,GAAG;AACH;AACA,EAAE,UAAU,EAAE,KAAK;AACnB;AACA,EAAE,eAAe,EAAE,CAAC;AACpB;AACA,EAAE,KAAK,EAAE;AACT,IAAI,MAAM,EAAE,KAAK;AACjB,GAAG;AACH;AACA,EAAE,MAAM,EAAE;AACV,IAAI,cAAc,EAAE,GAAG;AACvB,GAAG;AACH;AACA;AACA;AACA,EAAE,QAAQ,EAAE;AACZ,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,EAAE;AACZ,GAAG;AACH;AACA;AACA;AACA,EAAC;AACD;AACO,MAAM,QAAQ,GAAG;AACxB,EAAE,KAAK,EAAE,CAAC;AACV,EAAE,EAAE,EAAE,EAAE;AACR,EAAE,KAAK,EAAE,EAAE;AACX,EAAE,KAAK,EAAE,KAAK;AACd,EAAE,cAAc,EAAE,KAAK;AACvB,EAAC;AACD;AACO,MAAM,UAAU,GAAG;AAC1B;AACA;AACA;AACA;AACA,EAAE,MAAM,EAAE;AACV;AACA,IAAI,EAAE,EAAE,CAAC;AACT;AACA,IAAI,MAAM,EAAE,KAAK;AACjB,IAAI,aAAa,EAAE,KAAK;AACxB,IAAI,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE;AACrD,GAAG;AACH;AACA;AACA,EAAE,SAAS,EAAE,EAAE;AACf;AACA;AACA,EAAE,SAAS,EAAE,EAAE;AACf;AACA,EAAE,gBAAgB,EAAE,SAAS;AAC7B;AACA;AACA,EAAE,iBAAiB,EAAE,CAAC;AACtB;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,EAAE,EAAE;AACb;AACA;AACA;AACA,EAAE,MAAM,EAAE,EAAE;AACZ;AACA;AACA,EAAE,OAAO,EAAE;AACX,IAAI,MAAM,EAAE,IAAI;AAChB,IAAI,aAAa,EAAE,IAAI;AACvB,IAAI,WAAW,EAAE,SAAS;AAC1B,IAAI,KAAK,EAAE,GAAG;AACd,IAAI,QAAQ,EAAE;AACd,MAAM,OAAO,EAAE;AACf,QAAQ,KAAK,EAAE,SAAS;AACxB,QAAQ,YAAY,EAAE,EAAE;AACxB,QAAQ,QAAQ,EAAE,EAAE;AACpB,QAAQ,QAAQ,EAAE,EAAE;AACpB,QAAQ,MAAM,EAAE,UAAU;AAC1B,QAAQ,SAAS,EAAE,WAAW;AAC9B,OAAO;AACP,MAAM,OAAO,EAAE;AACf,QAAQ,KAAK,EAAE,eAAe;AAC9B,QAAQ,YAAY,EAAE,EAAE;AACxB,QAAQ,QAAQ,EAAE,EAAE;AACpB,QAAQ,MAAM,EAAE,UAAU;AAC1B,QAAQ,SAAS,EAAE,WAAW;AAC9B,OAAO;AACP,MAAM,UAAU,EAAE;AAClB,QAAQ,KAAK,EAAE,aAAa;AAC5B,QAAQ,YAAY,EAAE,EAAE;AACxB,QAAQ,QAAQ,EAAE,EAAE;AACpB,QAAQ,MAAM,EAAE,UAAU;AAC1B,QAAQ,SAAS,EAAE,WAAW;AAC9B,OAAO;AACP,MAAM,IAAI,EAAE;AACZ,QAAQ,KAAK,EAAE,MAAM;AACrB,QAAQ,YAAY,EAAE,EAAE;AACxB,QAAQ,QAAQ,EAAE,EAAE;AACpB,QAAQ,MAAM,EAAE,UAAU;AAC1B,QAAQ,SAAS,EAAE,WAAW;AAC9B,QAAQ,YAAY,EAAE,EAAE;AACxB,OAAO;AACP,MAAM,KAAK,EAAE;AACb,QAAQ,KAAK,EAAE,OAAO;AACtB,QAAQ,YAAY,EAAE,EAAE;AACxB,QAAQ,QAAQ,EAAE,EAAE;AACpB,QAAQ,MAAM,EAAE,SAAS;AACzB,QAAQ,SAAS,EAAE,WAAW;AAC9B,OAAO;AACP,MAAM,SAAS,EAAE;AACjB,QAAQ,KAAK,EAAE,WAAW;AAC1B,QAAQ,YAAY,EAAE,EAAE;AACxB,QAAQ,QAAQ,EAAE,EAAE;AACpB,OAAO;AACP,MAAM,MAAM,EAAE;AACd,QAAQ,KAAK,EAAE,QAAQ;AACvB,QAAQ,YAAY,EAAE,EAAE;AACxB,QAAQ,QAAQ,EAAE,EAAE;AACpB,QAAQ,OAAO,EAAE;AACjB,UAAU,MAAM,EAAE,KAAK;AACvB,UAAU,SAAS,EAAE,KAAK;AAC1B,UAAU,gBAAgB,EAAE,KAAK;AACjC,UAAU,MAAM,EAAE,GAAG;AACrB,UAAU,IAAI,EAAE,EAAE;AAClB,SAAS;AACT,QAAQ,OAAO,EAAE;AACjB,UAAU,MAAM,EAAE,KAAK;AACvB,SAAS;AACT,OAAO;AACP,KAAK;AACL,IAAI,OAAO,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,YAAY,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ,CAAC;AACzF,GAAG;AACH;;ACnLA;AACA;AACA;AACA;AACA;AACO,SAAS,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE;AACzC,EAAE,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,CAAC;AAiBD;AACA,MAAM,OAAO,GAAG;AAChB,EAAE,QAAQ,EAAE,CAAC,KAAK,EAAE,WAAW,CAAC;AAChC,EAAE,KAAK,EAAE;AACT,IAAI,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO;AACjH,GAAG;AACH,EAAE,EAAE,EAAE;AACN,IAAI,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO;AACrF,GAAG;AACH,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACO,eAAe,IAAI,CAAC,EAAE,EAAE;AAC/B,EAAE,OAAO,IAAI,OAAO,CAAC,OAAO,IAAI;AAChC,IAAI,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;AAC5B,GAAG,CAAC,CAAC;AACL,CAAC;AACD;AACO,SAAS,KAAK,CAAC,aAAa,EAAE;AACrC,EAAE,OAAO,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,aAAa,CAAC;AACjD,CAAC;AACD;AACO,SAAS,OAAO,CAAC,aAAa,EAAE;AACvC,EAAE,MAAM,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,EAAC;AACvD,EAAE,MAAM,IAAI,GAAG,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,aAAa,EAAC;AACjD,EAAE,OAAO,OAAO,IAAI,IAAI;AACxB,CAAC;AACD;AACO,SAAS,YAAY,CAAC,aAAa,EAAE;AAC5C,EAAE,MAAM,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,EAAC;AACvD,EAAE,MAAM,IAAI,GAAG,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,aAAa,EAAC;AACjD,EAAE,IAAI,OAAO,EAAE;AACf,IAAI,OAAO,KAAK;AAChB,GAAG,MAAM,IAAI,IAAI,EAAE;AACnB,IAAI,OAAO,IAAI;AACf,GAAG,MAAM;AACT,IAAI,OAAO,CAAC,KAAK,CAAC,qDAAqD,EAAC;AACxE,GAAG;AACH,CAAC;AAaD;AACO,SAAS,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,GAAG,IAAI,EAAE,OAAO,GAAG,KAAK,EAAE;AACtE,EAAE,MAAM,KAAK,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,GAAE;AAC3B,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE;AACvB,IAAI,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,GAAG,OAAO,CAAC,GAAE;AACnD,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,KAAK,EAAE,OAAO,IAAI;AACxC,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAC;AACjD,GAAG;AACH,EAAE,OAAO,IAAI;AACb,CAAC;AAKD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,eAAe,CAAC,OAAO,EAAE,KAAK,EAAE,OAAO,GAAG,EAAE,EAAE;AAC9D,CAAC,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK;AAChC;AACA,GAAG,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,GAAE;AAC7C,EAAE,MAAM,kBAAkB,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAC;AACjD;AACA,EAAE,MAAM,UAAU,GAAG,kBAAkB;AACvC,KAAK,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AACrD,MAAM,YAAY,CAAC,QAAQ,CAAC,KAAK,EAAC;AAClC;AACA;AACA;AACA,IAAI,IAAI,OAAO,EAAE;AACjB,MAAM,MAAM,WAAW,GAAG,KAAK,CAAC,KAAK,IAAI,QAAO;AAChD,MAAM,OAAO,UAAU,IAAI,WAAW;AACtC,KAAK,MAAM;AACX,MAAM,OAAO,UAAU;AACvB,KAAK;AACL,GAAG,CAAC;AACJ,CAAC;AAoCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,gBAAgB,CAAC,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE;AACtE,EAAE,IAAI,CAAC,YAAY,IAAI,CAAC,KAAK,GAAG;AAChC;AACA,IAAI,OAAO,SAAS;AACpB,GAAG,MAAM;AACT,IAAI,MAAM,IAAI,GAAG,qBAAqB,CAAC,YAAY,EAAC;AACpD,IAAI,MAAM,QAAQ,GAAG,eAAe,CAAC,KAAK,EAAE,IAAI,EAAC;AACjD,IAAI,MAAM,UAAU,GAAG,eAAe,CAAC,OAAO,EAAE,IAAI,EAAC;AACrD,IAAI,IAAI,OAAO,QAAQ,IAAI,QAAQ,IAAI,OAAO,UAAU,IAAI,QAAQ,EAAE;AACtE;AACA;AACA,MAAM,OAAO,SAAS;AACtB,KAAK,MAAM,IAAI,QAAQ,KAAK,UAAU,EAAE;AACxC;AACA,MAAM,OAAO,KAAK;AAClB,KAAK,MAAM;AACX;AACA,MAAM,OAAO,QAAQ,KAAK,KAAK;AAC/B,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,qBAAqB,CAAC,WAAW,EAAE;AAC5C,EAAE,MAAM,KAAK,GAAG,6BAA4B;AAC5C,EAAE,MAAM,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,KAAK,EAAC;AACvC,EAAE,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;AAC3B,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,SAAS,KAAK;AAC1C;AACA,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;AACxB,QAAQ,SAAS,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAE,EAAE,EAAC;AAC1C,OAAO;AACP,KAAK,EAAC;AACN,GAAG;AACH,EAAE,OAAO,IAAI;AACb,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,eAAe,GAAG,CAAC,SAAS,EAAE,OAAO,KAAK;AAChD,CAAC,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG;AAChC,EAAE,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,WAAW,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,SAAS,EAAE,SAAS,CAAC,CAAC;AACvE;;ACtOO,SAAS,IAAI,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAEC,oBAAW,CAAC,EAAE,CAAC,SAAS,EAAE,MAAM;AAClC,IAAI,kBAAkB,GAAE;AACxB,IAAI,gCAAgC,GAAE;AACtC,GAAG,EAAC;AACJ;AACA;AACA,EAAE,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,KAAK,EAAE,QAAQ,KAAK;AACnD,IAAI,MAAM,eAAe,GAAG,eAAe,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,EAAC;AAC7E,IAAI,IAAI,eAAe,EAAE;AACzB,MAAM,cAAc,CAAC,KAAK,EAAC;AAC3B,KAAK;AACL,GAAG,EAAC;AACJ;AACA;AACA,EAAE,cAAc,CAAC,IAAI,EAAC;AACtB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc,CAAC,UAAU,EAAE;AACpC,EAAE,MAAM,QAAQ,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,IAAG;AAC3C,EAAE,QAAQ,QAAQ;AAClB,IAAI,KAAK,cAAc;AACvB,MAAMA,oBAAW,CAAC,WAAW,GAAG,SAAQ;AACxC,MAAM,KAAK;AACX,IAAI,KAAK,OAAO;AAChB,MAAMA,oBAAW,CAAC,WAAW,GAAG,QAAO;AACvC,MAAM,KAAK;AACX,IAAI,KAAK,MAAM;AACf,MAAMA,oBAAW,CAAC,WAAW,GAAG,OAAM;AACtC,MAAM,KAAK;AACX,GAAG;AACH;AACA,EAAE,IAAI,CAAC,UAAU,EAAE;AACnB;AACA,IAAI,MAAM,GAAG,GAAGD,sBAAa,CAAC,gBAAgB,GAAE;AAChD,IAAI,MAAM,cAAc,GAAG,CAACD,YAAG,CAAC,UAAU,IAAI,GAAG,EAAE,WAAW,EAAE,gBAAgB,GAAE;AAClF,IAAI,IAAI,cAAc,EAAE;AACxB,MAAM,GAAG,CAAC,WAAW,CAAC,aAAa,GAAE;AACrC,MAAM,GAAG,CAAC,WAAW,CAAC,YAAY,GAAE;AACpC,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,kBAAkB,GAAG;AAC9B,EAAE,KAAK,CAAC,QAAQ,CAAC;AACjB,IAAI,IAAI,EAAE,sBAAsB;AAChC,IAAI,MAAM,EAAE;AACZ,MAAM,WAAW,EAAEE,oBAAW,CAAC,WAAW;AAC1C,MAAM,UAAU,EAAEA,oBAAW,CAAC,mBAAmB;AACjD,MAAM,cAAc,EAAEA,oBAAW,CAAC,2BAA2B;AAC7D,MAAM,UAAU,EAAEA,oBAAW,CAAC,4BAA4B;AAC1D,MAAM,eAAe,EAAEC,0BAAiB,CAAC,oBAAoB,EAAE,CAAC,oBAAoB;AACpF,KAAK;AACL,GAAG,EAAC;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,gCAAgC,GAAG;AAC5C,EAAEC,oBAAW,CAAC,iBAAiB,EAAE,CAAC,OAAO,CAAC,CAAC,QAAQ,KAAK;AACxD,IAAI,QAAQ,CAAC,IAAI,CAAC,qBAAqB,EAAE,eAAe,EAAE,EAAC;AAC3D,GAAG,EAAC;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,eAAe,GAAG;AAClC;AACA,EAAE,MAAM,UAAU,GAAGF,oBAAW,CAAC,oBAAmB;AACpD;AACA,EAAE,IAAI,UAAU,EAAE;AAClB,IAAI,OAAO;AACX;AACA,MAAM,UAAU,EAAE,WAAW;AAC7B,MAAM,WAAW,EAAE,WAAW;AAC9B,MAAM,UAAU,EAAE,WAAW;AAC7B,MAAM,WAAW,EAAE,WAAW;AAC9B,MAAM,YAAY,EAAE,WAAW;AAC/B,MAAM,YAAY,EAAE,WAAW;AAC/B,MAAM,UAAU,EAAE,WAAW;AAC7B,MAAM,YAAY,EAAE,WAAW;AAC/B,MAAM,SAAS,EAAE,WAAW;AAC5B,MAAM,UAAU,EAAE,WAAW;AAC7B,MAAM,YAAY,EAAE,WAAW;AAC/B;AACA,MAAM,GAAG,eAAe,CAAC,UAAU,CAAC;AACpC;AACA,MAAM,iCAAiC,EAAE,WAAW;AACpD,MAAM,sBAAsB,EAAE,WAAW;AACzC,MAAM,YAAY,EAAE,WAAW;AAC/B,MAAM,gBAAgB,EAAE,WAAW;AACnC,MAAM,wBAAwB,EAAE,WAAW;AAC3C,MAAM,kBAAkB,EAAE,WAAW;AACrC,MAAM,SAAS,EAAE,WAAW;AAC5B,MAAM,eAAe,EAAE,WAAW;AAClC,MAAM,cAAc,EAAE,WAAW;AACjC,MAAM,UAAU,EAAE,WAAW;AAC7B,MAAM,SAAS,EAAE,WAAW;AAC5B,MAAM,oBAAoB,EAAE,WAAW;AACvC,MAAM,oBAAoB,EAAE,WAAW;AACvC,MAAM,mBAAmB,EAAE,WAAW;AACtC,MAAM,wBAAwB,EAAE,WAAW;AAC3C,MAAM,yBAAyB,EAAE,WAAW;AAC5C,MAAM,iBAAiB,EAAE,WAAW;AACpC,MAAM,cAAc,EAAE,WAAW;AACjC,MAAM,WAAW,EAAE,WAAW;AAC9B,MAAM,kBAAkB,EAAE,WAAW;AACrC,MAAM,mBAAmB,EAAE,WAAW;AACtC,MAAM,SAAS,EAAE,WAAW;AAC5B,MAAM,0CAA0C,EAAE,WAAW;AAC7D,MAAM,uCAAuC,EAAE,WAAW;AAC1D,MAAM,6BAA6B,EAAE,WAAW;AAChD,MAAM,qBAAqB,EAAE,WAAW;AACxC,MAAM,oBAAoB,EAAE,WAAW;AACvC;AACA,MAAM,eAAe,EAAE,eAAe;AACtC,MAAM,eAAe,EAAE,SAAS;AAChC,KAAK;AACL,GAAG,MAAM;AACT,IAAI,OAAO;AACX;AACA,MAAM,UAAU,EAAE,WAAW;AAC7B,MAAM,WAAW,EAAE,WAAW;AAC9B,MAAM,UAAU,EAAE,WAAW;AAC7B,MAAM,WAAW,EAAE,WAAW;AAC9B,MAAM,YAAY,EAAE,WAAW;AAC/B,MAAM,YAAY,EAAE,WAAW;AAC/B,MAAM,UAAU,EAAE,WAAW;AAC7B,MAAM,YAAY,EAAE,WAAW;AAC/B,MAAM,SAAS,EAAE,WAAW;AAC5B,MAAM,UAAU,EAAE,WAAW;AAC7B,MAAM,YAAY,EAAE,WAAW;AAC/B;AACA,MAAM,GAAG,eAAe,CAAC,UAAU,CAAC;AACpC;AACA,MAAM,iCAAiC,EAAE,WAAW;AACpD,MAAM,sBAAsB,EAAE,WAAW;AACzC,MAAM,YAAY,EAAE,WAAW;AAC/B,MAAM,gBAAgB,EAAE,WAAW;AACnC,MAAM,wBAAwB,EAAE,WAAW;AAC3C,MAAM,kBAAkB,EAAE,WAAW;AACrC,MAAM,SAAS,EAAE,WAAW;AAC5B,MAAM,eAAe,EAAE,WAAW;AAClC,MAAM,cAAc,EAAE,WAAW;AACjC,MAAM,UAAU,EAAE,WAAW;AAC7B,MAAM,SAAS,EAAE,WAAW;AAC5B,MAAM,oBAAoB,EAAE,WAAW;AACvC,MAAM,oBAAoB,EAAE,WAAW;AACvC,MAAM,mBAAmB,EAAE,WAAW;AACtC,MAAM,wBAAwB,EAAE,WAAW;AAC3C,MAAM,yBAAyB,EAAE,WAAW;AAC5C,MAAM,iBAAiB,EAAE,WAAW;AACpC,MAAM,cAAc,EAAE,WAAW;AACjC,MAAM,WAAW,EAAE,WAAW;AAC9B,MAAM,kBAAkB,EAAE,WAAW;AACrC,MAAM,mBAAmB,EAAE,WAAW;AACtC,MAAM,SAAS,EAAE,WAAW;AAC5B,MAAM,0CAA0C,EAAE,WAAW;AAC7D,MAAM,uCAAuC,EAAE,WAAW;AAC1D,MAAM,6BAA6B,EAAE,WAAW;AAChD,MAAM,qBAAqB,EAAE,WAAW;AACxC,MAAM,oBAAoB,EAAE,WAAW;AACvC;AACA,MAAM,eAAe,EAAE,SAAS;AAChC,MAAM,eAAe,EAAE,eAAe;AACtC,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,eAAe,CAAC,UAAU,EAAE;AACrC;AACA,EAAE,MAAM,kBAAkB,GAAG,CAAC,CAAC,EAAEC,0BAAiB,CAAC,cAAc,EAAE,CAAC,WAAW,EAAE,CAAC,EAAC;AACnF;AACA,EAAE,QAAQ,kBAAkB;AAC5B;AACA;AACA,IAAI,KAAK,WAAW;AACpB,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,OAAO;AACf,UAAU,kBAAkB,EAAE,WAAW;AACzC,UAAU,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACrE,UAAU,2BAA2B,EAAE,WAAW;AAClD,UAAU,8BAA8B,EAAE,WAAW;AACrD,UAAU,oBAAoB,EAAE,WAAW;AAC3C,UAAU,2BAA2B,EAAE,WAAW;AAClD,SAAS;AACT,OAAO,MAAM;AACb,QAAQ,OAAO;AACf,UAAU,kBAAkB,EAAE,WAAW;AACzC,UAAU,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACrE,UAAU,2BAA2B,EAAE,WAAW;AAClD,UAAU,8BAA8B,EAAE,WAAW;AACrD,UAAU,oBAAoB,EAAE,WAAW;AAC3C,UAAU,2BAA2B,EAAE,WAAW;AAClD,SAAS;AACT,OAAO;AACP;AACA;AACA,IAAI,KAAK,WAAW;AACpB,MAAM,OAAO;AACb,QAAQ,kBAAkB,EAAE,WAAW;AACvC,QAAQ,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACnE,QAAQ,2BAA2B,EAAE,WAAW;AAChD,QAAQ,8BAA8B,EAAE,WAAW;AACnD,QAAQ,oBAAoB,EAAE,WAAW;AACzC,QAAQ,2BAA2B,EAAE,WAAW;AAChD,OAAO;AACP,IAAI,KAAK,WAAW;AACpB,MAAM,OAAO;AACb,QAAQ,kBAAkB,EAAE,WAAW;AACvC,QAAQ,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACnE,QAAQ,2BAA2B,EAAE,WAAW;AAChD,QAAQ,8BAA8B,EAAE,WAAW;AACnD,QAAQ,oBAAoB,EAAE,WAAW;AACzC,QAAQ,2BAA2B,EAAE,WAAW;AAChD,OAAO;AACP;AACA;AACA,IAAI,KAAK,WAAW;AACpB,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,OAAO;AACf,UAAU,kBAAkB,EAAE,WAAW;AACzC,UAAU,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACrE,UAAU,2BAA2B,EAAE,WAAW;AAClD,UAAU,8BAA8B,EAAE,WAAW;AACrD,UAAU,oBAAoB,EAAE,WAAW;AAC3C,UAAU,2BAA2B,EAAE,WAAW;AAClD,SAAS;AACT,OAAO,MAAM;AACb,QAAQ,OAAO;AACf,UAAU,kBAAkB,EAAE,WAAW;AACzC,UAAU,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACrE,UAAU,2BAA2B,EAAE,WAAW;AAClD,UAAU,8BAA8B,EAAE,WAAW;AACrD,UAAU,oBAAoB,EAAE,WAAW;AAC3C,UAAU,2BAA2B,EAAE,WAAW;AAClD,SAAS;AACT,OAAO;AACP;AACA;AACA,IAAI,KAAK,WAAW;AACpB,MAAM,OAAO;AACb,QAAQ,kBAAkB,EAAE,WAAW;AACvC,QAAQ,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACnE,QAAQ,2BAA2B,EAAE,WAAW;AAChD,QAAQ,8BAA8B,EAAE,WAAW;AACnD,QAAQ,oBAAoB,EAAE,WAAW;AACzC,QAAQ,2BAA2B,EAAE,WAAW;AAChD,OAAO;AACP,IAAI,KAAK,WAAW;AACpB,MAAM,OAAO;AACb,QAAQ,kBAAkB,EAAE,WAAW;AACvC,QAAQ,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACnE,QAAQ,2BAA2B,EAAE,WAAW;AAChD,QAAQ,8BAA8B,EAAE,WAAW;AACnD,QAAQ,oBAAoB,EAAE,WAAW;AACzC,QAAQ,2BAA2B,EAAE,WAAW;AAChD,OAAO;AACP;AACA;AACA;AACA,IAAI,KAAK,WAAW;AACpB,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,OAAO;AACf,UAAU,kBAAkB,EAAE,WAAW;AACzC,UAAU,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACrE,UAAU,2BAA2B,EAAE,WAAW;AAClD,UAAU,8BAA8B,EAAE,WAAW;AACrD,UAAU,oBAAoB,EAAE,WAAW;AAC3C,UAAU,2BAA2B,EAAE,WAAW;AAClD,SAAS;AACT,OAAO,MAAM;AACb,QAAQ,OAAO;AACf,UAAU,kBAAkB,EAAE,WAAW;AACzC,UAAU,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACrE,UAAU,2BAA2B,EAAE,WAAW;AAClD,UAAU,8BAA8B,EAAE,WAAW;AACrD,UAAU,oBAAoB,EAAE,WAAW;AAC3C,UAAU,2BAA2B,EAAE,WAAW;AAClD,SAAS;AACT,OAAO;AACP;AACA;AACA,IAAI,KAAK,WAAW;AACpB,MAAM,OAAO;AACb,QAAQ,kBAAkB,EAAE,WAAW;AACvC,QAAQ,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACnE,QAAQ,2BAA2B,EAAE,WAAW;AAChD,QAAQ,8BAA8B,EAAE,WAAW;AACnD,QAAQ,oBAAoB,EAAE,WAAW;AACzC,QAAQ,2BAA2B,EAAE,WAAW;AAChD,OAAO;AACP,IAAI,KAAK,WAAW;AACpB,MAAM,OAAO;AACb,QAAQ,kBAAkB,EAAE,WAAW;AACvC,QAAQ,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACnE,QAAQ,2BAA2B,EAAE,WAAW;AAChD,QAAQ,8BAA8B,EAAE,WAAW;AACnD,QAAQ,oBAAoB,EAAE,WAAW;AACzC,QAAQ,2BAA2B,EAAE,WAAW;AAChD,OAAO;AACP;AACA;AACA,IAAI,KAAK,WAAW;AACpB,MAAM,IAAI,UAAU,EAAE;AACtB,QAAQ,OAAO;AACf,UAAU,kBAAkB,EAAE,WAAW;AACzC,UAAU,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACrE,UAAU,2BAA2B,EAAE,WAAW;AAClD,UAAU,8BAA8B,EAAE,WAAW;AACrD,UAAU,oBAAoB,EAAE,WAAW;AAC3C,UAAU,2BAA2B,EAAE,WAAW;AAClD,SAAS;AACT,OAAO,MAAM;AACb,QAAQ,OAAO;AACf,UAAU,kBAAkB,EAAE,WAAW;AACzC,UAAU,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACrE,UAAU,2BAA2B,EAAE,WAAW;AAClD,UAAU,8BAA8B,EAAE,WAAW;AACrD,UAAU,oBAAoB,EAAE,WAAW;AAC3C,UAAU,2BAA2B,EAAE,WAAW;AAClD,SAAS;AACT,OAAO;AACP;AACA;AACA,IAAI,KAAK,WAAW;AACpB,MAAM,OAAO;AACb,QAAQ,kBAAkB,EAAE,WAAW;AACvC,QAAQ,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACnE,QAAQ,2BAA2B,EAAE,WAAW;AAChD,QAAQ,8BAA8B,EAAE,WAAW;AACnD,QAAQ,oBAAoB,EAAE,WAAW;AACzC,QAAQ,2BAA2B,EAAE,WAAW;AAChD,OAAO;AACP,IAAI,KAAK,WAAW;AACpB,MAAM,OAAO;AACb,QAAQ,kBAAkB,EAAE,WAAW;AACvC,QAAQ,wBAAwB,EAAE,oBAAoB,CAAC,WAAW,CAAC;AACnE,QAAQ,kBAAkB,EAAE,WAAW;AACvC,QAAQ,2BAA2B,EAAE,WAAW;AAChD,QAAQ,8BAA8B,EAAE,WAAW;AACnD,QAAQ,oBAAoB,EAAE,WAAW;AACzC,QAAQ,2BAA2B,EAAE,WAAW;AAChD,OAAO;AACP,GAAG;AACH,CAAC;AACD;AACA;AACA,SAAS,oBAAoB,CAAC,WAAW,EAAE;AAC3C,EAAE,OAAOE,0BAAM,CAAC,KAAK,CAAC,WAAW,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;AAC1E;;ACjYO,MAAM,SAAS,CAAC;AACvB,EAAE,WAAW,GAAG;AAChB;AACA;AACA;AACA,IAAI,IAAI,CAAC,EAAE,GAAG,IAAIC,4BAAQ,CAAC,UAAU,EAAC;AACtC;AACA;AACA;AACA,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;AAClC;AACA;AACA,IAAI,CAAC,CAAC,CAAC,GAAG,GAAE;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;AACxC;AACA;AACA,IAAI,CAAC,EAAC;AACN;AACA,IAAI,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,IAAI,KAAK;AAC1D,MAAM,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;AAC9B,QAAQ,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,EAAC;AACjC,OACA,KAAK,CAAC,CAAC;AACP;AACA,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;AACxC;AACA;AACA;AACA,IAAI,CAAC,EAAC;AACN;AACA;AACA,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC,EAAC;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,gBAAO,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE,MAAM,KAAK;AAC/C;AACA;AACA,MAAM,MAAM,IAAI,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,MAAM,CAAC,gBAAgB,GAAG,EAAE,GAAG,IAAI,CAAC,EAAC;AACjF,MAAM,MAAM,KAAK,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,MAAM,CAAC,gBAAgB,GAAG,EAAE,GAAG,IAAI,CAAC,EAAC;AACnF,MAAM,MAAM,IAAI,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,MAAM,CAAC,gBAAgB,GAAG,EAAE,GAAG,IAAI,CAAC,EAAC;AACjF,MAAM,MAAM,IAAI,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,gBAAgB,GAAG,EAAE,GAAG,IAAI,CAAC,EAAC;AAClF,MAAM,MAAM,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,EAAC;AAClE;AACA;AACA,MAAM,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,EAAC;AAC5C;AACA;AACA,MAAM,OAAO,OAAO;AACpB,KAAK,EAAC;AACN,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE,MAAM,CAAC,GAAG,GAAG;AACf,IAAI,EAAE,EAAE,EAAE;AACV,IAAI,IAAI,EAAE,EAAE;AACZ,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,IAAI,EAAE,EAAE;AACZ,IAAI,IAAI,EAAE,EAAE;AACZ,GAAG,EAAE;AACL,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,EAAC;AAC7B,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE,UAAU,CAAC,IAAI,EAAE;AACnB,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAC;AAC/B,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE,MAAM,CAAC,EAAE,EAAE;AACb,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,EAAC;AAC5B,GAAG;AACH;AACA,EAAE,IAAI,GAAG;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AC3IA;AACe,yBAAc,CAAC,IAAI,EAAE;AACpC,EAAE,IAAI;AACN,EAAE,MAAMC,cAAM,CAAC,IAAI,EAAC;AACpB,EAAE,OAAO,EAAE,IAAI,EAAE,qBAAqB,EAAE,IAAI,EAAE,IAAI,EAAE;AACpD,EAAE,CAAC,MAAM,GAAG,EAAE;AACd,EAAE,OAAO,EAAE,IAAI,EAAE,kBAAkB,EAAE,GAAG,EAAE,GAAG,EAAE;AAC/C,EAAE;AACF;;ACRA;AACA;AACe,0BAAc,CAAC,KAAK,EAAE;AACrC,EAAE,IAAI;AACN,IAAI,IAAI,YAAY,GAAG,MAAM,OAAO,CAAC,GAAG;AACxC,MAAM,KAAK,CAAC,GAAG,CAAC,OAAO,IAAI,KAAK;AAChC,QAAQ,MAAMA,cAAM,CAAC,IAAI,EAAC;AAC1B,OAAO,CAAC;AACR,MAAK;AACL,EAAE,OAAO,EAAE,IAAI,EAAE,sBAAsB,EAAE,KAAK,EAAE,YAAY,EAAE;AAC9D,EAAE,CAAC,MAAM,GAAG,EAAE;AACd,EAAE,OAAO,EAAE,IAAI,EAAE,mBAAmB,EAAE,GAAG,EAAE,GAAG,EAAE;AAChD,EAAE;AACF;;ACbe,sBAAc,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE;AACtD,CAAC,IAAI;AACL,EAAE,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,UAAU,EAAC;AAC9B,EAAE,MAAMC,iBAAS,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAC;AACzC,EAAE,OAAO;AACT,GAAG,IAAI,EAAE,kBAAkB;AAC3B,GAAG,UAAU,EAAE,UAAU;AACzB,GAAG;AACH,EAAE,CAAC,OAAO,GAAG,EAAE;AACf,EAAE,OAAO;AACT,GAAG,IAAI,EAAE,eAAe;AACxB,GAAG,GAAG,EAAE,GAAG;AACX,GAAG;AACH,EAAE;AACF;;ACde,+CAAc,IAAI;AACjC;AACA,EAAE,MAAM,GAAG,GAAGR,sBAAa,CAAC,gBAAgB,GAAE;AAC9C;AACA,EAAE,MAAM,SAAS,GAAG,MAAMS,eAAM,CAAC,cAAc,CAAC,GAAG,EAAE;AACrD,IAAI,KAAK,EAAE,uBAAuB;AAClC,IAAI,UAAU,EAAE,CAAC,eAAe,EAAE,iBAAiB,CAAC;AACpD,GAAG,EAAC;AACJ;AACA,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;AAC3B,IAAI,OAAO;AACX,MAAM,IAAI,EAAE,uBAAuB;AACnC,MAAM,SAAS,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;AACvC,KAAK;AACL,GAAG;AACH;;ACfe,4CAAc,IAAI;AACjC;AACA,EAAE,MAAM,GAAG,GAAGT,sBAAa,CAAC,gBAAgB,GAAE;AAC9C;AACA,EAAE,MAAM,SAAS,GAAG,MAAMS,eAAM,CAAC,cAAc,CAAC,GAAG,EAAE;AACrD,IAAI,KAAK,EAAE,uBAAuB;AAClC,IAAI,UAAU,EAAE,CAAC,UAAU,CAAC;AAC5B,IAAI,OAAO,EAAE;AACb,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC,MAAM,CAAC,EAAE;AAC5C,KAAK;AACL,GAAG,EAAC;AACJ;AACA,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;AAC3B,IAAI,OAAO;AACX,MAAM,IAAI,EAAE,4BAA4B;AACxC,MAAM,IAAI,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;AAClC,KAAK;AACL,GAAG;AACH;;ACdO,SAASC,MAAI,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAEJ,gBAAO,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,GAAG,KAAK;AACpC,IAAI,MAAM,GAAG,GAAGN,sBAAa,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,EAAC;AACzD,IAAI,GAAG,CAAC,IAAI,GAAE;AACd,GAAG,EAAC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAEM,gBAAO,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,EAAE,kBAAkB,EAAE,gBAAgB,KAAK;AACtH;AACA;AACA;AACA,IAAI,IAAI,UAAU,GAAG,UAAS;AAC9B,IAAI,IAAI,kBAAkB,EAAE;AAC5B;AACA;AACA,MAAM,UAAU,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,MAAM,CAAC,EAAE,WAAW,GAAG,GAAG,GAAG,IAAI,EAAC;AAC1F,KAAK,MAAM;AACX,MAAM,UAAU,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,WAAW,GAAG,GAAG,GAAG,IAAI,EAAC;AACnE,KAAK;AACL;AACA;AACA,IAAI,IAAI,CAAC,gBAAgB,EAAE;AAC3B,MAAM,MAAM,kBAAkB,GAAGG,eAAM,CAAC,kBAAkB,CAAC;AAC3D,QAAQ,IAAI,EAAE,SAAS;AACvB,QAAQ,OAAO,EAAE,CAAC,kCAAkC,EAAE,KAAK,CAAC,QAAQ,EAAE,WAAW,CAAC,KAAK,EAAE,SAAS,CAAC,MAAM,CAAC,SAAS,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;AACvJ,QAAQ,OAAO,EAAE,CAAC,QAAQ,EAAE,SAAS,CAAC;AACtC,QAAQ,QAAQ,EAAE,CAAC;AACnB,OAAO,EAAC;AACR;AACA;AACA,MAAM,IAAI,kBAAkB,KAAK,CAAC,EAAE,MAAM;AAC1C,KAAK;AACL;AACA;AACA,IAAI,SAAS,CAAC,OAAO,CAAC,OAAO,QAAQ,KAAK;AAC1C,MAAM,IAAI,IAAI,GAAG,MAAME,gBAAQ,CAAC,QAAQ,EAAE,MAAM,EAAC;AACjD,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,WAAW,EAAC;AACrD,MAAM,MAAMH,iBAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAC;AAC7C,KAAK,EAAC;AACN,GAAG,EAAC;AACJ;AACA;AACA,EAAEF,gBAAO,CAAC,EAAE,CAAC,sBAAsB,EAAE,OAAO,GAAG,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,KAAK;AAClF;AACA,IAAI,MAAM,QAAQ,GAAGM,wBAAI,CAAC,QAAQ,CAAC,QAAQ,EAAC;AAC5C,IAAI,IAAI,eAAe,GAAGA,wBAAI,CAAC,MAAM,CAAC;AACtC,MAAM,GAAG,EAAE,UAAU;AACrB,MAAM,IAAI,EAAE,QAAQ;AACpB,KAAK,EAAC;AACN;AACA;AACA,IAAI,MAAM,iBAAiB,GAAGC,kBAAU,CAAC,eAAe,EAAC;AACzD;AACA;AACA;AACA,IAAI,IAAI,iBAAiB,EAAE;AAC3B,MAAM,MAAM,gBAAgB,GAAGJ,eAAM,CAAC,kBAAkB,CAAC;AACzD,QAAQ,IAAI,EAAE,UAAU;AACxB,QAAQ,OAAO,EAAE,CAAC,cAAc,EAAE,QAAQ,CAAC,uFAAuF,CAAC;AACnI,QAAQ,OAAO,EAAE,CAAC,WAAW,EAAE,MAAM,EAAE,SAAS,CAAC;AACjD,QAAQ,QAAQ,EAAE,CAAC;AACnB,OAAO,EAAC;AACR,MAAM,QAAQ,gBAAgB;AAC9B;AACA,QAAQ,KAAK,CAAC;AACd,UAAU,eAAe,GAAG,sBAAsB,CAAC,eAAe,EAAC;AACnE,UAAUK,oBAAY,CAAC,QAAQ,EAAE,eAAe,EAAC;AACjD,UAAU,KAAK;AACf;AACA,QAAQ,KAAK,CAAC;AACd,UAAU,KAAK;AACf;AACA,QAAQ,KAAK,CAAC;AACd,UAAU,IAAI,MAAM,EAAE;AACtB,YAAYA,oBAAY,CAAC,QAAQ,EAAE,eAAe,EAAC;AACnD,WAAW,MAAM;AACjB,YAAYC,kBAAU,CAAC,QAAQ,EAAE,eAAe,EAAC;AACjD,WAAW;AACX,UAAU,KAAK;AACf,OAAO;AACP,KAAK,MAAM;AACX,MAAM,IAAI,MAAM,EAAE;AAClB,QAAQD,oBAAY,CAAC,QAAQ,EAAE,eAAe,EAAC;AAC/C,OAAO,MAAM;AACb,QAAQC,kBAAU,CAAC,QAAQ,EAAE,eAAe,EAAC;AAC7C,OAAO;AACP,KAAK;AACL,GAAG,EAAC;AACJ;AACA;AACA,EAAET,gBAAO,CAAC,EAAE,CAAC,UAAU,EAAE,OAAO,GAAG,EAAE,MAAM,KAAK;AAChD,IAAI,MAAM,GAAG,GAAGN,sBAAa,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,EAAC;AACzD,IAAI,QAAQ,MAAM,CAAC,IAAI;AACvB,MAAM,MAAM,mCAAmC;AAC/C,QAAQ,KAAK,CAAC,QAAQ,CAAC,MAAM,6BAA6B,EAAE,EAAE,GAAG,EAAC;AAClE,QAAQ,KAAK;AACb,MAAM,MAAM,sCAAsC;AAClD,QAAQ,KAAK,CAAC,QAAQ,CAAC,MAAM,gCAAgC,EAAE,EAAE,GAAG,EAAC;AACrE,QAAQ,KAAK;AACb,MAAM,MAAM,UAAU;AACtB,QAAQ,KAAK,CAAC,QAAQ,CAAC,MAAM,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,UAAU,CAAC,EAAE,GAAG,EAAC;AACtF,QAAQ,KAAK;AACb,MAAM,MAAM,aAAa;AACzB,QAAQ,KAAK,CAAC,QAAQ,CAAC,MAAM,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,GAAG,EAAC;AAC1D,QAAQ,KAAK;AACb,MAAM,MAAM,cAAc;AAC1B,QAAQ,KAAK,CAAC,QAAQ,CAAC,MAAM,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,EAAC;AAC5D,QAAQ,KAAK;AACb,MAAM;AACN,QAAQ,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAC;AACnC,QAAQ,KAAK;AACb,KAAK;AACL,GAAG,EAAC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAEM,gBAAO,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,GAAG,KAAK;AACtC,IAAI,OAAO,MAAM,CAAC,KAAK,EAAE;AACzB,GAAG,EAAC;AACJ;AACA,EAAEA,gBAAO,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,GAAG,KAAK;AACtC,IAAI,MAAM,GAAG,GAAGN,sBAAa,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,EAAC;AACzD,IAAI,MAAM,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,EAAE,IAAI,GAAG,CAAC,SAAS,EAAC;AAClF,IAAI,OAAO,OAAO,GAAG,OAAO,CAAC,KAAK,GAAG,SAAS;AAC9C,GAAG,EAAC;AACJ;AACA;AACA,EAAEM,gBAAO,CAAC,MAAM,CAAC,eAAe,EAAE,OAAO,KAAK,EAAE,QAAQ,EAAE,QAAQ,GAAG,MAAM,KAAK;AAChF,IAAI,IAAI,IAAI,GAAG,MAAMK,gBAAQ,CAAC,QAAQ,EAAE,QAAQ,EAAC;AACjD,IAAI,OAAO,IAAI;AACf,GAAG,EAAC;AACJ;AACA;AACA,EAAEL,gBAAO,CAAC,MAAM,CAAC,iBAAiB,EAAE,MAAM;AAC1C,IAAI,OAAO,eAAe,EAAE;AAC5B,GAAG,EAAC;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,sBAAsB,CAAC,QAAQ,EAAE;AAC1C;AACA,EAAE,MAAM,SAAS,GAAGM,wBAAI,CAAC,OAAO,CAAC,QAAQ,EAAC;AAC1C,EAAE,MAAM,SAAS,GAAGA,wBAAI,CAAC,OAAO,CAAC,QAAQ,EAAC;AAC1C,EAAE,MAAM,IAAI,GAAGA,wBAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,SAAS,EAAC;AACjD;AACA,EAAE,MAAM,mBAAmB,GAAGI,mBAAW,CAAC,SAAS,EAAC;AACpD;AACA,EAAE,IAAI,SAAS,GAAG,EAAC;AACnB;AACA;AACA;AACA,EAAE,IAAI,OAAO,GAAG,GAAE;AAClB;AACA;AACA;AACA,EAAE,OAAO,IAAI,EAAE;AACf,IAAI,OAAO,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,SAAS,CAAC,EAAE,SAAS,CAAC,EAAC;AAChD,IAAI,MAAM,aAAa,GAAG,mBAAmB,CAAC,QAAQ,CAAC,OAAO,EAAC;AAC/D,IAAI,IAAI,aAAa,EAAE;AACvB,MAAM,SAAS,GAAE;AACjB,KAAK,MAAM;AACX,MAAM,KAAK;AACX,KAAK;AACL,GAAG;AACH;AACA;AACA,EAAE,OAAOJ,wBAAI,CAAC,MAAM,CAAC;AACrB,IAAI,GAAG,EAAE,SAAS;AAClB,IAAI,IAAI,EAAE,OAAO;AACjB,GAAG,CAAC;AACJ;;ACnUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,KAAK,GAAG,OAAO,CAAC,QAAQ,KAAK,SAAQ;AAC3C,IAAI,KAAI;AACR,IAAI,SAAS,GAAG,GAAE;AAClB;AACA;AACA;AACA;AACA;AACO,SAASF,MAAI,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,KAAK,EAAE,QAAQ,KAAK;AACnD;AACA,IAAI,MAAM,UAAU,GAAG;AACvB;AACA,MAAM,eAAe,CAAC,MAAM,CAAC,OAAO,EAAE,iBAAiB,CAAC;AACxD;AACA,MAAM,eAAe,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE,MAAM,EAAE,mBAAmB,CAAC,CAAC;AAChF;AACA,MAAM,eAAe,CAAC,MAAM,CAAC,OAAO,EAAE,YAAY,CAAC;AACnD;AACA,MAAM,eAAe,CAAC,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC;AAC9C,MAAM,eAAe,CAAC,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC;AACjD,MAAK;AACL;AACA,IAAI,MAAM,wBAAwB,GAAG,UAAU,CAAC,QAAQ,CAAC,IAAI,EAAC;AAC9D;AACA,IAAI,IAAI,wBAAwB,EAAE;AAClC,MAAMO,aAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,EAAC;AACxC,KAAK;AACL,GAAG,EAAC;AACJ;AACA;AACA;AACA,EAAEA,aAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,EAAC;AACpC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,GAAG;AACnB;AACA;AACA,EAAE,IAAI,GAAG,IAAIA,aAAI,GAAE;AACnB;AACA;AACA,EAAE,SAAS,GAAG,YAAY,GAAE;AAC5B;AACA;AACA,EAAE,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC;AACzD;AACA,EAAE,OAAO,IAAI;AACb,CAAC;AACD;AACA;AACA,SAAS,iBAAiB,GAAG;AAC7B,EAAE,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,GAAE;AAC9B,EAAE,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;AACnD,CAAC;AACD;AACA,SAAS,eAAe,GAAG;AAC3B,EAAE,MAAM,OAAO,GAAG,iBAAiB,GAAE;AACrC,EAAE,OAAO,OAAO,EAAE,MAAM,CAAC,OAAO,EAAE,iBAAiB,CAAC;AACpD,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,YAAY,GAAG;AACxB;AACA,EAAE,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,GAAE;AAC9B,EAAE,MAAM,OAAO,GAAG,iBAAiB,GAAE;AACrC,EAAE,MAAM,KAAK,GAAG,eAAe,GAAE;AACjC;AACA,EAAE,MAAM,KAAK,GAAG;AAChB,IAAI,QAAQ,EAAE,EAAE;AAChB,IAAG;AACH;AACA;AACA,EAAE,MAAM,eAAe,GAAG,IAAIC,iBAAQ,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,EAAC;AAC7D;AACA;AACA;AACA;AACA,EAAE,IAAI,KAAK,EAAE;AACb,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAIA,iBAAQ,CAAC;AACrC,MAAM,KAAK,EAAEnB,YAAG,CAAC,IAAI;AACrB,MAAM,OAAO,EAAE;AACf,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE;AACzB,QAAQ,eAAe;AACvB,QAAQ,IAAImB,iBAAQ,CAAC;AACrB,UAAU,KAAK,EAAE,aAAa;AAC9B,UAAU,WAAW,EAAE,aAAa;AACpC,UAAU,MAAM,KAAK,GAAG;AACxB,YAAY,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,kBAAkB,EAAE,EAAC;AAC/D,WAAW;AACX,SAAS,CAAC;AACV,QAAQ,eAAe;AACvB,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,EAAE,EAAE;AACzC,QAAQ,eAAe;AACvB,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE;AACxB,QAAQ,EAAE,IAAI,EAAE,YAAY,EAAE;AAC9B,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE;AAC1B,QAAQ,eAAe;AACvB,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE;AACxB,OAAO;AACP,KAAK,CAAC,EAAC;AACP,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE,IAAI,KAAK,EAAE;AACb;AACA,IAAI,KAAK,CAAC,WAAW,GAAG,IAAIA,iBAAQ,CAAC;AACrC,MAAM,KAAK,EAAE,cAAc;AAC3B,MAAM,WAAW,EAAE,aAAa;AAChC,MAAM,OAAO,EAAE,KAAK,KAAK,SAAS;AAClC,MAAM,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AACjC;AACA;AACA,QAAQ,IAAI,CAAC,aAAa,IAAI,CAAC,OAAO,EAAE,MAAM;AAC9C;AACA;AACA,QAAQ,IAAI,OAAO,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;AACvC,UAAU,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;AAChC,YAAY,IAAI,EAAE,aAAa;AAC/B,YAAY,UAAU,EAAE,OAAO,CAAC,iBAAiB;AACjD,WAAW,EAAE,aAAa,EAAC;AAC3B,SAAS,MAAM;AACf,UAAU,aAAa,CAAC,KAAK,GAAE;AAC/B,SAAS;AACT,OAAO;AACP,KAAK,EAAC;AACN;AACA,IAAI,KAAK,CAAC,WAAW,GAAG,IAAIA,iBAAQ,CAAC;AACrC,MAAM,KAAK,EAAE,cAAc;AAC3B,MAAM,WAAW,EAAE,mBAAmB;AACtC,MAAM,OAAO,EAAE,KAAK,KAAK,SAAS;AAClC,MAAM,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AACjC,QAAQ,aAAa,CAAC,KAAK,GAAE;AAC7B,OAAO;AACP,KAAK,EAAC;AACN;AACA,IAAI,SAAS,oBAAoB,GAAG;AACpC,MAAM,MAAM,aAAa,GAAG,OAAO,EAAE,OAAO,CAAC,OAAM;AACnD,MAAM,MAAM,WAAW,GAAG,OAAO,EAAE,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,OAAO,CAAC,WAAW,EAAC;AACjF,MAAM,MAAM,uBAAuB,GAAG,WAAW,EAAE,QAAQ,CAAC,OAAM;AAClE,MAAM,OAAO,aAAa,IAAI,uBAAuB;AACrD,KAAK;AACL;AACA,IAAI,KAAK,CAAC,WAAW,GAAG,IAAIA,iBAAQ,CAAC;AACrC,MAAM,KAAK,EAAE,eAAe;AAC5B,MAAM,WAAW,EAAE,qBAAqB;AACxC,MAAM,OAAO,EAAE,oBAAoB,EAAE;AACrC,MAAM,MAAM,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AACvC;AACA;AACA,QAAQ,MAAM,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,aAAa,CAAC,SAAS,EAAC;AACpF,QAAQ,MAAM,OAAO,GAAG,iBAAiB,GAAE;AAC3C,QAAQ,MAAM,gBAAgB,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,EAAC;AACtF,QAAQ,IAAI,iBAAiB,GAAG,GAAE;AAClC,QAAQ,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK;AAClD,UAAU,MAAM,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,KAAI;AACvD,UAAU,iBAAiB,CAAC,IAAI,CAAC,QAAQ,EAAC;AAC1C,SAAS,EAAC;AACV;AACA;AACA,QAAQ,MAAM,OAAO,CAAC,GAAG;AACzB,UAAU,iBAAiB,CAAC,GAAG,CAAC,OAAO,QAAQ,KAAK;AACpD,YAAY,MAAMX,cAAM,CAAC,QAAQ,EAAC;AAClC,WAAW,CAAC;AACZ,UAAS;AACT;AACA;AACA,OAAO;AACP,KAAK,EAAC;AACN;AACA,IAAI,KAAK,CAAC,WAAW,GAAG,IAAIW,iBAAQ,CAAC;AACrC,MAAM,KAAK,EAAE,cAAc;AAC3B,MAAM,WAAW,EAAE,aAAa;AAChC,MAAM,OAAO,EAAE,OAAO,KAAK,SAAS;AACpC,MAAM,MAAM,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AACvC;AACA;AACA,OAAO;AACP,KAAK,EAAC;AACN;AACA,IAAI,KAAK,CAAC,SAAS,GAAG,IAAIA,iBAAQ,CAAC;AACnC,MAAM,KAAK,EAAE,YAAY;AACzB,MAAM,WAAW,EAAE,aAAa;AAChC,MAAM,OAAO,EAAE,OAAO,KAAK,SAAS;AACpC,MAAM,MAAM,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AACvC;AACA,QAAQ,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;AAC9B,UAAU,IAAI,EAAE,gBAAgB;AAChC,UAAU,KAAK,EAAE,EAAE;AACnB,UAAU,UAAU,EAAE,OAAO,CAAC,iBAAiB,GAAG,CAAC;AACnD,SAAS,EAAE,aAAa,EAAC;AACzB,OAAO;AACP,KAAK,EAAC;AACN;AACA,IAAI,KAAK,CAAC,SAAS,GAAG,IAAIA,iBAAQ,CAAC;AACnC,MAAM,KAAK,EAAE,YAAY;AACzB,MAAM,WAAW,EAAE,mBAAmB;AACtC,MAAM,MAAM,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AACvC,QAAQ,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,oBAAoB,EAAE,EAAC;AAC7D,OAAO;AACP,KAAK,EAAC;AACN;AACA,IAAI,KAAK,CAAC,WAAW,GAAG,IAAIA,iBAAQ,CAAC;AACrC,MAAM,KAAK,EAAE,iBAAiB;AAC9B,MAAM,WAAW,EAAE,mBAAmB;AACtC,MAAM,OAAO,EAAE,OAAO,KAAK,SAAS;AACpC,MAAM,MAAM,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AACvC,QAAQ,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,gCAAgC,EAAE,EAAE,aAAa,EAAC;AACtF,OAAO;AACP,KAAK,EAAC;AACN;AACA,IAAI,KAAK,CAAC,IAAI,GAAG,IAAIA,iBAAQ,CAAC;AAC9B,MAAM,KAAK,EAAE,MAAM;AACnB,MAAM,WAAW,EAAE,aAAa;AAChC,MAAM,OAAO,EAAE,OAAO,KAAK,SAAS;AACpC,MAAM,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AACjC,QAAQ,IAAI,eAAe,EAAE,CAAC,cAAc,EAAE;AAC9C,UAAU,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,8BAA8B,EAAC;AACxE,SAAS;AACT,OAAO;AACP,KAAK,EAAC;AACN;AACA,IAAI,KAAK,CAAC,OAAO,GAAG,IAAIA,iBAAQ,CAAC;AACjC,MAAM,KAAK,EAAE,UAAU;AACvB,MAAM,WAAW,EAAE,iBAAiB;AACpC,MAAM,OAAO,EAAE,KAAK,KAAK,SAAS;AAClC,MAAM,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AACjC,QAAQ,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,qBAAqB,EAAC;AAC7D,OAAO;AACP,KAAK,EAAC;AACN;AACA,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAIA,iBAAQ,CAAC;AACrC,MAAM,KAAK,EAAE,MAAM;AACnB,MAAM,OAAO,EAAE;AACf,QAAQ,KAAK,CAAC,WAAW;AACzB,QAAQ,KAAK,CAAC,SAAS;AACvB,QAAQ,KAAK,CAAC,SAAS;AACvB,QAAQ,eAAe;AACvB,QAAQ,KAAK,CAAC,WAAW;AACzB,QAAQ,eAAe;AACvB,QAAQ,KAAK,CAAC,IAAI;AAClB,QAAQ,KAAK,CAAC,OAAO;AACrB,QAAQ,KAAK,CAAC,WAAW;AACzB,QAAQ,eAAe;AACvB,QAAQ,KAAK,CAAC,WAAW;AACzB,QAAQ,KAAK,CAAC,WAAW;AACzB,OAAO;AACP,KAAK,CAAC,EAAC;AACP,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,KAAK,CAAC,WAAW,GAAG,IAAIA,iBAAQ,CAAC;AACnC,IAAI,KAAK,EAAE,eAAe;AAC1B,IAAI,WAAW,EAAE,mBAAmB;AACpC,IAAI,OAAO,EAAE,OAAO,KAAK,SAAS;AAClC,IAAI,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AAC/B;AACA,KAAK;AACL,GAAG,EAAC;AACJ;AACA,EAAE,KAAK,CAAC,cAAc,GAAG,IAAIA,iBAAQ,CAAC;AACtC,IAAI,KAAK,EAAE,kBAAkB;AAC7B,IAAI,WAAW,EAAE,mBAAmB;AACpC,IAAI,OAAO,EAAE,OAAO,KAAK,SAAS;AAClC,IAAI,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AAC/B;AACA,KAAK;AACL,GAAG,EAAC;AACJ;AACA,EAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAIA,iBAAQ;AAClC,IAAI;AACJ,MAAM,KAAK,EAAE,MAAM;AACnB,MAAM,OAAO,EAAE;AACf,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE;AACxB,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE;AACxB,QAAQ,eAAe;AACvB,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE;AACvB,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE;AACxB,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE;AACzB,QAAQ,EAAE,IAAI,EAAE,WAAW,EAAE;AAC7B,QAAQ,eAAe;AACvB,QAAQ,KAAK,CAAC,WAAW;AACzB,QAAQ,KAAK,CAAC,cAAc;AAC5B;AACA,QAAQ,GAAG,KAAK,GAAG;AACnB,UAAU,eAAe;AACzB,UAAU;AACV,YAAY,KAAK,EAAE,QAAQ;AAC3B,YAAY,OAAO,EAAE;AACrB,cAAc,EAAE,IAAI,EAAE,eAAe,EAAE;AACvC,cAAc,EAAE,IAAI,EAAE,cAAc,EAAE;AACtC,aAAa;AACb,WAAW;AACX,SAAS,GAAG,EAAE;AACd,OAAO;AACP,KAAK;AACL,GAAG,EAAC;AACJ;AACA;AACA;AACA;AACA,EAAE,KAAK,CAAC,SAAS,GAAG,IAAIA,iBAAQ,CAAC;AACjC,IAAI,KAAK,EAAE,MAAM;AACjB,IAAI,IAAI,EAAE,UAAU;AACpB,IAAI,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,MAAM;AACtC,IAAI,KAAK,GAAG;AACZ,MAAM,KAAK,CAAC,QAAQ,CAAC;AACrB,QAAQ,IAAI,EAAE,eAAe;AAC7B,QAAQ,KAAK,EAAE,MAAM;AACrB,OAAO,EAAC;AACR,KAAK;AACL,GAAG,EAAC;AACJ;AACA,EAAE,KAAK,CAAC,UAAU,GAAG,IAAIA,iBAAQ,CAAC;AAClC,IAAI,KAAK,EAAE,OAAO;AAClB,IAAI,IAAI,EAAE,UAAU;AACpB,IAAI,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,OAAO;AACvC,IAAI,KAAK,GAAG;AACZ,MAAM,KAAK,CAAC,QAAQ,CAAC;AACrB,QAAQ,IAAI,EAAE,eAAe;AAC7B,QAAQ,KAAK,EAAE,OAAO;AACtB,OAAO,EAAC;AACR,KAAK;AACL,GAAG,EAAC;AACJ;AACA,EAAE,KAAK,CAAC,gBAAgB,GAAG,IAAIA,iBAAQ,CAAC;AACxC,IAAI,KAAK,EAAE,cAAc;AACzB,IAAI,IAAI,EAAE,UAAU;AACpB,IAAI,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,cAAc;AAC9C,IAAI,KAAK,GAAG;AACZ,MAAM,KAAK,CAAC,QAAQ,CAAC;AACrB,QAAQ,IAAI,EAAE,eAAe;AAC7B,QAAQ,KAAK,EAAE,cAAc;AAC7B,OAAO,EAAC;AACR,KAAK;AACL,GAAG,EAAC;AACJ;AACA,EAAE,KAAK,CAAC,UAAU,GAAG,IAAIA,iBAAQ,CAAC;AAClC,IAAI,KAAK,EAAE,aAAa;AACxB,IAAI,IAAI,EAAE,UAAU;AACpB,IAAI,OAAO,EAAE,KAAK,CAAC,UAAU;AAC7B,IAAI,WAAW,EAAE,aAAa;AAC9B,IAAI,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;AAC/B,MAAM,IAAI,aAAa,EAAE;AACzB,QAAQ,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;AAC9B,UAAU,IAAI,EAAE,iBAAiB;AACjC,UAAU,OAAO,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,UAAU;AAC7C,SAAS,EAAE,aAAa,EAAC;AACzB,OAAO;AACP,KAAK;AACL,GAAG,EAAC;AACJ;AACA,EAAE,KAAK,CAAC,cAAc,GAAG,IAAIA,iBAAQ,CAAC;AACtC,IAAI,KAAK,EAAE,wBAAwB;AACnC,IAAI,WAAW,EAAE,KAAK,GAAG,eAAe,GAAG,cAAc;AACzD,IAAI,IAAI,EAAE,gBAAgB;AAC1B,GAAG,EAAC;AACJ;AACA,EAAE,KAAK,CAAC,MAAM,GAAG,IAAIA,iBAAQ,CAAC;AAC9B,IAAI,KAAK,EAAE,QAAQ;AACnB,IAAI,WAAW,EAAE,aAAa;AAC9B,IAAI,IAAI,EAAE,QAAQ;AAClB,GAAG,EAAC;AACJ;AACA,EAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAIA,iBAAQ,CAAC;AACnC,IAAI,KAAK,EAAE,MAAM;AACjB,IAAI,OAAO,EAAE;AACb,MAAM;AACN,QAAQ,KAAK,EAAE,YAAY;AAC3B,QAAQ,OAAO,EAAE;AACjB,UAAU,KAAK,CAAC,gBAAgB;AAChC,UAAU,eAAe;AACzB,UAAU,KAAK,CAAC,UAAU;AAC1B,UAAU,KAAK,CAAC,SAAS;AACzB,SAAS;AACT,OAAO;AACP,MAAM,eAAe;AACrB,MAAM,KAAK,CAAC,UAAU;AACtB,MAAM,GAAGnB,YAAG,CAAC,UAAU,GAAG,EAAE,GAAG;AAC/B,QAAQ,eAAe;AACvB,QAAQ,KAAK,CAAC,cAAc;AAC5B,QAAQ,KAAK,CAAC,MAAM;AACpB,OAAO;AACP,KAAK;AACL,GAAG,CAAC,EAAC;AACL;AACA,EAAE,OAAO,KAAK;AACd;;ACraA;AACA;AACA;AACO,eAAe,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,GAAG,SAAS,EAAE;AACrF;AACA,CAAC,IAAI,KAAK,IAAI,SAAS,EAAE,KAAK,GAAG,MAAMoB,YAAI,CAAC,QAAQ,EAAC;AACrD;AACA,CAAC,MAAM,GAAG,GAAG;AACb,EAAE,IAAI,EAAE,KAAK;AACb,EAAE,IAAI,EAAE,EAAE;AACV,EAAE,IAAI,EAAE,QAAQ;AAChB,EAAE,EAAE,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;AACxB,EAAE,QAAQ,EAAE,QAAQ;AACpB,EAAE,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE;AACxC,EAAE,QAAQ,EAAE,KAAK,CAAC,KAAK,CAAC,WAAW,EAAE;AACrC,EAAE,SAAS,EAAE,SAAS;AACtB;AACA,EAAE,KAAK,EAAE,EAAE;AACX,EAAE,OAAO,EAAE,EAAE;AACb,EAAE,IAAI,EAAE,EAAE;AACV,GAAE;AACF;AACA;AACA,CAAC,MAAM,EAAE,GAAGC,0BAAM,CAAC,IAAI,CAAC,QAAQ,EAAC;AACjC;AACA;AACA;AACA,CAAC,GAAG,CAAC,OAAO,GAAG,cAAc,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAC;AAC9C;AACA;AACA;AACA,CAAC,MAAM,cAAc,GAAG,CAAC,EAAE,CAAC,QAAO;AACnC,CAAC,IAAI,cAAc,EAAE;AACrB;AACA,EAAE,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,GAAG,GAAE;AAC/D,EAAE;AACF;AACA;AACA,CAAC,GAAG,CAAC,KAAK,GAAG,QAAQ,CAAC,EAAE,EAAER,wBAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAC;AAClD;AACA;AACA,CAAC,GAAG,CAAC,IAAI,GAAGA,wBAAI,CAAC,QAAQ,CAAC,QAAQ,EAAC;AACnC,CAAC,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAC;AACxD;AACA,CAAC,OAAO,GAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,QAAQ,CAAC,UAAU,EAAE,QAAQ,EAAE;AACxC;AACA,CAAC,IAAI,WAAW,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,EAAC;AACxD,CAAC,IAAI,WAAW,EAAE;AAClB,EAAE,OAAO,WAAW,CAAC,CAAC,CAAC;AACvB,EAAE,MAAM,IAAI,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;AACrD,EAAE,OAAO,UAAU,CAAC,IAAI,CAAC,KAAK;AAC9B,EAAE,MAAM;AACR,EAAE,OAAO,EAAE;AACX;AACA,EAAE;AACF,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,cAAc,CAAC,OAAO,EAAE,YAAY,GAAG,SAAS,EAAE;AAClE;AACA;AACA,CAAC,IAAI,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,EAAC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,IAAI,YAAY,EAAE;AACnB,EAAE,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,GAAG,GAAG,EAAC;AAC9C,EAAE;AACF;AACA;AACA;AACA;AACA,CAAC,IAAI,GAAGS,4BAAQ,CAAC,IAAI,CAAC;AACtB,GAAG,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;AAC3B,GAAG,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;AACxB,GAAG,OAAO,CAAC,kBAAkB,EAAE,GAAG,CAAC;AACnC,GAAG,OAAO,CAAC,cAAc,EAAE,GAAG,EAAC;AAC/B;AACA;AACA;AACA,CAAC,IAAI,YAAY,EAAE;AACnB,EAAE,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,EAAC;AACxC,EAAE;AACF;AACA,CAAC,OAAO,IAAI;AACZ,CAAC;AACD;AACA,MAAM,WAAW,GAAG,QAAO;AAC3B,MAAM,cAAc,GAAG,cAAa;AAEpC;AACA;AACA,MAAM,QAAQ,GAAG,QAAO;AACxB;AACA;AACA;AACA;AACA;AACA,MAAM,kBAAkB,GAAG;;ACjI3B;AACA;AACA;AACO,eAAe,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,GAAG,SAAS,EAAE;AAClF;AACA,CAAC,IAAI,KAAK,IAAI,SAAS,EAAE,KAAK,GAAG,MAAMF,YAAI,CAAC,QAAQ,EAAC;AACrD,CAAC,MAAM,SAAS,GAAGP,wBAAI,CAAC,OAAO,CAAC,QAAQ,EAAC;AACzC,CAAC,MAAM,IAAI,GAAG,YAAY,CAAC,SAAS,EAAC;AACrC,CAAC,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAGU,0BAAM,CAAC,QAAQ,EAAC;AACzD;AACA,CAAC,OAAO;AACR,EAAE,IAAI,EAAE,IAAI;AACZ,EAAE,IAAI,EAAEV,wBAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;AAC/B,EAAE,IAAI,EAAE,QAAQ;AAChB,EAAE,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;AAC5B,EAAE,QAAQ,EAAE,QAAQ;AACpB,EAAE,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE;AACxC,EAAE,QAAQ,EAAE,KAAK,CAAC,KAAK,CAAC,WAAW,EAAE;AACrC,EAAE,SAAS,EAAE,SAAS;AACtB;AACA,EAAE,MAAM,EAAE,MAAM;AAChB,EAAE,WAAW,EAAE,KAAK,CAAC,IAAI;AACzB,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE;AAC9C,EAAE;AACF;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,eAAe,SAAS,CAAC,KAAK,EAAE,cAAc,EAAE,UAAU,EAAE,KAAK,GAAG,SAAS,EAAE,QAAQ,GAAG,EAAE,EAAE,SAAS,GAAG,CAAC,EAAE;AACpH;AACA;AACA;AACA,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,MAAMO,YAAI,CAAC,UAAU,EAAC;AAC5C;AACA;AACA,EAAE,MAAM,MAAM,GAAG;AACjB,IAAI,IAAI,EAAE,QAAQ;AAClB,IAAI,IAAI,EAAE,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAC/D,IAAI,IAAI,EAAE,UAAU;AACpB,IAAI,EAAE,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;AAC7B,IAAI,QAAQ,EAAE,QAAQ;AACtB,IAAI,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE;AAC1C,IAAI,QAAQ,EAAE,KAAK,CAAC,KAAK,CAAC,WAAW,EAAE;AACvC,IAAI,SAAS,EAAE,SAAS;AACxB;AACA,IAAI,WAAW,EAAE,CAAC;AAClB,IAAI,cAAc,EAAE,CAAC;AACrB,IAAG;AACH;AACA;AACA,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,OAAM;AAChC,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,EAAC;AAC9B;AACA;AACA,EAAE,MAAM,QAAQ,GAAG;AACnB,IAAI,EAAE,EAAE,MAAM,CAAC,EAAE;AACjB,IAAI,QAAQ,EAAE,QAAQ;AACtB,IAAI,QAAQ,EAAE,EAAE;AAChB,IAAG;AACH,EAAE,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAC;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,iBAAiB,GAAG,MAAMI,eAAO,CAAC,UAAU,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,EAAC;AAC9E;AACA,EAAE,MAAM,OAAO,CAAC,GAAG;AACnB,IAAI,iBAAiB,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK;AACvC;AACA;AACA,MAAM,MAAM,QAAQ,GAAGX,wBAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,IAAI,EAAC;AACpD;AACA;AACA,MAAM,MAAM,GAAG,GAAGA,wBAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAC;AACtC;AACA,MAAM,IAAI,CAAC,CAAC,WAAW,EAAE,EAAE;AAC3B;AACA,QAAQ,MAAM,EAAE,cAAc,EAAE,GAAG,MAAM,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,CAAC,EAAE,EAAE,SAAS,GAAG,CAAC,EAAC;AAC3H;AACA;AACA,QAAQ,MAAM,CAAC,WAAW,GAAE;AAC5B,QAAQ,MAAM,CAAC,cAAc,IAAI,eAAc;AAC/C;AACA,OAAO,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE;AAC7C;AACA,QAAQ,MAAM,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC;AAC/B,UAAU,MAAM,WAAW,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE,EAAE,SAAS,GAAG,CAAC,CAAC;AAC/D,UAAU,MAAM,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE,EAAE,SAAS,GAAG,CAAC,EAAC;AAC5D;AACA,QAAQ,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,KAAI;AAClC,QAAQ,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC;AAClC,QAAQ,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC;AAC/B,UAAU,EAAE,EAAE,IAAI,CAAC,EAAE;AACrB,UAAU,QAAQ,EAAE,MAAM,CAAC,EAAE;AAC7B,SAAS,EAAC;AACV;AACA;AACA,QAAQ,MAAM,CAAC,WAAW,GAAE;AAC5B,OAAO;AACP,KAAK,CAAC;AACN,IAAG;AACH;AACA,EAAE,MAAM,CAAC,cAAc,IAAI,MAAM,CAAC,YAAW;AAC7C;AACA,EAAE,OAAO;AACT,IAAI,cAAc,EAAE,MAAM,CAAC,cAAc;AACzC,GAAG;AACH;;ACnGA;AACA;AACA;AACA;AACO,eAAe,UAAU,EAAE,WAAW,EAAE;AAC/C;AACA,EAAE,IAAI;AACN;AACA,IAAI,MAAM,KAAK,GAAG;AAClB,MAAM,IAAI,EAAE,EAAE;AACd,MAAM,IAAI,EAAE,EAAE;AACd,MAAM,MAAM,EAAE,EAAE;AAChB,MAAK;AACL;AACA;AACA,IAAI,MAAM,SAAS,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,EAAE,WAAW,EAAC;AACnD;AACA,IAAI,OAAO,KAAK;AAChB;AACA;AACA;AACA,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,GAAG,CAAC,GAAG,EAAC;AACpB,GAAG;AACH;;ACdAnB,qBAAa,GAAE;AACf;AACA;AACA;AACA;AACA,MAAM,cAAc,GAAG;AACvB,EAAE,OAAO,EAAE,eAAe;AAC1B,EAAE,aAAa,EAAE,IAAI;AACrB,EAAE,UAAU,EAAE,IAAI;AAClB,EAAE,gBAAgB,EAAE;AACpB,IAAI,kBAAkB,EAAE,GAAG;AAC3B,IAAI,YAAY,EAAE,GAAG;AACrB,GAAG;AACH,EAAC;AACD;AACO,MAAM,OAAO,CAAC;AACrB,EAAE,WAAW,CAAC,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE;AACnC;AACA,IAAI,IAAI,CAAC,EAAE,GAAG,GAAE;AAChB,IAAI,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,UAAS;AACtC,IAAI,IAAI,CAAC,MAAM,GAAG,OAAM;AACxB;AACA;AACA,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE;AACxB,MAAM,IAAI,CAAC,KAAK,GAAE;AAClB,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,EAAE,EAAE,GAAG,EAAE;AACT,EAAE,SAAS,GAAG,EAAE;AAChB,EAAE,MAAM,GAAG,SAAS;AACpB;AACA,EAAE,KAAK,GAAG,EAAE;AACZ,EAAE,gBAAgB,GAAG,SAAS;AAC9B,EAAE,cAAc,GAAG,EAAE;AACrB,EAAE,WAAW,GAAG,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,KAAK,GAAG;AAChB;AACA;AACA,IAAI,IAAI,CAAC,gBAAgB,GAAG+B,4BAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,cAAc,EAAC;AAC1E;AACA;AACA,IAAI,IAAI,CAAC,gBAAgB;AACzB,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACxE,OAAO,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;AAClE,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACxE,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACxE,OAAO,EAAE,CAAC,WAAW,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,QAAQ,CAAC,EAAC;AAC9E;AACA;AACA,IAAI,IAAI,CAAC,KAAK,GAAG,MAAM,UAAU,CAAC,IAAI,CAAC,SAAS,EAAC;AACjD;AACA;AACA,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,KAAK,EAAC;AACpE;AACA;AACA,IAAI,mBAAmB,CAAC,IAAI,CAAC,KAAK,EAAC;AACnC,GAAG;AACH;AACA,EAAE,iBAAiB,CAAC,YAAY,EAAE;AAClC,IAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,EAAC;AACjD,IAAI,IAAI,CAAC,SAAS,GAAG,aAAY;AACjC,IAAI,IAAI,CAAC,KAAK,GAAE;AAChB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,GAAG;AACT;AACA,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAE;AACjC,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE,YAAY,GAAGC,iBAAQ,CAAC,MAAM;AAChC,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,EAAC;AAC1C,IAAI,IAAI,CAAC,cAAc,GAAG,GAAE;AAC5B,GAAG,EAAE,GAAG,CAAC;AACT;AACA,EAAE,YAAY,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE;AACvC,IAAI,MAAM,MAAM,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,GAAE;AACnD;AACA,IAAI,IAAI,KAAK,EAAE,MAAM,CAAC,KAAK,GAAG,MAAK;AACnC;AACA;AACA,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAC;AACpC;AACA;AACA;AACA;AACA,IAAI,IAAI,CAAC,YAAY,GAAE;AACvB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,YAAY,CAAC,OAAO,EAAE;AAC9B;AACA;AACA;AACA,IAAI,MAAM,0BAA0B,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,IAAI,QAAQ,IAAI,CAAC,CAAC,KAAK,IAAI,WAAW,EAAC;AACzG;AACA,IAAI,IAAI,0BAA0B,EAAE;AACpC;AACA;AACA,MAAM,IAAI,CAAC,KAAK,GAAG,MAAM,UAAU,CAAC,IAAI,CAAC,SAAS,EAAC;AACnD;AACA;AACA,MAAM,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,KAAK,EAAC;AACtE;AACA;AACA,MAAM,mBAAmB,CAAC,IAAI,CAAC,KAAK,EAAC;AACrC;AACA,KAAK,MAAM;AACX;AACA;AACA,MAAM,IAAI,CAAC,KAAK,GAAG,MAAM7B,2BAAO,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,KAAK,KAAK;AAC9D,QAAQ,KAAK,MAAM,CAAC,IAAI,OAAO,EAAE;AACjC,UAAU,MAAM,GAAG,GAAGgB,wBAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAC;AAC1C,UAAU,MAAM,UAAU,GAAGA,wBAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAC;AACjD,UAAU,MAAM,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,UAAU,EAAC;AACvF,UAAU,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAC;AACnD,UAAU,MAAM,cAAc,GAAG,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,YAAY,CAAC,EAAE,EAAE,IAAI,EAAC;AAC9E;AACA,UAAU,IAAI,KAAK,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE;AAC1C;AACA,YAAY,QAAQ,CAAC,CAAC,KAAK;AAC3B;AACA,cAAc,KAAK,KAAK,EAAE;AAC1B,gBAAgB,MAAM,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC;AACvC,kBAAkB,MAAM,WAAW,CAAC,CAAC,CAAC,IAAI,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC;AACjG,kBAAkB,MAAM,QAAQ,CAAC,CAAC,CAAC,IAAI,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,EAAC;AAC9F;AACA,gBAAgB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,KAAI;AAC1C;AACA,gBAAgB,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC;AAC1C;AACA,gBAAgB,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC;AAC7C,kBAAkB,EAAE,EAAE,IAAI,CAAC,EAAE;AAC7B,kBAAkB,QAAQ,EAAE,IAAI,CAAC,QAAQ;AACzC,kBAAkB,IAAI,EAAE,IAAI,CAAC,IAAI;AACjC,iBAAiB,EAAC;AAClB;AACA,gBAAgB,YAAY,CAAC,WAAW,GAAE;AAC1C;AACA,gBAAgB,uBAAuB,CAAC,YAAY,EAAC;AACrD,gBAAgB,SAAS,uBAAuB,CAAC,MAAM,EAAE;AACzD,kBAAkB,MAAM,CAAC,cAAc,GAAE;AACzC,kBAAkB,IAAI,MAAM,CAAC,QAAQ,KAAK,EAAE,EAAE;AAC9C,oBAAoB,uBAAuB,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAC;AACxE,mBAAmB;AACnB,iBAAiB;AACjB;AACA,gBAAgB,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,eAAe,CAAC,IAAI,EAAC;AACrD,gBAAgB,KAAK;AACrB,eAAe;AACf;AACA,cAAc,KAAK,QAAQ,EAAE;AAC7B,gBAAgB,MAAM,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC;AACvC,kBAAkB,MAAM,WAAW,CAAC,CAAC,CAAC,IAAI,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC;AACjG,kBAAkB,MAAM,QAAQ,CAAC,CAAC,CAAC,IAAI,EAAE,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,EAAC;AAC9F,gBAAgB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,KAAI;AAC1C;AACA,gBAAgB,IAAI,KAAK,EAAE,eAAe,CAAC,IAAI,EAAC;AAChD,gBAAgB,KAAK;AACrB,eAAe;AACf;AACA,cAAc,KAAK,QAAQ,EAAE;AAC7B,gBAAgB,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,EAAC;AACnF;AACA,gBAAgB,OAAO,KAAK,CAAC,IAAI,CAAC,EAAE,EAAC;AACrC;AACA,gBAAgB,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;AAChE;AACA,gBAAgB,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAC;AAC/G;AACA,gBAAgB,YAAY,CAAC,WAAW,GAAE;AAC1C;AACA,gBAAgB,uBAAuB,CAAC,YAAY,EAAC;AACrD,gBAAgB,SAAS,uBAAuB,CAAC,MAAM,EAAE;AACzD,kBAAkB,MAAM,CAAC,cAAc,GAAE;AACzC,kBAAkB,IAAI,MAAM,CAAC,QAAQ,KAAK,EAAE,EAAE;AAC9C,oBAAoB,uBAAuB,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAC;AACxE,mBAAmB;AACnB,iBAAiB;AACjB;AACA,gBAAgB,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,EAAC;AACzD,gBAAgB,KAAK;AACrB,eAAe;AACf,aAAa;AACb,WAAW;AACX;AACA,SAAS;AACT,OAAO,EAAE,CAAC,OAAO,EAAE,cAAc,KAAK;AACtC,QAAQ,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,sBAAsB,EAAE,OAAO,EAAC;AACrE,OAAO,EAAC;AACR,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,mBAAmB,CAAC,KAAK,EAAE;AACpC,EAAE,MAAM,UAAU,GAAG,GAAE;AACvB,EAAE,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK;AAC/B,IAAI,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAC;AAC/B,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;AAC5B,MAAM,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC;AAC3C,KAAK;AACL,GAAG,EAAC;AACJ;AACA,EAAE,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,UAAU,EAAC;AAClC,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,eAAe,CAAC,IAAI,EAAE;AAC/B,EAAE,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC;AACxC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc,CAAC,IAAI,EAAE;AAC9B;AACA;AACA,EAAE,IAAI,EAAE,OAAO,EAAE,GAAGQ,0BAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAC;AAC1C;AACA;AACA,EAAE,OAAO,GAAG,cAAc,CAAC,OAAO,EAAC;AACnC;AACA;AACA,EAAE,OAAO;AACT,IAAI,EAAE,EAAE,IAAI,CAAC,EAAE;AACf,IAAI,IAAI,EAAE,IAAI,CAAC,IAAI;AACnB,IAAI,KAAK,EAAE,IAAI,CAAC,KAAK;AACrB,IAAI,IAAI,EAAE,IAAI,CAAC,IAAI;AACnB,IAAI,IAAI,EAAE,OAAO;AACjB,GAAG;AACH;;AC5QA,MAAM,mBAAmB,GAAG;AAC5B,EAAE,IAAI,EAAE,KAAK;AACb,EAAE,KAAK,EAAE,GAAG;AACZ,EAAE,MAAM,EAAE,GAAG;AACb;AACA;AACA,EAAE,aAAa,EAAE,aAAa;AAC9B,EAAE,cAAc,EAAE;AAClB,IAAI,YAAY,EAAE,KAAK;AACvB;AACA,IAAI,2BAA2B,EAAE,KAAK;AACtC,IAAI,gBAAgB,EAAE,IAAI;AAC1B,IAAI,kBAAkB,EAAE,KAAK;AAC7B,IAAI,gBAAgB,EAAE,KAAK;AAC3B,IAAI,eAAe,EAAE,KAAK;AAC1B,IAAI,uBAAuB,EAAE,KAAK;AAClC,IAAI,0BAA0B,EAAE,KAAK;AACrC,IAAI,WAAW,EAAE,IAAI;AACrB,IAAI,OAAO,EAAE,IAAI;AACjB,IAAI,WAAW,EAAE,IAAI;AACrB,IAAI,UAAU,EAAE,KAAK;AACrB;AACA,IAAI,OAAO,EAAER,wBAAI,CAAC,IAAI,CAAC,SAAS,EAAE,eAAe,CAAC;AAClD,GAAG;AACH,EAAC;AACD;AACA;AACO,eAAe,YAAY,CAAC,EAAE,EAAE,OAAO,EAAE;AAChD;AACA,EAAE,MAAM,GAAG,GAAG,IAAIZ,sBAAa,CAAC,mBAAmB,EAAC;AACpD,EAAE,GAAG,CAAC,SAAS,GAAG,GAAE;AACpB;AACA;AACA;AACA,EAAE,MAAM,eAAe,GAAG,eAAe,EAAE,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC;AAC9E,EAAE,GAAG,CAAC,kBAAkB,CAAC,eAAe,EAAC;AACzC;AACA,EAAE,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,IAAI,GAAE;AAC9C;AACA;AACA;AACA,EAAE,IAAI,YAAY,EAAE;AAEpB,IAAI,MAAM,OAAO,GAAG,IAAG;AACvB,IAAI,MAAM,YAAY,GAAG0B,eAAM,CAAC,iBAAiB,EAAE,CAAC,YAAY,CAAC,MAAK;AACtE,IAAI,MAAM,aAAa,GAAGA,eAAM,CAAC,iBAAiB,EAAE,CAAC,YAAY,CAAC,OAAM;AACxE,IAAI,IAAI,QAAQ,GAAG,YAAY,IAAI,OAAO,GAAG,CAAC,EAAC;AAC/C,IAAI,IAAI,SAAS,GAAG,aAAa,IAAI,OAAO,GAAG,CAAC,EAAC;AACjD,IAAI,QAAQ,GAAG,QAAQ,GAAG,IAAI,GAAG,IAAI,GAAG,SAAQ;AAChD,IAAI,SAAS,GAAG,SAAS,GAAG,IAAI,GAAG,IAAI,GAAG,UAAS;AACnD,IAAI,MAAM,MAAM,GAAG,GAAG,CAAC,EAAE,GAAG,GAAE;AAC9B,IAAI,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,YAAY,GAAG,QAAQ,IAAI,CAAC,GAAG,MAAM,EAAC;AACxE,IAAI,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,aAAa,GAAG,SAAS,IAAI,CAAC,GAAG,MAAM,EAAC;AAC1E,IAAI,GAAG,CAAC,SAAS,CAAC;AAClB,MAAM,CAAC,EAAE,SAAS;AAClB,MAAM,CAAC,EAAE,SAAS;AAClB,MAAM,KAAK,EAAE,QAAQ;AACrB,MAAM,MAAM,EAAE,SAAS;AACvB,KAAK,EAAE,KAAK,EAAC;AACb,GAAG,MAAM;AACT,IAAI,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,EAAC;AAC/C;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,GAAG,KAAK;AACjC;AACA,IAAI,MAAM,wBAAwB,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC,SAAS,KAAK,gBAAe;AACjF,IAAI,MAAM,gBAAgB,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,IAAI,cAAa;AAC5F;AACA;AACA,IAAI,IAAI,wBAAwB,IAAI,CAAC,gBAAgB,EAAE;AACvD;AACA,MAAM,GAAG,CAAC,cAAc,GAAE;AAC1B,MAAM,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,wBAAwB,EAAC;AACpD,KAAK;AACL,GAAG,EAAC;AACJ;AACA;AACA,EAAE,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,OAAO,GAAG,KAAK;AAClC;AACA,IAAI,MAAM,eAAe,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC,SAAS,IAAI,OAAM;AAC9D,IAAI,IAAI,eAAe,EAAE;AACzB,MAAM,MAAM,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,EAAE,GAAG,EAAC;AAClE,KAAK;AACL;AACA;AACA,IAAI,MAAM,mBAAmB,GAAG1B,sBAAa,CAAC,aAAa,EAAE,CAAC,OAAM;AACpE,IAAI,IAAI,CAAC,mBAAmB,EAAE;AAC9B,MAAM,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,mBAAmB,EAAE,EAAC;AAC1D,KAAK;AACL,GAAG,EAAC;AACJ;AACA;AACA,EAAE,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAEyB,iBAAQ,CAAC,MAAM,EAAE,uBAAuB,CAAC,GAAG,EAAC,EAAE,EAAE,IAAI,CAAC,EAAC;AAC1E,EAAE,GAAG,CAAC,EAAE,CAAC,MAAM,EAAEA,iBAAQ,CAAC,MAAM,EAAE,uBAAuB,CAAC,GAAG,EAAC,EAAE,EAAE,IAAI,CAAC,EAAC;AACxE;AACA;AACA,EAAE,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM;AACxB,IAAI,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,EAAE,GAAG,EAAC;AAC1D,GAAG,EAAC;AACJ;AACA;AACA;AACA;AACA,EAAE,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY;AAC7B,IAAI,MAAM,IAAI,CAAC,EAAE,EAAC;AAClB,IAAI,IAAI,MAAM,CAAC,KAAK,EAAE,CAAC,eAAe,IAAI,GAAG,CAAC,SAAS,EAAE;AACzD,MAAM,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,mBAAmB,EAAE,EAAC;AAC1D,KAAK;AACL,GAAG,EAAC;AACJ;AACA;AACA,EAAE,IAAI,CAAC1B,YAAG,CAAC,UAAU,EAAE,GAAG,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;AACtD;AACA;AACA,EAAE,MAAM,GAAG,CAAC,QAAQ,CAACa,wBAAI,CAAC,IAAI,CAAC,SAAS,EAAE,YAAY,CAAC,EAAE;AACzD,IAAI,KAAK,EAAE;AACX,MAAM,EAAE,EAAE,GAAG,CAAC,SAAS;AACvB,KAAK;AACL,GAAG,EAAC;AACJ;AACA;AACA,EAAE,uBAAuB,CAAC,GAAG,EAAC;AAC9B;AACA;AACA,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;AACxB,IAAI,IAAI,EAAE,uBAAuB;AACjC,GAAG,EAAE,GAAG,EAAC;AACT;AACA,EAAE,OAAO,GAAG;AACZ,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,uBAAuB,CAAC,GAAG,EAAE;AACtC,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;AACxB,IAAI,IAAI,EAAE,4BAA4B;AACtC,IAAI,YAAY,EAAE,GAAG,CAAC,SAAS,EAAE;AACjC,GAAG,EAAE,GAAG,EAAC;AACT;;AClJA;AACA;AACA;AACA;AACA;AACO,SAASF,MAAI,GAAG;AACvB;AACA;AACA;AACA,EAAE,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,KAAK,EAAE,QAAQ,KAAK;AACzD;AACA,IAAI,MAAM,YAAY,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAM;AACvF;AACA,IAAI,MAAM,cAAc,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAM;AACzF;AACA,IAAI,MAAM,2BAA2B,GAAG,eAAe,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE,MAAM,EAAE,WAAW,CAAC,EAAC;AAC1G;AACA,IAAI,MAAM,oBAAoB,GAAG,eAAe,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE,aAAa,EAAC;AACrG;AACA,IAAI,MAAM,aAAa,GAAG,gBAAgB,CAAC,WAAW,EAAE,aAAa,EAAE,KAAK,EAAE,QAAQ,EAAC;AACvF;AACA;AACA;AACA;AACA,IAAI,IAAI,YAAY,EAAE;AACtB,MAAM,MAAM,EAAE,GAAG,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAC;AACjF,MAAM,sBAAsB,CAAC,KAAK,EAAE,EAAE,EAAC;AACvC,KAAK;AACL;AACA;AACA,IAAI,IAAI,2BAA2B,EAAE;AACrC,MAAM,MAAM,UAAU,GAAG,2CAA2C,CAAC,KAAK,EAAE,QAAQ,EAAC;AACrF,MAAM,UAAU,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK;AACjC,QAAQ,MAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAC;AAC/C,QAAQ,MAAM,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,EAAE,IAAI,EAAE,EAAC;AAC3E,QAAQ,MAAM,gBAAgB,GAAG,OAAO,CAAC,SAAS,KAAK,GAAE;AACzD,QAAQ,IAAI,CAAC,gBAAgB,EAAE;AAC/B,UAAU,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,UAAS;AAC/C,UAAU,OAAO,CAAC,KAAK,GAAE;AACzB,SAAS,MAAM;AACf,UAAU,OAAO,CAAC,iBAAiB,CAAC,OAAO,CAAC,SAAS,EAAC;AACtD,SAAS;AACT,OAAO,EAAC;AACR,KAAK;AACL;AACA;AACA;AACA,IAAI,IAAI,cAAc,EAAE;AACxB,MAAM,MAAM,EAAE,GAAG,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAC;AACjF,MAAM,MAAM,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,EAAE,EAAC;AAC7D,MAAM,MAAM,cAAc,GAAG,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,EAAE,EAAC;AACzE,MAAM,OAAO,CAAC,IAAI,GAAE;AACpB,MAAM,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,EAAC;AAC/C,KAAK;AACL;AACA;AACA,IAAI,IAAI,oBAAoB,EAAE;AAC9B,MAAM,MAAM,cAAc,GAAG,4BAA4B,CAAC,KAAK,EAAE,QAAQ,EAAC;AAC1E,MAAM,cAAc,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,KAAK,EAAE,EAAC;AACxD,KAAK;AACL;AACA;AACA,IAAI,IAAI,aAAa,EAAE;AACvB,MAAM,sBAAsB,GAAE;AAC9B,KAAK;AACL,GAAG,EAAC;AACJ;AACA;AACA;AACA;AACA,EAAE,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,GAAE;AAC9B;AACA;AACA,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK;AACxC,IAAI,sBAAsB,CAAC,KAAK,EAAE,EAAE,EAAC;AACrC,GAAG,EAAC;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,sBAAsB,CAAC,KAAK,EAAE,EAAE,EAAE;AACjD,EAAE,MAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAC;AACzC,EAAE,MAAM,MAAM,GAAG,MAAM,YAAY,CAAC,EAAE,EAAE,OAAO,EAAC;AAChD,EAAE,MAAM,OAAO,GAAG,IAAI,OAAO,CAAC,EAAE,EAAE,OAAO,EAAE,MAAM,EAAC;AAClD,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAC;AAC/B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,SAAS,2CAA2C,CAAC,KAAK,EAAE,QAAQ,EAAE;AACtE,EAAE,IAAI,QAAQ,GAAG,GAAE;AACnB,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK;AACxC,IAAI,MAAM,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,UAAS;AACvD,IAAI,MAAM,YAAY,GAAG,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,UAAS;AAC7D,IAAI,IAAI,SAAS,KAAK,YAAY,EAAE;AACpC,MAAM,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAC;AACvB,KAAK;AACL,GAAG,EAAC;AACJ,EAAE,OAAO,QAAQ;AACjB,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,4BAA4B,CAAC,KAAK,EAAE,QAAQ,EAAE;AACvD,EAAE,IAAI,OAAO,GAAG,GAAE;AAClB,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK;AACxC,IAAI,MAAM,YAAY,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,OAAM;AAC9D,IAAI,MAAM,eAAe,GAAG,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,OAAM;AACrE,IAAI,IAAI,YAAY,IAAI,aAAa,IAAI,eAAe,KAAK,aAAa,EAAE;AAC5E,MAAM,MAAM,MAAM,GAAGV,sBAAa,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,SAAS,IAAI,EAAE,EAAC;AACrF,MAAM,OAAO,CAAC,IAAI,CAAC,MAAM,EAAC;AAC1B,KAAK;AACL,GAAG,EAAC;AACJ,EAAE,OAAO,OAAO;AAChB,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,sBAAsB,GAAG;AAClC,EAAE,MAAM,OAAO,GAAGA,sBAAa,CAAC,aAAa,GAAE;AAC/C,EAAE,IAAI,OAAO,CAAC,MAAM,EAAE;AACtB,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,wBAAwB,CAAC,EAAC;AAC5E,GAAG;AACH;;ACxIA,MAAM,uBAAuB,GAAG;AAChC,EAAE,IAAI,EAAE,KAAK;AACb;AACA,EAAE,KAAK,EAAE,GAAG;AACZ,EAAE,MAAM,EAAE,GAAG;AACb,EAAE,UAAU,EAAE,GAAG;AACjB,EAAE,aAAa,EAAE,QAAQ;AACzB,EAAE,SAAS,EAAE,KAAK;AAClB,EAAE,cAAc,EAAE;AAClB;AACA,IAAI,2BAA2B,EAAE,KAAK;AACtC,IAAI,gBAAgB,EAAE,IAAI;AAC1B,IAAI,kBAAkB,EAAE,KAAK;AAC7B,IAAI,gBAAgB,EAAE,KAAK;AAC3B,IAAI,eAAe,EAAE,KAAK;AAC1B,IAAI,uBAAuB,EAAE,KAAK;AAClC,IAAI,0BAA0B,EAAE,KAAK;AACrC,IAAI,WAAW,EAAE,IAAI;AACrB,IAAI,OAAO,EAAE,IAAI;AACjB,IAAI,WAAW,EAAE,IAAI;AACrB,IAAI,UAAU,EAAE,KAAK;AACrB;AACA,IAAI,OAAO,EAAEY,wBAAI,CAAC,IAAI,CAAC,SAAS,EAAE,eAAe,CAAC;AAClD,GAAG;AACH,EAAC;AACD;AACO,SAASF,MAAI,GAAG;AACvB;AACA;AACA;AACA;AACA,EAAE,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,KAAK,EAAE,QAAQ,KAAK;AACnD,IAAI,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,KAAK,QAAQ,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE;AAC5E,MAAM,IAAI,GAAE;AACZ,KAAK;AACL,GAAG,EAAC;AACJ,CAAC;AACD;AACA,eAAe,IAAI,GAAG;AACtB;AACA,EAAE,MAAM,GAAG,GAAG,IAAIV,sBAAa,CAAC,uBAAuB,EAAC;AACxD;AACA,EAAE,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,MAAM;AAClC,IAAI,GAAG,CAAC,IAAI,GAAE;AACd,GAAG,EAAC;AACJ;AACA;AACA,EAAE,GAAG,CAAC,SAAS,GAAG,cAAa;AAC/B;AACA;AACA,EAAE,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM;AACxB,IAAI,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,EAAE,GAAG,EAAC;AAC1D,GAAG,EAAC;AACJ;AACA;AACA;AACA;AACA,EAAE,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY;AAC7B,IAAI,MAAM,IAAI,CAAC,EAAE,EAAC;AAClB,IAAI,IAAI,MAAM,CAAC,KAAK,EAAE,CAAC,eAAe,IAAI,GAAG,CAAC,SAAS,EAAE;AACzD,MAAM,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,mBAAmB,EAAE,EAAC;AAC1D,KAAK;AACL,GAAG,EAAC;AACJ;AACA,EAAE,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM;AACxB,IAAI,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,mBAAmB,EAAE,EAAC;AACxD,GAAG,EAAC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,GAAG,CAAC,QAAQ,CAACY,wBAAI,CAAC,IAAI,CAAC,SAAS,EAAE,kBAAkB,CAAC,EAAE;AAC/D,IAAI,KAAK,EAAE;AACX,MAAM,EAAE,EAAE,GAAG,CAAC,SAAS;AACvB,KAAK;AACL,GAAG,EAAC;AACJ;;ACnFA;AAaA;AACA;AACA;AACA;AACA,OAAO,CAAC,GAAG,CAAC,kCAAkC,GAAG,KAAI;AACrD;AACA;AACA;AACA;AACAb,YAAG,CAAC,WAAW,CAAC,YAAY,CAAC,cAAc,EAAC;AAC5CA,YAAG,CAAC,WAAW,CAAC,YAAY,CAAC,4BAA4B,EAAC;AAC1D;AACA,IAAI,CAACA,YAAG,CAAC,UAAU,EAAE;AACrB;AACA,EAAE,MAAM,cAAc,GAAG;AACzB,IAAIa,wBAAI,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC;AACnC,IAAIA,wBAAI,CAAC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC;AACrC,IAAIA,wBAAI,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC;AACpC,IAAIA,wBAAI,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,EAAE,OAAO,CAAC,iBAAiB,CAAC,CAAC,cAAc,EAAE;AAC7C;AACA;AACA;AACA;AACA,IAAI,QAAQ,EAAEA,wBAAI,CAAC,IAAI,CAAC,SAAS,EAAE,iBAAiB,EAAE,MAAM,EAAE,UAAU,CAAC;AACzE;AACA,IAAI,IAAI,EAAE,CAAC,gBAAgB,EAAE,8BAA8B,CAAC;AAC5D,GAAG,EAAC;AACJ;AACA,EAAE,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAC;AACjD,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,EAAE,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAC;AACrG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAb,YAAG,CAAC,yBAAyB,GAAG,KAAI;AACpC;AACA;AACA,MAAM,CAAC,KAAK,GAAG,IAAI,KAAK,GAAE;AAC1B,MAAM,CAAC,KAAK,GAAG,MAAM,MAAM,CAAC,KAAK,CAAC,MAAK;AACvC,MAAM,CAAC,OAAO,GAAG,GAAE;AACnB,MAAM,CAAC,QAAQ,GAAG,GAAE;AACpB;AACA;AACA;AACA;AACA,MAAM,CAAC,EAAE,GAAG,IAAI,SAAS,GAAE;AAC3B;AACA;AACAA,YAAG,CAAC,SAAS,EAAE;AACf,GAAG,IAAI,CAAC,YAAY;AACpB;AACA;AACA,IAAI4B,MAAe,GAAE;AACrB;AACA;AACA,IAAIC,MAAuB,GAAE;AAC7B;AACA;AACA,IAAIC,MAAmB,GAAE;AACzB;AACA;AACA,IAAI,MAAM,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,kBAAkB,EAAE,EAAC;AAC7D;AACA;AACA,IAAIC,IAAsB,GAAE;AAC5B;AACA;AACA,IAAIC,MAAmB,GAAE;AACzB;AACA;AACA,IAAI,MAAM,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,mBAAmB,EAAE,EAAC;AAC9D,GAAG,EAAC;AACJ;AACA;AACA;AACA;AACA;AACA;AACAhC,YAAG,CAAC,EAAE,CAAC,aAAa,EAAE,OAAO,GAAG,KAAK;AACrC,EAAE,IAAI,MAAM,CAAC,KAAK,EAAE,CAAC,SAAS,IAAI,MAAM,EAAE;AAC1C,IAAI,GAAG,CAAC,cAAc,GAAE;AACxB,IAAI,MAAM,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;AAChC,MAAM,IAAI,EAAE,eAAe;AAC3B,KAAK,EAAC;AACN,GAAG,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,CAAC,SAAS,IAAI,aAAa,EAAE;AACxD;AACA,IAAI,GAAG,CAAC,cAAc,GAAE;AACxB,GAAG;AACH,CAAC,EAAC;AACF;AACA;AACA;AACA;AACA,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,KAAK,EAAE,QAAQ,KAAK;AACvD;AACA,EAAE,MAAM,aAAa,GAAG,gBAAgB,CAAC,WAAW,EAAE,eAAe,EAAE,KAAK,EAAE,QAAQ,EAAC;AACvF;AACA,EAAE,IAAI,aAAa,EAAE;AACrB,IAAIA,YAAG,CAAC,IAAI,GAAE;AACd,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF;AACA;AACAA,YAAG,CAAC,EAAE,CAAC,mBAAmB,EAAE,MAAM;AAClC;AACA,EAAE,IAAI,OAAO,CAAC,QAAQ,KAAK,QAAQ,EAAE;AACrC,IAAIA,YAAG,CAAC,IAAI,GAAE;AACd,GAAG;AACH,CAAC;;"}