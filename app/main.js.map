{"version":3,"file":"main.js","sources":["../src/js/store-schema.js","../src/js/reducers.js","../src/js/GambierStore.js","../src/js/utils-mainProcess.js","../src/js/GambierContents.js","../src/js/mainMenu.js","../src/main.js"],"sourcesContent":["import { time_ranges_to_array } from 'svelte/internal';\n\nexport const StoreSchema = {\n\n  // appStartupTime: {\n  //   type: 'string',\n  //   default: 'undefined'\n  // },\n\n  changed: { type: 'array', default: [] },\n\n  // TODO: For `searchInElement`, add enum of possible elements, matching CodeMirror mode assignments.\n  // filesSearchCriteria: {\n  //   type: 'object',\n  //   properties: {\n  //     lookInFolderId: { type: 'string', default: '' },\n  //     includeChildren: { type: 'boolean', default: false },\n  //     searchFor: { type: 'string', default: '*' },\n  //     searchInElement: { type: 'string', default: '*' },\n  //     matchWholeWord: { type: 'boolean', default: false },\n  //     matchCase: { type: 'boolean', default: false },\n  //     filterDateModified: { type: 'boolean', default: false },\n  //     fromDateModified: { type: 'string', format: 'date-time' },\n  //     toDateModified: { type: 'string', format: 'date-time' },\n  //     filterDateCreated: { type: 'boolean', default: false },\n  //     fromDateCreated: { type: 'string', format: 'date-time' },\n  //     toDateCreated: { type: 'string', format: 'date-time' },\n  //     tags: { type: 'array', default: [] }\n  //   },\n  //   default: {\n  //     lookInFolderId: '',\n  //     includeChildren: false,\n  //     searchFor: '',\n  //     searchInElement: '*',\n  //     matchWholeWord: false,\n  //     matchCase: false,\n  //     filterDateModified: false,\n  //     filterDateCreated: false,\n  //     tags: []\n  //   }\n  // },\n\n  sideBar: {\n    type: 'object',\n    properties: {\n      show: { type: 'boolean', default: 'true' },\n      selectedItemId: { type: 'string', default: '' },\n      items: { type: 'array', default: '' },\n    },\n    default: {\n      show: true,\n      selectedItemId: '',\n      items: [\n        {\n          label: 'Files',\n          id: 'files-group',\n          type: 'group'\n        },\n        {\n          label: 'All',\n          id: 'all',\n          parentId: 'files-group',\n          type: 'filesFilter',\n          icon: 'images/sidebar-default-icon.svg',\n          showFilesList: true,\n          filesSearchParams: {\n            lookInFolderId: 'root',\n            includeChildren: true,\n          },\n          selectedFileId: '',\n          scrollPosition: '0'\n        },\n        {\n          label: 'Favorites',\n          id: 'favorites',\n          parentId: 'files-group',\n          type: 'filesFilter',\n          icon: 'images/sidebar-default-icon.svg',\n          showFilesList: true,\n          filesSearchParams: {\n            lookInFolderId: 'root',\n            includeChildren: true,\n            tags: ['favorite']    \n          },\n          selectedFileId: '',\n          scrollPosition: '0'\n        },\n        {\n          label: 'Most Recent',\n          id: 'most-recent',\n          parentId: 'files-group',\n          type: 'filesFilter',\n          icon: 'images/sidebar-default-icon.svg',\n          showFilesList: true,\n          filesSearchParams: {\n            lookInFolderId: 'root',\n            includeChildren: true,\n            filterDateModified: true,\n            fromDateModified: 'today',\n            toDateModified: '7-days-ago'\n          },\n          selectedFileId: '',\n          scrollPosition: '0'\n        },\n        {\n          label: '',\n          id: '',\n          isRoot: true,\n          parentId: 'files-group',\n          type: 'filesFolder',\n          icon: 'images/folder.svg',\n          showFilesList: true,\n          filesSearchParams: {\n            lookInFolderId: 'root',\n            includeChildren: false,\n            filterDateModified: false,\n          },\n          selectedFileId: '',\n          scrollPosition: '0',\n          expanded: true\n        },\n        {\n          label: 'Citations',\n          id: 'citations-group',\n          type: 'group'\n        },\n        {\n          label: 'Citations',\n          id: 'citations',\n          parentId: 'citations-group',\n          type: 'other',\n          icon: 'images/sidebar-default-icon.svg',\n          showFilesList: false,\n          scrollPosition: '0'\n        }\n      ]\n    }\n  },\n\n  focusedLayoutSection: {\n    type: 'string',\n    default: 'navigation',\n  },\n\n  selectedFileId: {\n    type: 'string',\n    default: '',\n  },\n\n  showFilesList: {\n    type: 'boolean',\n    default: true\n  },\n\n  rootFolderId: {\n    type: 'string',\n    default: ''\n  },\n\n  projectPath: {\n    descrition: 'User specified path to folder containing their project files',\n    type: 'string',\n    default: ''\n  },\n\n  projectCitations: {\n    descrition: 'User specified path to CSL-JSON file containing their citatons',\n    type: 'string',\n    default: ''\n  },\n\n  contents: { type: 'array', default: [] },\n\n\n  // hierarchy: {\n  //   description: 'Snapshot of hierarchy of project directory: files and directories. This is a recursive setup: directories can contain directories. Per: https://json-schema.org/understanding-json-schema/structuring.html#id1. Note: `id` can be anything, but it must be present, or our $refs will not work.',\n  //   $schema: 'http://json-schema.org/draft-07/schema#',\n  //   $id: 'anything-could-go-here',\n  //   definitions: {\n  //     'fileOrDirectory': {\n  //       type: 'object',\n  //       required: ['typeOf', 'name', 'path'],\n  //       properties: {\n  //         typeOf: { type: 'string', enum: ['File', 'Directory'] },\n  //         name: { type: 'string' },\n  //         path: { type: 'string' },\n  //         created: { type: 'string', format: 'date-time' },\n  //         modified: { type: 'string', format: 'date-time' },\n  //         children: {\n  //           type: 'array',\n  //           items: { $ref: '#/definitions/fileOrDirectory' }\n  //         }\n  //       }\n  //     }\n  //   },\n  //   type: 'array',\n  //   items: { $ref: '#/definitions/fileOrDirectory' },\n  //   default: []\n  // }\n}","/**\n * Check if contents contains item by type and id\n */\n// function contentContainsItemById(contents, type, id) {\n//   return contents.some((d) => d.type == type && d.id == id)\n// }\n\n// function getDirectoryById(contents, id) {\n//   return contents.find((d) => d.type == 'directory' && d.id == id)\n// }\n\n// function getFirstFileInDirectory(contents, directoryId) {\n//   const files = contents.filter((f) => f.type == 'file' && f.parentId == directoryId)\n//   return files[0]\n// }\n\nfunction getRootFolder(contents) {\n  return contents.find((d) => d.type == 'folder' && d.isRoot)\n}\n\nfunction getSideBarItem(sideBarItems, id) {\n  return sideBarItems.find((i) => i.id == id)\n}\n\n\n\n\n\n\n\n\nfunction updateSideBarItems(newState) {\n\n  const rootFolder = getRootFolder(newState.contents)\n\n  // Update `filesFilter` type items. \n  // Specifically, their lookInFolder values, to point to correct `contents` id.\n  newState.sideBar.items.forEach((i) => {\n    if (i.type == 'filesFilter') {\n      i.filesSearchParams.lookInFolderId = rootFolder.id\n    }\n  })\n\n  // Update root folder item values. This item holds the project file hierarchy, in the UI.\n  const rootFolderItem = newState.sideBar.items.find((i) => i.type == 'filesFolder' && i.isRoot)\n  rootFolderItem.label = rootFolder.name\n  rootFolderItem.id = rootFolder.id\n  rootFolderItem.filesSearchParams.lookInFolderId = rootFolder.id\n\n  // Remove existing child folder items.\n  newState.sideBar.items = newState.sideBar.items.filter((i) => i.isRoot || i.type !== 'filesFolder')\n\n  // Add child folder items.\n  // For each, set parent item as root folder item, and push into items array.\n  if (rootFolder.childFolderCount > 0) {\n    createAndInsertChildFolderItems(rootFolder)\n  }\n\n  function createAndInsertChildFolderItems(folder) {\n\n    // For the given folder in contents, find it's children,\n    // create a new sideBar item for each, and recursively do \n    // the same for their children, in turn\n\n    newState.contents.map((c) => {\n      if (c.type == 'folder' && c.parentId == folder.id) {\n\n        const childFolderItem = {\n          label: c.name,\n          id: c.id,\n          parentId: folder.id,\n          type: 'filesFolder',\n          isRoot: false,\n          icon: 'images/folder.svg',\n          showFilesList: true,\n          filesSearchParams: {\n            lookInFolderId: c.id,\n            includeChildren: false\n          },\n          selectedFileId: ''\n        }\n\n        newState.sideBar.items.push(childFolderItem)\n\n        // Recursive loop\n        if (c.childFolderCount > 0) {\n          createAndInsertChildFolderItems(c)\n        }\n      }\n    })\n  }\n}\n\n\n\n\n\n\n/**\n * `state = {}` gives us a default, for possible first run empty '' value.\n */\nfunction reducers(state = {}, action) {\n\n  const newState = Object.assign({}, state)\n\n  // newState.lastAction = action.type\n  newState.changed = [] // Reset on every action \n\n  switch (action.type) {\n\n    case 'SET_LAYOUT_FOCUS': {\n      newState.focusedLayoutSection = action.section\n      newState.changed.push('focusedLayoutSection')\n      break\n    }\n\n    case 'TOGGLE_SIDEBAR_ITEM_EXPANDED': {\n      const sideBarItem = getSideBarItem(newState.sideBar.items, action.id)\n      sideBarItem.expanded = !sideBarItem.expanded\n      newState.changed.push('sideBar item expanded')\n      break\n    }\n\n    case 'SET_PROJECT_PATH': {\n      newState.projectPath = action.path\n      newState.changed.push('projectPath')\n      break\n    }\n\n    case 'MAP_HIERARCHY': {\n      newState.contents = action.contents\n\n      // Set `rootDirId`\n      const rootFolder = getRootFolder(newState.contents)\n      newState.rootFolderId = rootFolder.id\n\n      updateSideBarItems(newState)\n\n      newState.changed.push('sideBar', 'contents')\n      break\n    }\n\n    case 'SELECT_SIDEBAR_ITEM': {\n      \n      const sideBarItem = getSideBarItem(newState.sideBar.items, action.id)\n      \n      // Update FileList visibility\n      newState.showFilesList = sideBarItem.showFilesList\n      newState.changed.push('showFilesList')\n      \n      // Update selected SideBar item\n      newState.sideBar.selectedItemId = action.id\n      newState.changed.push('sideBar.selectedItemId')\n\n      // Update selected file\n      newState.selectedFileId = sideBarItem.selectedFileId\n      newState.changed.push('selectedFileId')\n      \n      break\n    }\n\n    // This is set on the _outgoing_ item, when the user is switching SideBar items.\n    // \n    case 'SAVE_SIDEBAR_SCROLL_POSITION': {\n      const sideBarItem = getSideBarItem(newState.sideBar.items, action.sideBarItemId)\n      sideBarItem.scrollPosition = action.scrollposition\n      newState.changed.push('sideBar scrollposition')\n      break\n    }\n\n    case 'SELECT_FILE': {\n\n      // Update the `selectedItemId` value of the active sideBar item\n      const sideBarItem = getSideBarItem(newState.sideBar.items, newState.sideBar.selectedItemId)\n\n      if (sideBarItem.type == 'filesFolder' || sideBarItem.type == 'filesFilter') {\n        sideBarItem.selectedFileId = action.fileId\n      }\n\n      // Update the `selectedFileId`\n      newState.selectedFileId = action.fileId\n\n      newState.changed.push('selectedFileId')\n\n      break\n    }\n\n    case 'SET_STARTUP_TIME': {\n      newState.appStartupTime = action.time\n      newState.changed.push('appStartupTime')\n      break\n    }\n\n    case 'RESET_HIERARCHY': {\n      newState.contents = []\n      newState.changed.push('contents')\n      break\n    }\n  }\n\n  return newState\n}\n\nexport default reducers","import Store from 'electron-store'\nimport { StoreSchema } from './store-schema'\nimport reducers from './reducers'\n\nimport colors from 'colors'\nimport deepEql from 'deep-eql'\nimport { updatedDiff, detailedDiff } from 'deep-object-diff'\n\nclass GambierStore extends Store {\n  constructor() {\n    // Note: `super` lets us access and call functions on object's parent (MDN)\n    // We pass in our config options for electron-store\n    // Per: https://github.com/sindresorhus/electron-store#options\n    super({\n      name: \"store\",\n      schema: StoreSchema\n    })\n  }\n\n  getCurrentState() {\n    return this.store\n  }\n\n  dispatch(action) {\n\n    // Optional: Log the changes (useful for debug)\n    this.logTheAction(action)\n    \n    // Get next state\n    const nextState = reducers(this.getCurrentState(), action)\n\n    // Optional: Log the diff (useful for debug)\n    this.logTheDiff(this.getCurrentState(), nextState)\n\n    // Set the next state\n    this.set(nextState)\n  }\n\n  logTheAction(action) {\n    console.log(\n      `Action:`.bgBrightGreen.black,\n      `${action.type}`.bgBrightGreen.black.bold,\n      `(GambierStore.js)`.green\n    )\n  }\n\n  logTheDiff(currentState, nextState) {\n    const hasChanged = !deepEql(currentState, nextState)\n    if (hasChanged) {\n      // const diff = detailedDiff(currentState, nextState)\n      // console.log(diff)\n      console.log(`Changed: ${nextState.changed}`.yellow)\n    } else {\n      console.log('No changes'.yellow)\n    }\n  }\n}\n\nexport { GambierStore }","import { pathExists } from 'fs-extra'\nimport diff from 'deep-diff'\n\nasync function isWorkingPath(pth) {\n\n  if (pth == '') {\n    return false\n  } else {\n    if (await pathExists(pth)) {\n      return true\n    } else {\n      return false\n    }\n  }\n}\n\nfunction applyDiffs(oldContents, newContents) {\n\n  diff.observableDiff(oldContents, newContents, (d) => {\n    console.log(d)\n    // Apply all changes except to the name property...\n    // if (d.path[d.path.length - 1] !== 'name') {\n    // }\n    diff.applyChange(oldContents, newContents, d);\n  })\n\n  return oldContents\n}\n\nexport { applyDiffs, isWorkingPath }","import { readdir, readFile, stat } from 'fs-extra'\nimport chokidar from 'chokidar'\nimport path from 'path'\nimport matter from 'gray-matter'\nimport removeMd from 'remove-markdown'\nimport { applyDiffs, isWorkingPath } from './utils-mainProcess'\nimport diff from 'deep-diff'\n\n/**\n * Map projectPath and save as a flattened hierarchy `contents` property of store (array).\n */\nclass GambierContents {\n\n  constructor(store) {\n    this.store = store\n    this.projectPath = store.store.projectPath\n    this.watcher = undefined\n\n    // Setup change listener for store\n    this.store.onDidAnyChange((newState, oldState) => {\n      // console.log(newState)\n      if (newState.changed.includes('projectPath')) {\n        this.projectPath = newState.projectPath\n        this.mapProjectPath()\n        this.startWatching()\n      }\n    })\n\n    // Map project path and start watching\n    this.mapProjectPath()\n    this.startWatching()\n  }\n\n\n  async startWatching() {\n    if (this.projectPath == '') return\n\n    // Close existing watcher.\n    // This will only be called if projectPath has changed.\n    if (this.watcher !== undefined) {\n      await this.watcher.close()\n    }\n\n    this.watcher = chokidar.watch(this.projectPath, {\n      ignored: /(^|[\\/\\\\])\\../, // Ignore dotfiles\n      ignoreInitial: true,\n      persistent: true,\n      awaitWriteFinish: {\n        stabilityThreshold: 400,\n        pollInterval: 200\n      }\n    })\n\n    this.watcher.on('all', (event, path) => {\n      console.log(event)\n      console.log(path)\n      this.mapProjectPath()\n    })\n  }\n\n  /**\n   * Check if path is valid. \n   * If true, map folder, update store, and add watcher.\n   * Else, tell store to `RESET_HIERARCHY` (clears to `[]`)\n   */\n  async mapProjectPath() {\n    if (this.projectPath == '') return\n\n    if (await isWorkingPath(this.projectPath)) {\n      let contents = await this.mapFolderRecursively(this.projectPath)\n      contents = await this.getFilesDetails(contents)\n      contents = this.applyDiffs(this.store.store.contents, contents)\n      this.store.dispatch({ type: 'MAP_HIERARCHY', contents: contents })\n    } else {\n      this.store.dispatch({ type: 'RESET_HIERARCHY' })\n    }\n  }\n\n  applyDiffs(oldContents, newContents) {\n\n    diff.observableDiff(oldContents, newContents, (d) => {\n      // Apply all changes except to the name property...\n      if (d.path !== undefined) {\n        if (d.path[d.path.length - 1] !== 'selectedFileId') {\n          diff.applyChange(oldContents, newContents, d);\n        }\n      } else {\n        diff.applyChange(oldContents, newContents, d);\n      }\n    })\n\n    return oldContents\n  }\n\n  /**\n   * Populate this.contents with flat array of folder contents. One object for each folder and file found. Works recursively.\n   * @param {*} folderPath - folder to look inside.\n   * @param {*} parentObj - If passed in, we 1) get parent id, and 2) increment its folder counter. Is left undefined (default) for the top-level folder.\n   */\n  async mapFolderRecursively(folderPath, parentId = undefined) {\n\n    let arrayOfContents = []\n\n    let contents = await readdir(folderPath, { withFileTypes: true })\n\n    // Filter contents to (not-empty) directories, and markdown files.\n    contents = contents.filter((c) => c.isDirectory() || c.name.includes('.md'))\n\n    // If the folder has no children we care about (.md files or directories), \n    // we return an empty array.\n    if (contents.length == 0) {\n      return arrayOfContents\n    }\n\n    // Get stats for folder\n    const stats = await stat(folderPath)\n\n    // Create object for folder\n    const thisDir = {\n      type: 'folder',\n      id: `folder-${stats.ino}`,\n      name: folderPath.substring(folderPath.lastIndexOf('/') + 1),\n      path: folderPath,\n      modified: stats.mtime.toISOString(),\n      childFileCount: 0,\n      childFolderCount: 0,\n      selectedFileId: 0,\n      isRoot: false,\n    }\n\n    // If parentId was passed, set `thisDir.parentId` to it\n    // Else this folder is the root, so set `isRoot: true`\n    if (parentId !== undefined) {\n      thisDir.parentId = parentId\n    } else {\n      thisDir.isRoot = true\n    }\n\n    for (let c of contents) {\n\n      // Get path\n      const cPath = path.join(folderPath, c.name)\n\n      if (c.isFile()) {\n        // Increment file counter\n        thisDir.childFileCount++\n\n        // Push new file object\n        arrayOfContents.push({\n          type: 'file',\n          name: c.name,\n          path: cPath,\n          parentId: thisDir.id\n        })\n      } else if (c.isDirectory()) {\n\n        // Get child folder contents\n        // If not empty, increment counter and push to arrayOfContents\n        const childFolderContents = await this.mapFolderRecursively(cPath, thisDir.id)\n        if (childFolderContents.length !== 0) {\n          thisDir.childFolderCount++\n          arrayOfContents = arrayOfContents.concat(childFolderContents)\n        }\n      }\n    }\n\n    // Finally, if it is not empty, push thisDir to `arrayOfContents`\n    if (arrayOfContents.length !== 0) {\n      arrayOfContents.push(thisDir)\n    }\n\n    return arrayOfContents\n  }\n\n  /**\n   * Go through each file in `this.contents` and add details loaded from stats (e.g. created) and gray-matter (e.g. excerpt, tags, title). We use Promise.all() to run this in parallel, so we're processing files in a batch, instead of sequentially one-by-one.\n   */\n  async getFilesDetails(contents) {\n\n    await Promise.all(\n      contents.map(async (f) => {\n\n        // Ignore directories\n        if (f.type == 'file') {\n\n          // Return a promise ()\n          return readFile(f.path, 'utf8').then(async str => {\n\n            // Get stats\n            const stats = await stat(f.path)\n\n            // Get front matter\n            const md = matter(str, { excerpt: extractExcerpt })\n\n            // Set fields from stats\n            f.id = `file-${stats.ino}`,\n              f.modified = stats.mtime.toISOString()\n            f.created = stats.birthtime.toISOString()\n            f.excerpt = md.excerpt\n\n            // Set fields from front matter (if it exists)\n            // gray-matter `isEmpty` property returns \"true if front-matter is empty\".\n            if (!f.isEmpty) {\n\n              // If `tags` exists in front matter, use it. Else, set as empty `[]`.\n              f.tags = md.data.hasOwnProperty('tags') ? md.data.tags : []\n\n              // If title exists in front matter, use it. Else, use name, minus extension.\n              if (md.data.hasOwnProperty('title')) {\n                f.title = md.data.title\n              } else {\n                f.title = f.name.slice(0, f.name.lastIndexOf('.'))\n              }\n            }\n          })\n        }\n      })\n    )\n    // console.log(contents)\n    return contents\n  }\n}\n\nfunction extractExcerpt(file) {\n\n  // gray-matter passes extract function the file.\n  // file.contents give us the input string, with front matter stripped.\n\n  // Remove h1, if it exists. Then trim to 200 characters.\n  let excerpt = file.content\n    .replace(/^# (.*)\\n/gm, '')\n    .substring(0, 400)\n\n  // Remove markdown formatting. Start with remove-markdown rules.\n  // Per: https://github.com/stiang/remove-markdown/blob/master/index.js\n  // Then add whatever additional changes I want (e.g. new lines).\n  excerpt = removeMd(excerpt)\n    .replace(/^> /gm, '')         // Block quotes\n    .replace(/^\\n/gm, '')         // New lines at start of line (usually doc)\n    .replace(/\\n/gm, ' ')         // New lines in-line (replace with spaces)\n    .replace(/\\t/gm, ' ')         // Artifact left from list replacement\n    .replace(/\\[@.*?\\]/gm, '')    // Citations\n    .replace(/:::.*?:::/gm, ' ')  // Bracketed spans\n    .replace(/\\s{2,}/gm, ' ')     // Extra spaces\n    .substring(0, 200)            // Trim to 200 characters\n\n  file.excerpt = excerpt\n}\n\nexport { GambierContents }","import { Menu } from 'electron'\nimport electron from 'electron'\n\nconst app = electron.app\n\nconst template = [\n  {\n    label: 'Edit',\n    submenu: [\n      {\n        role: 'undo'\n      },\n      {\n        role: 'redo'\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'cut'\n      },\n      {\n        role: 'copy'\n      },\n      {\n        role: 'paste'\n      },\n      // {\n      //   role: 'pasteandmatchstyle'\n      // },\n      {\n        role: 'delete'\n      },\n      {\n        role: 'selectall'\n      }\n    ]\n  },\n  {\n    label: 'View',\n    submenu: [\n      {\n        label: 'Reload',\n        accelerator: 'CmdOrCtrl+R',\n        click(item, focusedWindow) {\n          if (focusedWindow) focusedWindow.reload()\n        }\n      },\n      {\n        label: 'Toggle Developer Tools',\n        accelerator: process.platform === 'darwin' ? 'Alt+Command+I' : 'Ctrl+Shift+I',\n        click(item, focusedWindow) {\n          if (focusedWindow) focusedWindow.webContents.toggleDevTools()\n        }\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'resetzoom'\n      },\n      {\n        role: 'zoomin'\n      },\n      {\n        role: 'zoomout'\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'togglefullscreen'\n      }\n    ]\n  },\n  {\n    role: 'window',\n    submenu: [\n      {\n        role: 'minimize'\n      },\n      {\n        role: 'close'\n      }\n    ]\n  },\n  {\n    role: 'help',\n    submenu: [\n      {\n        label: 'Learn More',\n        click() { require('electron').shell.openExternal('http://electron.atom.io') }\n      }\n    ]\n  }\n]\n\nif (process.platform === 'darwin') {\n  const name = app.name\n  template.unshift({\n    label: name,\n    submenu: [\n      {\n        role: 'about'\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'services',\n        submenu: []\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'hide'\n      },\n      {\n        role: 'hideothers'\n      },\n      {\n        role: 'unhide'\n      },\n      {\n        type: 'separator'\n      },\n      {\n        role: 'quit'\n      }\n    ]\n  })\n  // Edit menu.\n  template[1].submenu.push(\n    {\n      type: 'separator'\n    },\n    {\n      label: 'Speech',\n      submenu: [\n        {\n          role: 'startspeaking'\n        },\n        {\n          role: 'stopspeaking'\n        }\n      ]\n    }\n  )\n  // Window menu.\n  template[3].submenu = [\n    {\n      label: 'Close',\n      accelerator: 'CmdOrCtrl+W',\n      role: 'close'\n    },\n    {\n      label: 'Minimize',\n      accelerator: 'CmdOrCtrl+M',\n      role: 'minimize'\n    },\n    {\n      label: 'Zoom',\n      role: 'zoom'\n    },\n    {\n      type: 'separator'\n    },\n    {\n      label: 'Bring All to Front',\n      role: 'front'\n    }\n  ]\n}\n\nexport function create() {\n  const menu = Menu.buildFromTemplate(template)\n  Menu.setApplicationMenu(menu)\n}\n","// External dependencies\nimport { app, BrowserWindow, clipboard, dialog, ipcMain } from 'electron'\nimport path from 'path'\nimport electronLocalshortcut from 'electron-localshortcut'\nimport { readdir, readFile, pathExists, stat, writeFile } from 'fs-extra'\n\n// Bundled dependencies\nimport { GambierStore } from './js/GambierStore'\nimport { GambierContents } from './js/GambierContents'\n// import { projectCitations } from './js/projectCitations'\nimport * as mainMenu from './js/mainMenu'\n\n// Dev only\nimport colors from 'colors'\n\n// -------- Variables -------- //\n\n// Keep a global reference of the window object, if you don't, the window will be closed automatically when the JavaScript object is garbage collected.\nlet win = undefined\nlet store = undefined\nlet contents = undefined\n\n// -------- Process variables -------- //\n\nprocess.env.ELECTRON_DISABLE_SECURITY_WARNINGS = true\n\n// -------- Reload -------- //\n\n// Not sure how this works with our packaged build. Want it for dev, but not distribution.\nconst watchAndReload = [\n  path.join(__dirname, '**/*.js'),\n  path.join(__dirname, '**/*.html'),\n  path.join(__dirname, '**/*.css'),\n  path.join(__dirname, '**/*.xml')\n  // 'main.js',\n  // '**/*.js',\n  // '**/*.html',\n  // '**/*.css',\n  // '**/*.xml',\n  // '**/*.png',\n  // '**/*.jpg',\n]\n\nrequire('electron-reload')(watchAndReload, {\n  // awaitWriteFinish: {\n  //   stabilityThreshold: 10,\n  //   pollInterval: 50\n  // },\n  electron: path.join(__dirname, '../node_modules', '.bin', 'electron'),\n  // argv: ['--inspect=5858'],\n})\n\n// -------- Setup -------- //\n\nconsole.log(`Setup`.bgYellow.black, `(Main.js)`.yellow)\n\nstore = new GambierStore()\ncontents = new GambierContents(store)\n// projectPath.setup(store)\n// projectCitations.setup(store)\n\n// -------- Create window -------- //\n\nfunction createWindow() {\n\n  console.log(`Create window`.bgBrightBlue.black, `(Main.js)`.brightBlue)\n\n  win = new BrowserWindow({\n    show: true,\n    width: 1600,\n    height: 900,\n    vibrancy: 'sidebar',\n    webPreferences: {\n      scrollBounce: false,\n      // Security\n      allowRunningInsecureContent: false,\n      contextIsolation: true,\n      enableRemoteModule: false,\n      nativeWindowOpen: false,\n      nodeIntegration: false,\n      nodeIntegrationInWorker: false,\n      nodeIntegrationInSubFrames: false,\n      safeDialogs: true,\n      sandbox: true,\n      webSecurity: true,\n      webviewTag: false,\n      // Preload\n      preload: path.join(__dirname, 'js/preload.js')\n    }\n  })\n\n  // Open DevTools\n  win.webContents.openDevTools();\n\n  // Load index.html\n  win.loadFile(path.join(__dirname, 'index.html'))\n\n  // OS menus\n  mainMenu.create()\n\n  // Keyboard shortcuts\n  electronLocalshortcut.register(win, 'Cmd+S', () => {\n    win.webContents.send('keyboardShortcut', 'Cmd+S')\n  });\n\n  // Send state to render process once dom is ready\n  win.once('ready-to-show', () => {\n    console.log(`ready-to-show`.bgBrightBlue.black, `(Main.js)`.brightBlue)\n  })\n\n  // -------- TEMP DEVELOPMENT STUFF -------- //\n  // store.clear()\n  // store.reset()\n  // This triggers a change event, which subscribers then receive\n  // store.dispatch({ type: 'SET_STARTUP_TIME', time: new Date().toISOString() })\n\n  // setTimeout(() => {\n  //   store.dispatch({type: 'SET_PROJECT_PATH', path: '/Users/josh/Documents/Climate\\ research/GitHub/climate-research/src/Empty'})\n  // }, 1000)\n\n  // setTimeout(() => {\n  //   store.dispatch({type: 'SET_PROJECT_PATH', path: '/Users/josh/Documents/Climate\\ research/GitHub/climate-research/src'})\n  // }, 1000)\n\n  // setTimeout(() => {\n  //   store.dispatch({type: 'SET_PROJECT_PATH', path: '/Users/arasd'})\n  // }, 4000)\n\n  // setTimeout(() => {\n  //   store.dispatch({type: 'SET_PROJECT_PATH', path: '/Users/josh/Documents/Climate\\ research/GitHub/climate-research/src/Notes'})\n  // }, 6000)\n}\n\n\n// -------- Kickoff -------- //\n\n// Set this to shut up console warnings re: deprecated default \n// If not set, it defaults to `false`, and console then warns us it will default `true` as of Electron 9.\n// Per: https://github.com/electron/electron/issues/18397\napp.allowRendererProcessReuse = true\n\napp.whenReady().then(createWindow)\n\n\n// -------- Store -------- //\n\nstore.onDidAnyChange((newState, oldState) => {\n  win.webContents.send('stateChanged', newState, oldState)\n})\n\n\n// -------- IPC: Send/Receive -------- //\n\nipcMain.on('saveFile', async (event, filePath, fileContents) => {\n  console.log(filePath)\n  console.log(fileContents)\n  await writeFile(filePath, fileContents, 'utf8')\n})\n\nipcMain.on('showWindow', (event) => {\n  win.show()\n})\n\nipcMain.on('hideWindow', (event) => {\n  win.hide()\n})\n\nipcMain.on('selectProjectPath', async (event) => {\n  const selection = await dialog.showOpenDialog(win, {\n    title: 'Select Project Folder',\n    properties: ['openDirectory', 'createDirectory']\n  })\n  if (!selection.canceled) {\n    store.dispatch({ type: 'SET_PROJECT_PATH', path: selection.filePaths[0] })\n  }\n})\n\nipcMain.on('dispatch', (event, action) => {\n  store.dispatch(action)\n})\n\n\n// -------- IPC: Invoke -------- //\n\nipcMain.handle('ifPathExists', async (event, filepath) => {\n  const exists = await pathExists(filepath)\n  return { path: filepath, exists: exists }\n})\n\nipcMain.handle('getState', async (event) => {\n  return store.store\n})\n\nipcMain.handle('getCitations', (event) => {\n  return projectCitations.getCitations()\n})\n\nipcMain.handle('getFileById', async (event, id, encoding) => {\n\n  // Get path of file with matching id\n  const filePath = store.store.contents.find((f) => f.id == id).path\n\n  // Load file and return\n  let file = await readFile(filePath, encoding)\n  return file\n})\n\nipcMain.handle('pathJoin', async (event, path1, path2) => {\n  return path.join(path1, path2)\n})\n\nipcMain.handle('getHTMLFromClipboard', (event) => {\n  return clipboard.readHTML()\n})\n\nipcMain.handle('getFormatOfClipboard', (event) => {\n  return clipboard.availableFormats()\n})"],"names":["pathExists","readdir","stat","readFile","electron","Menu","BrowserWindow","mainMenu.create","app","ipcMain","writeFile","dialog","clipboard"],"mappings":"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"}