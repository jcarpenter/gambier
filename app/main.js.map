{"version":3,"file":"main.js","sources":["../src/js/main/store-schema.js","../src/js/main/sideBar/mapSideBarItems.js","../src/js/main/reducers.js","../src/js/main/GambierStore.js","../src/js/main/menuBar.js","../src/js/main/actions/deleteFile.js","../src/js/main/actions/deleteFiles.js","../src/js/main/contents/mapFolder.js","../src/js/main/utils-main.js","../src/js/main/contents/watcher.js","../src/js/main/contents/Document.js","../src/js/main/contents/Folder.js","../src/js/main/contents/Media.js","../src/js/main/contents/mapDocument.js","../src/js/main/contents/mapMedia.js","../src/js/main/contents/mapProject.js","../src/js/main/contents/supportedMediaFormats.js","../src/js/main/contents/getFileMetadata.js","../src/js/main/actions/saveFile.js","../src/js/main/actions/setProjectPath.js","../src/js/main/main.js"],"sourcesContent":["export const StoreSchema = {\n\n  changed: { type: 'array', default: [] },\n\n  focusedLayoutSection: {\n    type: 'string',\n    default: 'navigation',\n  },\n\n  openDoc: {\n    type: 'object',\n    default: {}\n  },\n\n  selectedSideBarItemId: {\n    type: 'string',\n    default: '',\n  },\n\n  showFilesList: {\n    type: 'boolean',\n    default: true\n  },\n\n  projectPath: {\n    descrition: 'User specified path to folder containing their project files',\n    type: 'string',\n    default: ''\n  },\n\n  projectCitations: {\n    descrition: 'User specified path to CSL-JSON file containing their citatons',\n    type: 'string',\n    default: ''\n  },\n\n  sideBar: {\n    type: 'object',\n    properties: {\n      show: { type: 'boolean', default: true },\n      items: {\n        type: 'array', \n        default: [\n          \n          // -------- Folders -------- //\n          {\n            label: 'Folders',\n            id: 'folders-group',\n            type: 'group'\n          },\n          {\n            label: '',\n            id: '',\n            isRoot: true,\n            parentId: 'folders-group',\n            type: 'folder',\n            icon: 'images/folder.svg',\n            showFilesList: true,\n            searchParams: {\n              lookInFolderId: 'root',\n              includeChildren: false,\n              filterDateModified: false,\n            },\n            selectedFileId: '',\n            lastScrollPosition: 0,\n            lastSelection: [],\n            expanded: true\n          },\n\n          // -------- Documents -------- //\n          {\n            label: 'Documents',\n            id: 'docs-group',\n            type: 'group'\n          },\n          {\n            label: 'All',\n            id: 'all',\n            parentId: 'docs-group',\n            type: 'filter',\n            icon: 'images/sidebar-default-icon.svg',\n            showFilesList: true,\n            searchParams: {\n              lookInFolderId: 'root',\n              includeChildren: true,\n            },\n            selectedFileId: '',\n            lastScrollPosition: 0,\n            lastSelection: [],\n          },\n          {\n            label: 'Favorites',\n            id: 'favorites',\n            parentId: 'docs-group',\n            type: 'filter',\n            icon: 'images/sidebar-default-icon.svg',\n            showFilesList: true,\n            searchParams: {\n              lookInFolderId: 'root',\n              includeChildren: true,\n              tags: ['favorite']\n            },\n            selectedFileId: '',\n            lastScrollPosition: 0,\n            lastSelection: [],\n          },\n          {\n            label: 'Most Recent',\n            id: 'most-recent',\n            parentId: 'docs-group',\n            type: 'filter',\n            icon: 'images/sidebar-default-icon.svg',\n            showFilesList: true,\n            searchParams: {\n              lookInFolderId: 'root',\n              includeChildren: true,\n              filterDateModified: true,\n              fromDateModified: 'today',\n              toDateModified: '7-days-ago'\n            },\n            selectedFileId: '',\n            lastScrollPosition: 0,\n            lastSelection: [],\n          },\n\n          // -------- Media -------- //\n          {\n            label: 'Media',\n            id: 'media-group',\n            type: 'group'\n          },\n          {\n            label: 'Media',\n            id: 'media-all',\n            parentId: 'media-group',\n            type: 'other',\n            icon: 'images/sidebar-default-icon.svg',\n            showFilesList: false,\n            lastScrollPosition: 0,\n            lastSelection: [],\n          },\n\n          // -------- Citations -------- //\n          {\n            label: 'Citations',\n            id: 'citations-group',\n            type: 'group'\n          },\n          {\n            label: 'Citations',\n            id: 'citations',\n            parentId: 'citations-group',\n            type: 'other',\n            icon: 'images/sidebar-default-icon.svg',\n            showFilesList: false,\n            lastScrollPosition: 0,\n            lastSelection: [],\n          }\n        ]\n      },\n    },\n    default: {}\n  },\n\n  folders: { \n    type: 'array', \n    default: [] \n  },\n\n  documents: { \n    type: 'array', \n    default: [] \n  },\n\n  media: { \n    type: 'array', \n    default: [] \n  },\n\n  // contents: { \n  //   type: 'array', \n  //   default: [] \n  // },\n\n  // TODO: For `searchInElement`, add enum of possible elements, matching CodeMirror mode assignments.\n  // filesSearchCriteria: {\n  //   type: 'object',\n  //   properties: {\n  //     lookInFolderId: { type: 'string', default: '' },\n  //     includeChildren: { type: 'boolean', default: false },\n  //     searchFor: { type: 'string', default: '*' },\n  //     searchInElement: { type: 'string', default: '*' },\n  //     matchWholeWord: { type: 'boolean', default: false },\n  //     matchCase: { type: 'boolean', default: false },\n  //     filterDateModified: { type: 'boolean', default: false },\n  //     fromDateModified: { type: 'string', format: 'date-time' },\n  //     toDateModified: { type: 'string', format: 'date-time' },\n  //     filterDateCreated: { type: 'boolean', default: false },\n  //     fromDateCreated: { type: 'string', format: 'date-time' },\n  //     toDateCreated: { type: 'string', format: 'date-time' },\n  //     tags: { type: 'array', default: [] }\n  //   },\n  //   default: {\n  //     lookInFolderId: '',\n  //     includeChildren: false,\n  //     searchFor: '',\n  //     searchInElement: '*',\n  //     matchWholeWord: false,\n  //     matchCase: false,\n  //     filterDateModified: false,\n  //     filterDateCreated: false,\n  //     tags: []\n  //   }\n  // },\n\n  // appStartupTime: {\n  //   type: 'string',\n  //   default: 'undefined'\n  // },\n\n  // hierarchy: {\n  //   description: 'Snapshot of hierarchy of project directory: files and directories. This is a recursive setup: directories can contain directories. Per: https://json-schema.org/understanding-json-schema/structuring.html#id1. Note: `id` can be anything, but it must be present, or our $refs will not work.',\n  //   $schema: 'http://json-schema.org/draft-07/schema#',\n  //   $id: 'anything-could-go-here',\n  //   definitions: {\n  //     'fileOrDirectory': {\n  //       type: 'object',\n  //       required: ['typeOf', 'name', 'path'],\n  //       properties: {\n  //         typeOf: { type: 'string', enum: ['File', 'Directory'] },\n  //         name: { type: 'string' },\n  //         path: { type: 'string' },\n  //         created: { type: 'string', format: 'date-time' },\n  //         modified: { type: 'string', format: 'date-time' },\n  //         children: {\n  //           type: 'array',\n  //           items: { $ref: '#/definitions/fileOrDirectory' }\n  //         }\n  //       }\n  //     }\n  //   },\n  //   type: 'array',\n  //   items: { $ref: '#/definitions/fileOrDirectory' },\n  //   default: []\n  // }\n}","import { Folder } from './Folder'\n\nlet newItems = {}\n\n/**\n * Filter items always operate on the top-level (root) folder.\n * Update their `lookInFolder` properties to point to root folder id.\n * @param {*} newItems \n */\nfunction updateFilters(newItems, rootFolderId) {\n  \n  return newItems.map((i) => {\n    if (i.type == 'filter') {\n      i.searchParams.lookInFolderId = rootFolderId\n    }\n    return i\n  })\n}\n\nfunction updateFolders(newItems) {\n\n  // Update `folder` type items:\n  // Update root folder item. This item holds the project file hierarchy, in the UI.\n  const rootFolderItem = newItems.find((i) => i.type == 'folder' && i.isRoot)\n  rootFolderItem.label = rootFolder.name\n  rootFolderItem.id = rootFolder.id\n  rootFolderItem.searchParams.lookInFolderId = rootFolder.id\n\n  // Remove existing child folder items.\n  // TODO: Diff (don't remove). We don't want to blow away user-settings:\n  // - selectedFileId\n  // - lastScrollPosition\n  // - lastSelection\n  // - expanded\n  newState.sideBar.items = newState.sideBar.items.filter((i) => i.isRoot || i.type !== 'folder')\n\n  // Add child folder items.\n  // For each, set parent item as root folder item, and push into items array.\n  if (rootFolder.childFolderCount > 0) {\n    createAndInsertChildFolderItems(rootFolder)\n  }\n\n}\n\n/**\n * For the specified folder in `folders`, find its children,\n * create a new sideBar item for each, and recursively do \n * the same for their children, in turn\n * @param {*} folder \n */\nfunction createAndInsertChildFolderItems(folder) {\n  newState.folders.map((c) => {\n    if (c.parentId == folder.id) {\n\n      const childFolder = Object.assign({}, Folder)\n\n      childFolder.type = 'folder'\n      childFolder.label = c.name\n      childFolder.id = c.id\n      childFolder.parentId = folder.id\n      childFolder.isRoot = false\n      childFolder.icon = 'images/folder.svg'\n      childFolder.showFilesList = true\n      childFolder.searchParams.lookInFolderId = c.id\n      childFolder.searchParams.includeChildren = false\n      childFolder.selectedFileId = ''\n      childFolder.lastScrollPosition = 0\n      childFolder.lastSelection = []\n\n      newState.sideBar.items.push(childFolder)\n\n      // Recursive loop\n      if (c.childFolderCount > 0) {\n        createAndInsertChildFolderItems(c)\n      }\n    }\n  })\n}\n\nexport function mapSideBarItems(newState) {\n\n  // Copy existing items\n  newItems = newState.sideBar.items\n\n  // Get root folder from `folders`. It's the one without a parentId\n  const rootFolder = newState.folders.find((f) => f.parentId == '')\n\n  // Update `filter` and `folder` items\n  newItems = updateFilters(newItems, rootFolder.id)\n  // updateFolders(newItems)\n\n  return newItems\n}\n\n\n\n","// import diff from 'deep-diff'\n// import colors from 'colors'\n// import { getFileMetadata, Folder } from './contents/index.js'\n// import { readFile, stat } from 'fs-extra'\n\nimport { mapSideBarItems } from './sideBar/mapSideBarItems'\n\n\n/**\n * Check if contents contains item by type and id\n */\n// function contentContainsItemById(contents, type, id) {\n//   return contents.some((d) => d.type == type && d.id == id)\n// }\n\n// function getDirectoryById(contents, id) {\n//   return contents.find((d) => d.type == 'directory' && d.id == id)\n// }\n\n// function getFirstFileInDirectory(contents, directoryId) {\n//   const files = contents.filter((f) => f.type == 'file' && f.parentId == directoryId)\n//   return files[0]\n// }\n\n// function getFile(contents, id) {\n//   return contents.find((c) => c.type == 'file' && c.id == id)\n// }\n\n// function getRootFolder(newState) {\n//   return newState.folders.find((f) => f.parentId == '')\n// }\n\n\n\nfunction getSideBarItem(sideBarItems, id) {\n  return sideBarItems.find((i) => i.id == id)\n}\n\n/**\n * Copy object of the selected file from `state.contents` into top-level `state.openDoc`\n * @param {*} newState \n * @param {*} id - Selected file `id`\n */\nfunction updateOpenFile(newState, selectedSideBarItem) {\n\n  const lastSelection = selectedSideBarItem.lastSelection\n  if (lastSelection.length == 1) {\n    console.log(lastSelection[0])\n    newState.openDoc = newState.contents.find((c) => c.type == 'file' && c.id == lastSelection[0].id)\n  } else {\n    newState.openDoc = {}\n  }\n}\n\n\n\n\n/**\n * `state = {}` gives us a default, for possible first run empty '' value.\n */\nasync function reducers(state = {}, action) {\n\n  const newState = Object.assign({}, state)\n\n  // newState.lastAction = action.type\n  newState.changed = [] // Reset on every action \n\n  switch (action.type) {\n\n\n    // -------- PROJECT PATH -------- //\n\n    case 'SET_PROJECTPATH_SUCCESS': {\n      newState.projectPath = action.path\n      newState.changed.push('projectPath')\n      break\n    }\n\n    case 'SET_PROJECTPATH_FAIL': {\n      // DO NOTHING\n      break\n    }\n\n\n    // -------- UI -------- //\n\n    case 'SET_LAYOUT_FOCUS': {\n      newState.focusedLayoutSection = action.section\n      newState.changed.push('focusedLayoutSection')\n      break\n    }\n\n\n    // -------- EDITOR -------- //\n\n    case 'LOAD_PATH_IN_EDITOR': {\n      newState.editingFileId = action.id\n      newState.changed.push('editingFileId')\n      break\n    }\n\n\n    // -------- CONTENTS -------- //\n\n    case 'MAP_PROJECT_CONTENTS': {\n      newState.folders = action.folders\n      newState.documents = action.documents\n      newState.media = action.media\n      newState.changed.push('folders', 'documents', 'media')\n      newState.sideBar.items = mapSideBarItems(newState)\n      newState.changed.push('sideBar')\n      break\n    }\n\n    case 'ADD_DOCUMENTS': {\n      newState.documents = newState.documents.concat(action.documents)\n      newState.changed.push('documents')\n      break\n    }\n\n    case 'ADD_MEDIA': {\n      newState.media = newState.media.concat(action.media)\n      newState.changed.push('media')\n      break\n    }\n\n    case 'UPDATE_DOCUMENTS': {\n      for (let updatedVersion of action.documents) {\n        // Get index of old version in `documents`\n        const index = newState.documents.findIndex((oldVersion) => oldVersion.id == updatedVersion.id)\n        // Confirm old version exists (index is not -1)\n        // And replace it with new version\n        if (index !== -1) {\n          newState.documents[index] = updatedVersion\n        }\n      }\n      newState.changed.push('documents')\n      break\n    }\n\n    case 'UPDATE_MEDIA': {\n      for (let updatedVersion of action.media) {\n        // Get index of old version in `media`\n        const index = newState.media.findIndex((oldVersion) => oldVersion.id == updatedVersion.id)\n        // Confirm old version exists (index is not -1)\n        // And replace it with new version\n        if (index !== -1) {\n          newState.media[index] = updatedVersion\n        }\n      }\n      newState.changed.push('media')\n      break\n    }\n\n    case 'REMOVE_DOCUMENTS': {\n      for (let p of action.documentPaths) {\n        const index = newState.documents.findIndex((d) => d.path == p)\n        if (index !== -1) {\n          newState.documents.splice(index, 1)\n        }\n      }\n      newState.changed.push('documents')\n      break\n    }\n\n    case 'REMOVE_MEDIA': {\n      for (let p of action.mediaPaths) {\n        const index = newState.media.findIndex((d) => d.path == p)\n        if (index !== -1) {\n          newState.media.splice(index, 1)\n        }\n      }\n      newState.changed.push('media')\n      break\n    }\n\n\n    // -------- SIDEBAR -------- //\n\n    case 'SELECT_SIDEBAR_ITEM': {\n\n      if (newState.selectedSideBarItemId == action.id) break\n\n      const sideBarItem = getSideBarItem(newState.sideBar.items, action.id)\n\n      // Update FileList visibility\n      if (newState.showFilesList !== sideBarItem.showFilesList) {\n        newState.showFilesList !== sideBarItem.showFilesList\n        newState.changed.push('showFilesList')\n      }\n\n      // Update selected SideBar item\n      newState.selectedSideBarItemId = action.id\n      newState.changed.push('selectedSideBarItemId')\n\n      // Update `openDoc`\n      if (sideBarItem.lastSelection.length > 0) {\n        updateOpenFile(newState, sideBarItem)\n        newState.changed.push('openDoc')\n      }\n\n      break\n    }\n\n    case 'TOGGLE_SIDEBAR_ITEM_EXPANDED': {\n      const sideBarItem = getSideBarItem(newState.sideBar.items, action.id)\n      sideBarItem.expanded = !sideBarItem.expanded\n      newState.changed.push('sideBar item expanded')\n      break\n    }\n\n    // This is set on the _outgoing_ item, when the user is switching SideBar items.\n    case 'SAVE_SIDEBAR_FILE_SELECTION': {\n      const sideBarItem = getSideBarItem(newState.sideBar.items, action.sideBarItemId)\n      sideBarItem.lastSelection = action.lastSelection\n      newState.changed.push('lastSelection')\n      if (sideBarItem.lastSelection.length > 0) {\n        updateOpenFile(newState, sideBarItem)\n        newState.changed.push('openDoc')\n      }\n      break\n    }\n\n    // This is set on the _outgoing_ item, when the user is switching SideBar items.\n    case 'SAVE_SIDEBAR_SCROLL_POSITION': {\n      const sideBarItem = getSideBarItem(newState.sideBar.items, action.sideBarItemId)\n      sideBarItem.lastScrollPosition = action.lastScrollPosition\n      newState.changed.push('sideBar lastScrollPosition')\n      break\n    }\n\n\n    // -------- FILE ACTIONS -------- //\n\n    // case 'SAVE_FILE_SUCCESS': {\n    //   console.log(`Reducers: SAVE_FILE_SUCCESS: ${action.path}`.green)\n    //   break\n    // }\n\n    // case 'SAVE_FILE_FAIL': {\n    //   console.log(`Reducers: SAVE_FILE_FAIL: ${action.path}`.red)\n    //   break\n    // }\n\n    // // Delete\n\n    // case 'DELETE_FILE_SUCCESS': {\n    //   console.log(`Reducers: DELETE_FILE_SUCCESS: ${action.path}`.green)\n    //   break\n    // }\n\n    // case 'DELETE_FILE_FAIL': {\n    //   console.log(`Reducers: DELETE_FILE_FAIL: ${action.err}`.red)\n    //   break\n    // }\n\n    // case 'DELETE_FILES_SUCCESS': {\n    //   console.log(`Reducers: DELETE_FILES_SUCCESS: ${action.paths}`.green)\n    //   break\n    // }\n\n    // case 'DELETE_FILES_FAIL': {\n    //   console.log(`Reducers: DELETE_FILES_FAIL: ${action.err}`.red)\n    //   break\n    // }\n\n\n\n\n\n\n\n\n\n\n\n\n    // ================ PRE-REFACTOR ================ //\n\n    // -------- CONTENTS -------- //\n\n    // case 'CONTENTS_CHANGED': {\n    //   newState.contents = action.contents\n    //   newState.changed.push('contents')\n    //   break\n    // }\n\n    // case 'HANDLE_CHANGE_FILE': {\n\n    //   // Load file and get metadata\n    //   const data = await readFile(action.path, 'utf8')\n    //   const metadata = await getFileMetadata(action.path, data)\n\n    //   // Apply changes to record in `contents`\n    //   const lhs = newState.contents.find((c) => c.id == metadata.id)\n    //   const rhs = metadata\n    //   diff.observableDiff(lhs, rhs, (d) => {\n    //     if (d.kind !== 'D') {\n    //       diff.applyChange(lhs, rhs, d)\n    //     }\n    //   })\n    //   newState.changed.push('contents')\n    //   break\n    // }\n\n    // case 'HANDLE_UNLINK_FILE': {\n\n    //   const index = newState.contents.findIndex((c) => c.type == 'file' && c.path == action.path)\n\n    //   // If the file existed in `contents`, remove it.\n    //   // Note: -1 from `findIndex` means it did NOT exist.\n    //   if (index !== -1) {\n    //     newState.contents.splice(index, 1)\n    //   }\n    //   newState.changed.push('contents')\n    //   break\n    // }\n\n    // case 'HANDLE_ADD_FILE': {\n\n    //   const data = await readFile(action.path, 'utf8')\n    //   const metadata = await getFileMetadata(action.path, data)\n\n\n    //   newState.changed.push('contents')\n    //   break\n    // }\n\n    // case 'HANDLE_ADD_DIR': {\n\n    //   const stats = await stat(action.path)\n\n    //   // Create new Folder and add to `contents`\n    //   const folder = new Folder()\n    //   folder.id = `folder-${stats.ino}`\n    //   folder.path = action.path\n    //   folder.name = action.path.substring(action.path.lastIndexOf('/') + 1)\n    //   folder.modified = stats.mtime.toISOString()\n    //   newState.contents.push(folder)\n    //   console.log(folder)\n\n    //   newState.changed.push('contents')\n    //   break\n    // }\n\n    // case 'HANDLE_UNLINK_DIR': {\n    //   console.log('HANDLE_UNLINK_DIR')\n    //   break\n    // }\n\n\n    // case 'MAP_CONTENTS': {\n\n    //   // Set new contents\n    //   newState.contents = action.contents\n    //   newState.changed.push('contents')\n\n    //   updateSideBarItems(newState)\n    //   newState.changed.push('sideBar')\n    //   break\n    // }\n\n    // case 'RESET_HIERARCHY': {\n    //   newState.contents = []\n    //   newState.changed.push('contents')\n    //   break\n    // }\n\n\n  }\n\n  return newState\n}\n\nexport default reducers","import Store from 'electron-store'\nimport { StoreSchema } from './store-schema'\nimport reducers from './reducers'\n\nimport colors from 'colors'\nimport deepEql from 'deep-eql'\n// import { updatedDiff, detailedDiff } from 'deep-object-diff'\n\nclass GambierStore extends Store {\n  constructor() {\n    // Note: `super` lets us access and call functions on object's parent (MDN)\n    // We pass in our config options for electron-store\n    // Per: https://github.com/sindresorhus/electron-store#options\n    super({\n      name: \"store\",\n      schema: StoreSchema\n    })\n  }\n\n  getCurrentState() {\n    return this.store\n  }\n\n  async dispatch(action) {\n\n    // Optional: Log the changes (useful for debug)\n    this.logTheAction(action)\n    \n    // Get next state\n    const nextState = await reducers(this.getCurrentState(), action)\n\n    // Optional: Log the diff (useful for debug)\n    this.logTheDiff(this.getCurrentState(), nextState)\n\n    // Set the next state\n    this.set(nextState)\n  }\n\n  logTheAction(action) {\n    console.log(\n      `Action:`.bgBrightGreen.black,\n      `${action.type}`.bgBrightGreen.black.bold,\n      `(GambierStore.js)`.green\n    )\n  }\n\n  logTheDiff(currentState, nextState) {\n    const hasChanged = !deepEql(currentState, nextState)\n    if (hasChanged) {\n      // const diff = detailedDiff(currentState, nextState)\n      // console.log(diff)\n      console.log(`Changed: ${nextState.changed}`.yellow)\n    } else {\n      console.log('No changes'.yellow)\n    }\n  }\n}\n\nexport { GambierStore }","import { Menu, MenuItem, app } from 'electron'\n\nlet store = {}\nlet state = {}\n\n/**\n * Note: App and File menus are macOS only. \n */\nfunction setup(gambierStore) {\n  \n  store = gambierStore\n  state = gambierStore.store\n\n  const menu = new Menu()\n\n  // -------- App -------- //\n  if (process.platform === 'darwin') {\n    const appMenu = new MenuItem(\n      {\n        label: app.name,\n        submenu: [\n          { role: 'about' },\n          { type: 'separator' },\n          { role: 'services', submenu: [] },\n          { type: 'separator' },\n          { role: 'hide' },\n          { role: 'hideothers' },\n          { role: 'unhide' },\n          { type: 'separator' },\n          { role: 'quit' }\n        ]\n      }\n    )\n\n    menu.append(appMenu)\n  }\n\n\n  // -------- File -------- //\n  if (process.platform === 'darwin') {\n\n    var save = new MenuItem({\n      label: 'Save',\n      accelerator: 'CmdOrCtrl+S',\n      async click(item, focusedWindow) {\n        focusedWindow.webContents.send('mainRequestsSaveFile')\n      }\n    })\n\n    var moveToTrash = new MenuItem({\n      label: 'Move to Trash',\n      accelerator: 'CmdOrCtrl+Backspace',\n      async click(item, focusedWindow) {\n        focusedWindow.webContents.send('mainRequestsDeleteFile')\n      }\n    })\n\n    const file = new MenuItem({\n      label: 'File',\n      submenu: [\n        save,\n        moveToTrash\n      ]\n    })\n\n    menu.append(file)\n  }\n\n\n  // -------- Edit -------- //\n\n  const edit = new MenuItem(\n    {\n      label: 'Edit',\n      submenu: [\n        { role: 'undo' },\n        { role: 'redo' },\n        { type: 'separator' },\n        { role: 'cut' },\n        { role: 'copy' },\n        { role: 'paste' },\n        { role: 'delete' },\n        { role: 'selectall' }\n      ]\n    }\n  )\n\n  // If macOS, add speech options to Edit menu\n  if (process.platform === 'darwin') {\n    edit.submenu.append(\n      new MenuItem(\n        { type: 'separator' }\n      ),\n      new MenuItem(\n        {\n          label: 'Speech',\n          submenu: [\n            { role: 'startspeaking' },\n            { role: 'stopspeaking' }\n          ]\n        }\n      ),\n    )\n  }\n\n  menu.append(edit)\n\n\n  // -------- View -------- //\n\n  const view = new MenuItem(\n    {\n      label: 'View',\n      submenu: [\n        {\n          label: 'Reload',\n          accelerator: 'CmdOrCtrl+R',\n          click(item, focusedWindow) {\n            if (focusedWindow) focusedWindow.reload()\n          }\n        },\n        {\n          label: 'Toggle Developer Tools',\n          accelerator: process.platform === 'darwin' ? 'Alt+Command+I' : 'Ctrl+Shift+I',\n          click(item, focusedWindow) {\n            if (focusedWindow) focusedWindow.webContents.toggleDevTools()\n          }\n        },\n        { type: 'separator' },\n        { role: 'resetzoom' },\n        { role: 'zoomin' },\n        { role: 'zoomout' },\n        { type: 'separator' },\n        { role: 'togglefullscreen' }\n      ]\n    }\n  )\n\n  menu.append(view)\n\n\n  // -------- Window -------- //\n\n  // Different menus for macOS vs others\n  if (process.platform === 'darwin') {\n\n    const window = new MenuItem(\n      {\n        role: 'window',\n        submenu: [\n          {\n            label: 'Close',\n            accelerator: 'CmdOrCtrl+W',\n            role: 'close'\n          },\n          {\n            label: 'Minimize',\n            accelerator: 'CmdOrCtrl+M',\n            role: 'minimize'\n          },\n          { label: 'Zoom', role: 'zoom' },\n          { type: 'separator' },\n          { label: 'Bring All to Front', role: 'front' }\n        ]\n      }\n    )\n\n    menu.append(window)\n\n  } else {\n\n    const window = new MenuItem(\n      {\n        role: 'window',\n        submenu: [\n          { role: 'minimize' },\n          { role: 'close' }\n        ]\n      }\n    )\n\n    menu.append(window)\n  }\n\n\n  // -------- Set initial values -------- //\n\n  moveToTrash.enabled = store.store.focusedLayoutSection == 'navigation'\n\n\n  // -------- Change listeners -------- //\n\n  store.onDidAnyChange((newState, oldState) => {\n    state = newState\n  })\n\n  store.onDidChange('focusedLayoutSection', () => {\n    if (store.store.focusedLayoutSection == 'navigation') {\n      moveToTrash.enabled = true\n    } else {\n      moveToTrash.enabled = false\n    }\n  })\n\n\n  // -------- Create menu -------- //\n\n  Menu.setApplicationMenu(menu)\n}\n\nexport { setup } ","import { remove } from 'fs-extra'\n\nexport default async function(path) {\n  try {\n\t\tawait remove(path)\n\t\treturn { type: 'DELETE_FILE_SUCCESS', path: path }\n\t} catch(err) {\n\t\treturn { type: 'DELETE_FILE_FAIL', err: err }\n\t}\n}","import { remove } from 'fs-extra'\n\nexport default async function(paths) {\n  try {\n    let deletedPaths = await Promise.all(\n      paths.map(async (path) => {\n        await remove(path)\n      })\n    )\n\t\treturn { type: 'DELETE_FILES_SUCCESS', paths: deletedPaths }\n\t} catch(err) {\n\t\treturn { type: 'DELETE_FILES_FAIL', err: err }\n\t}\n}","import { stat, readdir } from 'fs-extra'\nimport path from 'path'\nimport { mapDocument, mapFolder, mapMedia, Folder, imageFormats, avFormats } from './index.js'\nimport colors from 'colors'\n\n/**\n * For specified folder path, map the folder and it's child  \n * documents, media, and citations, and return `contents` object\n * with four arrays (one for each type).\n * @param {*} folderPath - Path to map\n * @param {*} stats - Optional. Can pass in stats, or if undefined, will get them in function.\n * @param {*} parentId - Optional. If undefined, we regard the folder as `root`\n * @param {*} recursive - Optional. If true, map descendant directories also.\n */\nexport default async function (folderPath, stats = undefined, parentId = '', recursive = false) {\n\n  // Stub out return object\n  let contents = {\n    folders: [],\n    documents: [],\n    media: [],\n  }\n\n  // -------- Folder -------- //\n\n  const folder = Object.assign({}, Folder)\n\n  if (stats == undefined) {\n    stats = await stat(folderPath)\n  }\n\n  folder.name = folderPath.substring(folderPath.lastIndexOf('/') + 1)\n  folder.path = folderPath\n  folder.id = `folder-${stats.ino}`\n  folder.parentId = parentId\n  folder.modified = stats.mtime.toISOString()\n\n  contents.folders.push(folder)\n\n\n  // -------- Contents -------- //\n\n  // Get everything in directory with `readdir`.\n  // Returns array of file name and file type pairs. If empty, return.\n  const everything = await readdir(folderPath, { withFileTypes: true })\n  // if (!everything.length > 0) return contents\n\n  await Promise.all(\n   everything.map(async (e) => {\n\n      // Get path by combining folderPath with file name.\n      const ePath = path.join(folderPath, e.name)\n      const ext = path.extname(e.name)\n      const stats = await stat(ePath)\n    \n      if (e.isDirectory() && recursive) {\n        const { folders, documents, media } = await mapFolder(ePath, stats, folder.id, true)\n        // Concat findings into respective `contents` arrays\n        contents.folders = contents.folders.concat(folders)\n        contents.documents = contents.documents.concat(documents)\n        contents.media = contents.media.concat(media)\n      } else if (ext == '.md') {\n        contents.documents.push(await mapDocument(ePath, stats, folder.id))\n      } else if (imageFormats.includes(ext) || avFormats.includes(ext)) {\n        contents.media.push(await mapMedia(ePath, stats, folder.id, ext))\n      }\n    })\n  )\n\n  return contents\n}","import { pathExists } from 'fs-extra'\nimport diff from 'deep-diff'\n\nasync function isWorkingPath(path) {\n\n  if (path == '') {\n    return false\n  } else {\n    if (await pathExists(path)) {\n      return true\n    } else {\n      return false\n    }\n  }\n}\n\nfunction applyDiffs(oldContents, newContents) {\n\n  diff.observableDiff(oldContents, newContents, (d) => {\n    console.log(d)\n    // Apply all changes except to the name property...\n    // if (d.path[d.path.length - 1] !== 'name') {\n    // }\n    diff.applyChange(oldContents, newContents, d);\n  })\n\n  return oldContents\n}\n\nexport { applyDiffs, isWorkingPath }","import chokidar from 'chokidar'\nimport { pathExists } from 'fs-extra'\nimport { mapProject, mapDocument, mapMedia, imageFormats, avFormats } from './index.js'\nimport { default as mapFolder } from './mapFolder'\nimport { isWorkingPath } from '../utils-main'\nimport path from 'path'\nimport { isObject } from 'util'\n// import diff from 'deep-diff'\n\n\nlet store = undefined\nlet state = {}\nlet watcher = undefined\nlet changeTimer = undefined\nlet changes = []\n\n/**\n * Chokidar config\n * Docs: https://www.npmjs.com/package/chokidar\n */\nconst config = {\n  ignored: /(^|[\\/\\\\])\\../, // Ignore dotfiles\n  ignoreInitial: true,\n  persistent: true,\n  awaitWriteFinish: {\n    stabilityThreshold: 400,\n    pollInterval: 200\n  }\n}\n\n\n/**\n * Setup watcher module\n * @param {*} projectPath - Path to watch\n */\nasync function setup(storeRef) {\n\n  // Check if undefined\n  if (storeRef == undefined) console.error(\"Store not defined\")\n\n  // Set `store` and `state`\n  store = storeRef\n  state = store.store\n\n  // Listen for state changes. When `projectPath` changes, watch it.\n  store.onDidAnyChange(async (newState, oldState) => {\n\n    state = newState\n\n    if (newState.changed.includes('projectPath')) {\n\n      // If watcher was already active on another directory, close it.\n      if (watcher !== undefined) {\n        await watcher.close()\n      }\n\n      // Watch new path\n      startWatcher(newState.projectPath)\n    }\n  })\n\n  // Start initial watcher\n  startWatcher(state.projectPath)\n}\n\n\n/**\n * Start watcher\n */\nasync function startWatcher(projectPath) {\n\n  // If new projectPath is not valid, return\n  if (!await pathExists(projectPath)) return\n\n  // Start watcher\n  watcher = chokidar.watch(projectPath, config)\n\n  // On any event, track changes. Some events include `stats`.\n  watcher\n    .on('change', (filePath) => trackChanges('change', filePath))\n    .on('add', (filePath) => trackChanges('add', filePath))\n    .on('unlink', (filePath) => trackChanges('unlink', filePath))\n    .on('addDir', (filePath) => trackChanges('addDir', filePath))\n    .on('unlinkDir', (filePath) => trackChanges('unlinkDir', filePath))\n}\n\n\n/**\n * Create a tally of changes as they occur, and once things settle down, evaluate them.We do this because on directory changes in particular, chokidar lists each file modified, _and_ the directory modified. We don't want to trigger a bunch of file change handlers in this scenario, so we need to batch changes, so we can figure out they include directories.\n */\nfunction trackChanges(event, filePath, stats) {\n  const change = { event: event, path: filePath }\n\n  if (stats) change.stats = stats\n  // console.log(event)\n\n  // Make the timer longer if `addDir` event comes through. \n  // If it's too quick, subsequent `add` events are not caught by the timer.\n  const timerDuration = event == 'addDir' ? 500 : 100\n\n  // Either start a new timer, or if one is already active, refresh it.\n  if (\n    changeTimer == undefined ||\n    !changeTimer.hasRef()\n  ) {\n    changes = [change]\n    changeTimer = setTimeout(onChangesFinished, timerDuration, changes);\n  } else {\n    changes.push(change)\n    changeTimer.refresh()\n  }\n}\n\n/**\n * When changes are finished, discern what happened, and dispatch the appropriate actions.\n * @param {*} changes - Array of objects: `{ event: 'add', path: './Notes/mynote.md' }`\n */\nasync function onChangesFinished(changes) {\n\n  // If change events include directories added or removed, remap everything.\n  // Else, sort changes by event (changed, added, removed), and call appro\n  if (\n    changes.some((c) => c.event == 'addDir') ||\n    changes.some((c) => c.event == 'unlinkDir')\n  ) {\n    // A directory was added or removed\n    mapProject(state.projectPath, store)\n  } else {\n    // Files were changed (saved or over-written, added, or removed)\n    // Most commonly, this will be a single file saved.\n    // But in other cases, it may be a mix of events.\n    // Sort the events into arrays then pass them to right handlers.\n    let filesChanged = []\n    let filesAdded = []\n    let filesUnlinked = []\n    for (var c of changes) {\n      switch (c.event) {\n        case 'change':\n          filesChanged.push(c)\n          break\n        case 'add':\n          filesAdded.push(c)\n          break\n        case 'unlink':\n          filesUnlinked.push(c)\n          break\n      }\n    }\n    if (filesChanged.length > 0) onFilesChanged(filesChanged)\n    if (filesAdded.length > 0) onFilesAdded(filesAdded)\n    if (filesUnlinked.length > 0) onFilesUnlinked(filesUnlinked)\n  }\n}\n\nasync function onFilesChanged(filesChanged) {\n\n  let documents = []\n  let media = []\n\n  await Promise.all(\n    filesChanged.map(async (f) => {\n\n      const ext = path.extname(f.path)\n      const parentPath = path.dirname(f.path)\n      const parentId = state.folders.find((folder) => folder.path == parentPath).id\n\n      if (ext == '.md') {\n        documents.push(await mapDocument(f.path, f.stats, parentId))\n      } else if (imageFormats.includes(ext) || avFormats.includes(ext)) {\n        media.push(await mapMedia(f.path, f.stats, parentId, ext))\n      }\n\n    })\n  )\n\n  // Dispatch results to store\n  if (documents.length > 0) {\n    store.dispatch({ type: 'UPDATE_DOCUMENTS', documents: documents })\n  }\n\n  if (media.length > 0) {\n    store.dispatch({ type: 'UPDATE_MEDIA', media: media })\n  }\n}\n\nasync function onFilesAdded(filesAdded) {\n\n  let documents = []\n  let media = []\n\n  await Promise.all(\n    filesAdded.map(async (f) => {\n\n      const ext = path.extname(f.path)\n      const parentPath = path.dirname(f.path)\n      const parentId = state.folders.find((folder) => folder.path == parentPath).id\n\n      if (ext == '.md') {\n        documents.push(await mapDocument(f.path, f.stats, parentId))\n      } else if (imageFormats.includes(ext) || avFormats.includes(ext)) {\n        media.push(await mapMedia(f.path, f.stats, parentId, ext))\n      }\n\n    })\n  )\n\n  // Dispatch results to store\n  if (documents.length > 0) {\n    store.dispatch({ type: 'ADD_DOCUMENTS', documents: documents })\n  }\n\n  if (media.length > 0) {\n    store.dispatch({ type: 'ADD_MEDIA', media: media })\n  }\n}\n\nasync function onFilesUnlinked(filesUnlinked) {\n  let documentPaths = []\n  let mediaPaths = []\n\n  await Promise.all(\n    filesUnlinked.map(async (f) => {\n\n      const ext = path.extname(f.path)\n\n      if (ext == '.md') {\n        documentPaths.push(f.path)\n      } else if (imageFormats.includes(ext) || avFormats.includes(ext)) {\n        mediaPaths.push(f.path)\n      }\n    })\n  )\n\n  // Dispatch results to store\n  if (documentPaths.length > 0) {\n    store.dispatch({ type: 'REMOVE_DOCUMENTS', documentPaths: documentPaths })\n  }\n\n  if (mediaPaths.length > 0) {\n    store.dispatch({ type: 'REMOVE_MEDIA', mediaPaths: mediaPaths })\n  }\n}\n\n\nexport { setup }","const Document = {\n  title: '',\n  path: '',\n  id: '',\n  parentId: '',\n  modified: '',\n  created: '',\n  excerpt: '',\n  tags: [],\n}\n\nexport { Document }","const Folder = {\n  name: '',\n  path: '',\n  id: '',\n  parentId: '',\n  modified: '',\n  childFileCount: 0,\n  childFolderCount: 0,\n}\n\nexport { Folder }","const Media = {\n  filetype: '',\n  path: '',\n  id: '',\n  parentId: '',\n  modified: '',\n  created: '',\n}\n\nexport { Media }","import { stat } from 'fs-extra'\nimport matter from 'gray-matter'\nimport removeMd from 'remove-markdown'\nimport { Document } from './index.js'\nimport path from 'path'\n\n/**\n * For specified path, return document details\n */\nexport default async function (filePath, stats = undefined, parentId = '') {\n\n\tconst doc = Object.assign({}, Document)\n\n\tif (stats == undefined) {\n\t\tstats = await stat(filePath)\n\t}\n\n\tdoc.path = filePath\n\tdoc.id = `doc-${stats.ino}`\n\tdoc.parentId = parentId\n\tdoc.modified = stats.mtime.toISOString()\n\tdoc.created = stats.birthtime.toISOString()\n\n\t// Get front matter\n\tconst gm = matter.read(filePath)\n\n\t// Set excerpt\n\t// `md.contents` is the original input string passed to gray-matter, stripped of front matter.\n\tdoc.excerpt = getExcerpt(gm.content)\n\n\t// Set fields from front matter (if it exists)\n\t// gray-matter `isEmpty` property returns \"true if front-matter is empty\".\n\tconst hasFrontMatter = !gm.isEmpty\n\tif (hasFrontMatter) {\n\t\t// If `tags` exists in front matter, use it. Else, set as empty `[]`.\n\t\tdoc.tags = gm.data.hasOwnProperty('tags') ? gm.data.tags : []\n\t}\n\n\t// Set title. E.g. \"Sea Level Rise\"\n\tdoc.title = getTitle(gm, path.basename(filePath))\n\n\treturn doc\n\n\t// if (oldVersion !== undefined) {\n\t//   const lhs = Object.assign({}, oldVersion)\n\t//   const rhs = file\n\t//   diff.observableDiff(lhs, rhs, (d) => {\n\t//     if (d.kind !== 'D') {\n\t//       diff.applyChange(lhs, rhs, d)\n\t//     }\n\t//   })\n\t//   return lhs\n\t// } else {\n\t// }\n}\n\n/**\n * Set title, in following order of preference:\n * 1. From first h1 in content\n * 2. From `title` field of front matter\n * 3. From filename, minus extension\n */\nfunction getTitle(graymatter, filename) {\n\n\tlet titleFromH1 = graymatter.content.match(/^# (.*)$/m)\n\tif (titleFromH1) {\n\t\treturn titleFromH1[1]\n\t} else if (graymatter.data.hasOwnProperty('title')) {\n\t\treturn graymatter.data.title\n\t} else {\n\t\treturn filename.slice(0, filename.lastIndexOf('.'))\n\t}\n}\n\n/**\n * Return excerpt from content, stripped of markdown characters.\n * Per: https://github.com/jonschlinkert/gray-matter#optionsexcerpt\n * @param {*} file \n */\nfunction getExcerpt(content) {\n\n\t// Remove h1, if it exists. Then trim to 200 characters.\n\tlet excerpt = content\n\t\t.replace(/^# (.*)\\n/gm, '')\n\t\t.substring(0, 400)\n\n\t// Remove markdown formatting. Start with remove-markdown rules.\n\t// Per: https://github.com/stiang/remove-markdown/blob/master/index.js\n\t// Then add whatever additional changes I want (e.g. new lines).\n\texcerpt = removeMd(excerpt)\n\t\t.replace(/^> /gm, '')         // Block quotes\n\t\t.replace(/^\\n/gm, '')         // New lines at start of line (usually doc)\n\t\t.replace(/\\n/gm, ' ')         // New lines in-line (replace with spaces)\n\t\t.replace(/\\t/gm, ' ')         // Artifact left from list replacement\n\t\t.replace(/\\[@.*?\\]/gm, '')    // Citations\n\t\t.replace(/:::.*?:::/gm, ' ')  // Bracketed spans\n\t\t.replace(/\\s{2,}/gm, ' ')     // Extra spaces\n\t\t.substring(0, 200)            // Trim to 200 characters\n\n\treturn excerpt\n}","import { stat } from 'fs-extra'\nimport { Media } from './index.js'\nimport path from 'path'\n\n\n/**\n * For specified path, return document details\n */\nexport default async function (filePath, stats = undefined, parentId = '', extension = undefined) {\n\n\tconst media = Object.assign({}, Media)\n\n\tif (stats == undefined) {\n\t\tstats = await stat(filePath)\n\t}\n\n  media.filetype = extension == undefined ? path.extname(filePath) : extension\n\tmedia.path = filePath\n\tmedia.id = `media-${stats.ino}`\n\tmedia.parentId = parentId\n\tmedia.modified = stats.mtime.toISOString()\n\tmedia.created = stats.birthtime.toISOString()\n\n\treturn media\n}","import { mapFolder } from './index.js'\nimport { isWorkingPath } from '../utils-main'\n\n/**\n * Map project path recursively and dispatch results to store\n * @param {*} projectPath \n */\nexport default async function(projectPath, store) {\n\n  if (projectPath == undefined || store == undefined) {\n    console.error('projectPath or store is undefined')\n  }\n\n  await isWorkingPath(projectPath)\n  if (!isWorkingPath) {\n    console.error('projectPath is not valid')\n  }\n  \n  try {\n\n    // Map project path, recursively\n    const { folders, documents, media } = await mapFolder(projectPath, undefined, '', true)\n    \n    // Dispatch results to store\n    store.dispatch({\n      type: 'MAP_PROJECT_CONTENTS',\n      folders: folders,\n      documents: documents,\n      media: media,\n    })\n\n  } catch (err) {\n    console.log(err)\n  }\n}","export const imageFormats = [\n  '.apng', '.bmp', '.gif', '.jpg', '.jpeg', '.jfif', '.pjpeg', '.pjp', '.png', '.svg', '.tif', '.tiff', '.webp'\n]\n\nexport const avFormats = [\n  '.flac', '.mp4', '.m4a', '.mp3', '.ogv', '.ogm', '.ogg', '.oga', '.opus', '.webm'\n]","import { stat } from 'fs-extra'\nimport matter from 'gray-matter'\nimport removeMd from 'remove-markdown'\n\nexport default async function (path, data, stats) {\n\n  const file = {}\n  \n  // Set path\n  file.path = path\n\n\t// Get stats\n\tif (stats == undefined) {\n    stats = await stat(path)\n  }\n  \n\t// Set fields from stats\n\tfile.id = `file-${stats.ino}`\n\tfile.modified = stats.mtime.toISOString()\n\tfile.created = stats.birthtime.toISOString()\n\n\t// Get front matter\n\tconst gm = matter(data)\n\n\t// Set excerpt\n\t// `md.contents` is the original input string passed to gray-matter, stripped of front matter.\n\tfile.excerpt = getExcerpt(gm.content)\n\n\t// Set fields from front matter (if it exists)\n\t// gray-matter `isEmpty` property returns \"true if front-matter is empty\".\n\tif (!gm.isEmpty) {\n\t\t// If `tags` exists in front matter, use it. Else, set as empty `[]`.\n\t\tfile.tags = gm.data.hasOwnProperty('tags') ? gm.data.tags : []\n\t}\n\n\t// Set name (includes extension). E.g. \"sealevel.md\"\n\tfile.name = path.substring(path.lastIndexOf('/') + 1)\n\n\t// Set title. E.g. \"Sea Level Rise\"\n\tfile.title = getTitle(gm, file.name)\n\n\treturn file\n}\n\n/**\n * Set title, in following order of preference:\n * 1. From first h1 in content\n * 2. From `title` field of front matter\n * 3. From filename, minus extension\n */\nfunction getTitle(graymatter, filename) {\n\n\tlet titleFromH1 = graymatter.content.match(/^# (.*)$/m)\n\tif (titleFromH1) {\n\t\treturn titleFromH1[1]\n\t} else if (graymatter.data.hasOwnProperty('title')) {\n\t\treturn graymatter.data.title\n\t} else {\n\t\treturn filename.slice(0, filename.lastIndexOf('.'))\n\t}\n}\n\n/**\n * Return excerpt from content, stripped of markdown characters.\n * Per: https://github.com/jonschlinkert/gray-matter#optionsexcerpt\n * @param {*} file \n */\nfunction getExcerpt(content) {\n\n\t// Remove h1, if it exists. Then trim to 200 characters.\n\tlet excerpt = content\n\t\t.replace(/^# (.*)\\n/gm, '')\n\t\t.substring(0, 400)\n\n\t// Remove markdown formatting. Start with remove-markdown rules.\n\t// Per: https://github.com/stiang/remove-markdown/blob/master/index.js\n\t// Then add whatever additional changes I want (e.g. new lines).\n\texcerpt = removeMd(excerpt)\n\t\t.replace(/^> /gm, '')         // Block quotes\n\t\t.replace(/^\\n/gm, '')         // New lines at start of line (usually doc)\n\t\t.replace(/\\n/gm, ' ')         // New lines in-line (replace with spaces)\n\t\t.replace(/\\t/gm, ' ')         // Artifact left from list replacement\n\t\t.replace(/\\[@.*?\\]/gm, '')    // Citations\n\t\t.replace(/:::.*?:::/gm, ' ')  // Bracketed spans\n\t\t.replace(/\\s{2,}/gm, ' ')     // Extra spaces\n\t\t.substring(0, 200)            // Trim to 200 characters\n\n\treturn excerpt\n}","import { writeFile } from 'fs-extra'\nimport { getFileMetadata } from '../contents/index.js'\n\nexport default async function (path, data) {\n\ttry {\n\t\tawait writeFile(path, data, 'utf8')\n\t\tconst metadata = await getFileMetadata(path, data)\n\t\treturn {\n\t\t\ttype: 'SAVE_FILE_SUCCESS',\n\t\t\tpath: path,\n\t\t\tmetadata: metadata\n\t\t}\n\t} catch (err) {\n\t\treturn {\n\t\t\ttype: 'SAVE_FILE_FAIL',\n\t\t\terr: err\n\t\t}\n\t}\n}","import { BrowserWindow, dialog } from 'electron'\n\nexport default async function () {\n\n  // console.log(BrowserWindow.getFocusedWindow())\n\n  const win = BrowserWindow.getFocusedWindow()\n\n  const selection = await dialog.showOpenDialog(win, {\n    title: 'Select Project Folder',\n    properties: ['openDirectory', 'createDirectory']\n  })\n\n  if (!selection.canceled) {\n    return { type: 'SET_PROJECTPATH_SUCCESS', path: selection.filePaths[0] }\n  } else {\n    return { type: 'SET_PROJECTPATH_FAIL' }\n  }\n}","// External dependencies\nimport { app, BrowserWindow, clipboard, dialog, ipcMain } from 'electron'\nimport path from 'path'\n// import electronLocalshortcut from 'electron-localshortcut'\nimport { readFile, pathExists } from 'fs-extra'\n\n// Bundled dependencies\nimport { GambierStore } from './GambierStore'\nimport * as menuBar from './menuBar'\nimport { saveFile, deleteFile, deleteFiles, setProjectPath } from './actions/index.js'\nimport { watcher, mapProject } from './contents/index.js'\n\n// Dev only\n// import colors from 'colors'\n\n// -------- Variables -------- //\n\n// Keep a global reference of the window object, if you don't, the window will be closed automatically when the JavaScript object is garbage collected.\nlet win = undefined\nlet store = undefined\n\n// -------- Process variables -------- //\n\nprocess.env.ELECTRON_DISABLE_SECURITY_WARNINGS = true\n\n// -------- Reload -------- //\n\n// Not sure how this works with our packaged build. Want it for dev, but not distribution.\nconst watchAndReload = [\n  path.join(__dirname, '**/*.js'),\n  path.join(__dirname, '**/*.html'),\n  path.join(__dirname, '**/*.css'),\n  path.join(__dirname, '**/*.xml')\n  // 'main.js',\n  // '**/*.js',\n  // '**/*.html',\n  // '**/*.css',\n  // '**/*.xml',\n  // '**/*.png',\n  // '**/*.jpg',\n]\n\nrequire('electron-reload')(watchAndReload, {\n  // awaitWriteFinish: {\n  //   stabilityThreshold: 10,\n  //   pollInterval: 50\n  // },\n  electron: path.join(__dirname, '../node_modules', '.bin', 'electron'),\n  // argv: ['--inspect=5858'],\n})\n\nconsole.log('- - - - - - - - - - - - - - -')\nconsole.log(`Setup`, `(Main.js)`)\n\n\n\n// -------- Setup -------- //\n\n// Create store\nstore = new GambierStore()\n\n// Setup store change listeners\nstore.onDidAnyChange((newState, oldState) => {\n  if (win !== undefined) {\n    win.webContents.send('stateChanged', newState, oldState)\n  }\n})\n\n// TEMP\nstore.set('projectPath', '/Users/josh/Documents/Climate research/GitHub/climate-research/src/Notes/Abicus/Arsenal/Whisper')\n\n// Do initial project map, if projectPath has been set)\nif (store.store.projectPath !== '') {\n  mapProject(store.store.projectPath, store)\n}\n\n// Create watcher\nwatcher.setup(store)\n\n\n// -------- Create window -------- //\n\nfunction createWindow() {\n\n  win = new BrowserWindow({\n    show: true,\n    width: 1600,\n    height: 900,\n    vibrancy: 'sidebar',\n    webPreferences: {\n      scrollBounce: false,\n      // Security\n      allowRunningInsecureContent: false,\n      contextIsolation: true,\n      enableRemoteModule: false,\n      nativeWindowOpen: false,\n      nodeIntegration: false,\n      nodeIntegrationInWorker: false,\n      nodeIntegrationInSubFrames: false,\n      safeDialogs: true,\n      sandbox: true,\n      webSecurity: true,\n      webviewTag: false,\n      // Preload\n      preload: path.join(__dirname, 'js/preload.js')\n    }\n  })\n\n  // Open DevTools\n  win.webContents.openDevTools();\n\n  // Load index.html\n  win.loadFile(path.join(__dirname, 'index.html'))\n\n  // Setup menu bar\n  menuBar.setup(store)\n\n  // Send state to render process once dom is ready\n  // win.once('ready-to-show', () => {\n  // })\n}\n\n\n// -------- Kickoff -------- //\n\n// Set this to shut up console warnings re: deprecated default. If not set, it defaults to `false`, and console then warns us it will default `true` as of Electron 9. Per: https://github.com/electron/electron/issues/18397\napp.allowRendererProcessReuse = true\n\napp.whenReady().then(createWindow)\n\n\n\n// -------- IPC: Send/Receive -------- //\n\nipcMain.on('showWindow', (event) => {\n  win.show()\n})\n\nipcMain.on('dispatch', async (event, action) => {\n  switch (action.type) {\n    case ('LOAD_PATH_IN_EDITOR'):\n      store.dispatch(action)\n    case ('SET_PROJECT_PATH'):\n      store.dispatch(await setProjectPath())\n      break\n    case ('SAVE_FILE'):\n      store.dispatch(await saveFile(action.path, action.data))\n      break\n    case ('DELETE_FILE'):\n      store.dispatch(await deleteFile(action.path))\n      break\n    case ('DELETE_FILES'):\n      store.dispatch(await deleteFiles(action.paths))\n      break\n    case ('SELECT_SIDEBAR_ITEM'):\n      store.dispatch(action)\n      break\n    case ('TOGGLE_SIDEBAR_ITEM_EXPANDED'):\n      store.dispatch(action)\n      break\n    case ('SET_LAYOUT_FOCUS'):\n      store.dispatch(action)\n      break\n    case ('SAVE_SIDEBAR_FILE_SELECTION'):\n      store.dispatch(action)\n      break\n    case ('SAVE_SIDEBAR_SCROLL_POSITION'):\n      store.dispatch(action)\n      break\n  }\n})\n\n\n// -------- IPC: Invoke -------- //\n\nipcMain.handle('ifPathExists', async (event, filepath) => {\n  const exists = await pathExists(filepath)\n  return { path: filepath, exists: exists }\n})\n\nipcMain.handle('getState', async (event) => {\n  return store.store\n})\n\nipcMain.handle('getCitations', (event) => {\n  return projectCitations.getCitations()\n})\n\nipcMain.handle('getFileByPath', async (event, filePath, encoding) => {\n\n  // Load file and return\n  let file = await readFile(filePath, encoding)\n  return file\n})\n\nipcMain.handle('getFileById', async (event, id, encoding) => {\n\n  // Get path of file with matching id\n  const filePath = store.store.contents.find((f) => f.id == id).path\n\n  // Load file and return\n  let file = await readFile(filePath, encoding)\n  return file\n})\n\nipcMain.handle('pathJoin', async (event, path1, path2) => {\n  return path.join(path1, path2)\n})\n\nipcMain.handle('getHTMLFromClipboard', (event) => {\n  return clipboard.readHTML()\n})\n\nipcMain.handle('getFormatOfClipboard', (event) => {\n  return clipboard.availableFormats()\n})"],"names":["Menu","MenuItem","app","remove","stat","readdir","pathExists","store","state","setup","getExcerpt","getTitle","writeFile","BrowserWindow","dialog","watcher.setup","menuBar.setup","ipcMain","readFile","clipboard"],"mappings":"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;AACA,EAAE,KAAK,EAAE;AACT,IAAI,IAAI,EAAE,OAAO;AACjB,IAAI,OAAO,EAAE,EAAE;AACf,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnPA,IAAI,QAAQ,GAAG,GAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa,CAAC,QAAQ,EAAE,YAAY,EAAE;AAC/C;AACA,EAAE,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK;AAC7B,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,QAAQ,EAAE;AAC5B,MAAM,CAAC,CAAC,YAAY,CAAC,cAAc,GAAG,aAAY;AAClD,KAAK;AACL,IAAI,OAAO,CAAC;AACZ,GAAG,CAAC;AACJ,CAAC;AA6DD;AACO,SAAS,eAAe,CAAC,QAAQ,EAAE;AAC1C;AACA;AACA,EAAE,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAK;AACnC;AACA;AACA,EAAE,MAAM,UAAU,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,QAAQ,IAAI,EAAE,EAAC;AACnE;AACA;AACA,EAAE,QAAQ,GAAG,aAAa,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE,EAAC;AACnD;AACA;AACA,EAAE,OAAO,QAAQ;AACjB;;AC5FA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc,CAA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AAG,MAAM,CAAC,cAAa;AACtD,MAAM,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,EAAC;AAC5C,MAAM,IAAI,WAAW,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;AAChD,QAAQ,cAAc,CAAC,QAAQ,EAAE,WAAW,EAAC;AAC7C,QAAQ,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,EAAC;AACxC,OAAO;AACP,MAAM,KAAK;AACX,KAAK;AACL;AACA;AACA,IAAI,KAAK,8BAA8B,EAAE;AACzC,MAAM,MAAM,WAAW,GAAG,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,aAAa,EAAC;AACtF,MAAM,WAAW,CAAC,kBAAkB,GAAG,MAAM,CAAC,mBAAkB;AAChE,MAAM,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,4BAA4B,EAAC;AACzD,MAAM,KAAK;AACX,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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"}