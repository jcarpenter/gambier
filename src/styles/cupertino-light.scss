@use "_helpers" as *;
@use "_includes/base" as *;
@use "_includes/mac-colors-light" as *;
@use "_includes/mac-images" as *;
@use "_includes/mac-misc" as *;
@use "sass:color";

body {

  /* --------------------------------- UI -------------------------------- */


  /* --------------------------------- Editor --------------------------------- */
  
  --editor-default-text-color:    hsl(0, 0%, 25%);
  --editor-background-color:      hsl(0, 0%, 97%);
  --editor-border-radius:           5px;
  --editor-header-height:           2.25em;
  --editor-side-padding:            4em;
  
  --mark-border-radius:              0.2rem;
  --mark-border-width:               0px;

  --citation-mark:                  #{accentColor($lightness: -20%)};
  --citation-mark-bg:               #{accentColor($alpha: -0.8)};
  --citation-mark-border:           #{accentColor($lightness: -30%, $alpha: -0.9)};
  --citation-mark-highlight:      white;
  --citation-mark-highlight-bg:     #{accentColor()};
  --citation-source:                #{accentColor($lightness: -20%)};
  --citation-source-bg:             #{accentColor($alpha: -0.95)};
  --citation-source-md:             #{accentColor($lightness: -20%, $alpha: -0.4)};

  $code: hsl(0, 0%, 33%);
  --code-source:                    #{color.adjust($code, $lightness: -15%)};
  --code-source-bg:                 #{color.adjust($code, $alpha: -0.9)};
  --code-source-md:                 #{color.adjust($code, $lightness: -10%, $alpha: -0.6)};
  --code-borderRadius:              2px;

  $emphasis: hsl(0, 0%, 24%);
  --emphasis:                       #{$emphasis};
  --emphasis-md:                    #{color.adjust($emphasis, $alpha: -0.6)};

  --fencedcodeblock-bg:             #{accentColor($alpha: -0.93)};
  --fencedcodeblock-md:             #{accentColor($sat: -10%, $alpha: -0.2)};
  --fencedcodeblock-options-label:  #{foregroundColor(0.25)};
  --fencedcodeblock-borderRadius:   0.2em;
  --fencedcodeblock-syntax-icon:    url(img/ui/chevron.down.small.heavy.svg);

  --footnote-mark:                  #{accentColor($lightness: -20%)};
  --footnote-mark-bg:               #{accentColor($alpha: -0.8)};
  --footnote-mark-border:           #{accentColor($lightness: -30%, $alpha: -0.9)};
  --footnote-mark-highlight:      white;
  --footnote-mark-highlight-bg:     #{accentColor()};
  --footnote-source:                #{accentColor()};
  --footnote-source-bg:             #{accentColor($alpha: -0.95)};
  --footnote-source-md:             #{accentColor($alpha: -0.4)};
  
  --figure-bg:                      #{accentColor($alpha: -0.93)};
  --figure-caption:                 #{accentColor($lightness: -10%, $sat: -20%)};
  --figure-options-label:           #{foregroundColor(0.4)};
  --figure-thumb-bg:                transparent;
  --figure-thumb-borderColor:       #{accentColor()};
  --figure-thumb-borderRadius:      3.5px;
  --figure-thumb-borderWidth:       1px;

  --frontmatter-bg:                 #{foregroundColor(0.03)};
  --frontmatter-md:                 #{foregroundColor(0.4)};
  --frontmatter-dividers:           #{foregroundColor(0.03)};
  --frontmatter-border-width:       0px;
  --frontmatter-border:             transparent;
  --frontmatter-borderRadius:       0.3em;

  --h1:                             #{foregroundColor()};
  --h2:                             #{foregroundColor(0.8)};
  --h3:                             #{foregroundColor(0.8)};
  --h4:                             #{foregroundColor(0.8)};
  --h5:                             #{foregroundColor(0.8)};
  --h6:                             #{foregroundColor(0.8)};
  --hr-bg:                        hsla(0, 0%, 78%, 0.2);

  --image-mark:                     #{accentColor($lightness: -20%)};
  --image-mark-bg:                  #{accentColor($alpha: -0.8)};
  --image-mark-border:              #{accentColor($lightness: -30%, $alpha: -0.9)};
  --image-mark-highlight:         white;
  --image-mark-highlight-bg:        #{accentColor()};
  --image-source:                   #{accentColor($lightness: -15%)};
  --image-source-url:               #{accentColor($lightness: -15%, $alpha: -0.2)};
  --image-source-title:             #{accentColor($lightness: -15%, $alpha: -0.4)};
  --image-source-bg:                #{accentColor($alpha: 0.05)};
  --image-source-md:                #{accentColor($lightness: -20%, $alpha: -0.4)};
  
  // Applies to url-in-brackets and email-in-brackets
  --in-brackets:                    #{accentColor($lightness: -10%)};
  --in-brackets-md:                 #{accentColor($alpha: -0.4)};
  --in-brackets-underline:          transparent;
  --in-brackets-hover-underline:    #{accentColor($lightness: -10%, $alpha: -0.2)};

  $link: hsl(0, 0%, 12%);
  --link-mark:                      #{$link};
  --link-mark-underline:            #{color.adjust($link, $alpha: -0.6)};
  // --link-mark-bg:                #{color.adjust($link, $alpha: -0.9)};
  // --link-mark-border:            #{color.adjust($link, $lightness: -20%, $alpha: -0.9)};
  // --link-mark-border-width:      1px;
  --link-mark-highlight:          white;
  --link-mark-highlight-bg:         #{accentColor()};
  --link-mark-border-radius:         3px;
  --link-source:                    #{$link};
  --link-source-url:                #{color.adjust($link, $alpha: -0.2)};
  --link-source-title:              #{color.adjust($link, $alpha: -0.4)};
  --link-source-bg:                 transparent;
  --link-source-md:                 #{color.adjust($link, $alpha: -0.4)};
  --link-ref-definition-bg:         #{color.adjust($link, $alpha: -0.9)};

  --list-marker:                    #{accentColor()};
  --list-indentation:               1em;

  --texmath-inline:               hsla(0, 0%, 84%, 0.5);
  --texmath-display:              hsla(0, 0%, 84%, 0.5);

  --quote:                          #{foregroundColor(0.6)};
  --quote-md:                       #{accentColor()};
  --quote-indent:                   2em;
  --quote-border-bg:                transparent;
  --quote-border-width:             0.6em;

  $strikethrough: #3d3d3d;
  --strikethrough:                  #{$strikethrough};
  --strikethrough-line:             hsla(0, 0%, 0%, 0.5);
  --strikethrough-md:               #{color.adjust($strikethrough, $alpha: -0.4)};

  $strong: #3d3d3d;
  --strong:                         #{$strong};
  --strong-md:                      #{color.adjust($strong, $alpha: -0.5)};

  --task-mark-icon:                 url(/img/ui/checkmark.small.heavy.svg);
  --task-mark-icon-bg:            white;
  --task-mark-open-bg:              transparent;
  --task-mark-open-border:          #{foregroundColor(0.3)};
  --task-mark-closed-bg:            #{accentColor()};
  --task-mark-closed-border:        #{accentColor()};
  --task-mark-bg:                   #{accentColor($alpha: -0.8)};
  --task-mark-border:               #{accentColor($lightness: -30%, $alpha: -0.9)};
  --task-mark-highlight:            white;
  --task-mark-highlight-bg:         #{accentColor()};
  --task-source:                    #{accentColor($lightness: -20%)};
  --task-source-bg:                 #{accentColor($alpha: 0.05)};
  --task-source-md:                 #{accentColor($lightness: -20%, $alpha: -0.4)};
}